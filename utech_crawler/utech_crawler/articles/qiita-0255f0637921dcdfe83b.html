<!DOCTYPE html><html xmlns:og="http://ogp.me/ns#"><head><meta charset="UTF-8" /><title>箱で考えるFunctor、ApplicativeそしてMonad - Qiita</title><meta content="width=device-width,initial-scale=1" name="viewport" /><meta content="モナドについて勉強していて見つけた英語記事を翻訳してみました。
誤訳等あれば編集リクエストやコメントください 

原文: Functors, Applicatives, And Monads In Pictures - adit.io



ここに単純な値(value)があります。




Prelude&gt; 2
2


そして、私たちはこの値に関数を適用する方法を知っています。




Prelude&gt; (+3) 2
5


とても簡単ですね。それでは、ある状態(con..." name="description" /><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta content="suin" name="twitter:creator" /><link href="https://plus.google.com/111001038770897149116" rel="author" /><meta content="箱で考えるFunctor、ApplicativeそしてMonad - Qiita" property="og:title" /><meta content="article" property="og:type" /><meta content="http://qiita.com/suin/items/0255f0637921dcdfe83b" property="og:url" /><meta content="http://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png" property="og:image" /><meta content="
モナドについて勉強していて見つけた英語記事を翻訳してみました。
誤訳等あれば編集リクエストやコメントください :bow:

原文: [Functors, Applicatives, And Monads In Pictures - ..." property="og:description" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><link rel="shortcut icon" type="image/x-icon" href="http://cdn.qiita.com/assets/favicons/public/production-4ff10c1e1e2b5fcb353ff9cafdd56c70.ico" /><link rel="apple-touch-icon" type="image/png" href="http://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link rel="stylesheet" media="all" href="http://cdn.qiita.com/assets/public-e8d29e8ff1879118096f0f5877946857.min.css" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="KgGw2+nG23RkGNBjF2ODPPP/jfmdrHiOPV8Pz+rZMvhEgyuDcujiP5vLZX9nlj1lk7ipSgpoInkBgQY0C9c8Pg==" /></head><body class="without-js" id=""><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TBQWPN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>
  document.body.className = document.body.className.replace('without-js', '') + ' with-js';
  window.Qiita = {"asset_host":"cdn.qiita.com","TLD":"com","controller_path":"public/items","controller_action":"public/items#show","controller":"items","action":"show","env":"production","flash":{},"is_landing_page":false,"is_team_page":false,"root_domain":"qiita.com","variant":null,"config":{"mixpanel":{"career":"dd35af27e959781713d63fd7ca898a8d","per_team":"c0a2116368b33b44b5029ebd2cc9b094","public":"be87616606b0e26a87689099aab2c4e5","team":"b7c0342acba2dbc8742484d98788efb3"},"default_locale":"ja","locale":"en"},"team":null,"user":null,"GIT_BRANCH":null,"DEBUG":false};

</script>
<div class="headerContainer headerContainer-public" role="navigation"><div data-react-class="T.HeaderContainer" data-react-props="{&quot;user&quot;:null,&quot;team&quot;:null,&quot;news&quot;:{&quot;type&quot;:&quot;Hot&quot;,&quot;content&quot;:&quot;Markdownによる情報共有サービス、Qiita:Team&quot;,&quot;url&quot;:&quot;https://teams.qiita.com?utm_source=qiita\u0026utm_medium=header_news&quot;},&quot;initial_unread_count&quot;:null,&quot;siteid_image&quot;:&quot;http://cdn.qiita.com/siteid-reverse.png&quot;,&quot;is_team_page&quot;:false,&quot;on_team_setting&quot;:false,&quot;show_post_menu&quot;:true,&quot;show_search_menu&quot;:true,&quot;is_fluid&quot;:false,&quot;locale&quot;:&quot;en&quot;}"></div></div><div id="main"><ol class="itemBreadcrumbs" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/"><span itemprop="name">Qiita</span></a><meta content="1" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/items"><span itemprop="name">Items</span></a><meta content="2" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/tags/Haskell"><span itemprop="name">Haskell</span></a><meta content="3" itemprop="position" /></li></ol><article itemscope="" itemtype="http://schema.org/Article"><div class="ArticleMainHeader "><div class="container"></div><div class="container"><div class="row s-flex-align-center"><div class="col-sm-9"><h1 class="ArticleMainHeader__title">箱で考えるFunctor、ApplicativeそしてMonad</h1><ul class="TagList"><li class="TagList__item" data-count="1345"><a class="u-link-unstyled TagList__label" href="/tags/Haskell"><img alt="Haskell" class="TagList__icon" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/373b3b0595a92712b2a45616f53dae97bc1a04e5/medium.jpg?1387913155" /><span>Haskell</span></a></li></ul></div><div class="col-sm-3"><div class="itemsShowHeaderStock"><ul class="list-unstyled itemsShowHeaderStock_statusList"><li><div class="itemsShowHeaderStock_count stock"><span class="fa fa-thumbs-up"></span><span class="js-likecount">461</span></div><div class="itemsShowHeaderStock_countText">Like</div></li><li><div class="itemsShowHeaderStock_count" content="1 UserComments" itemprop="interactionCount"><span class="fa fa-comment"></span>1</div><div class="itemsShowHeaderStock_countText">Comment</div></li></ul></div><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:461,&quot;uuid&quot;:&quot;0255f0637921dcdfe83b&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-header&quot;}"></div><ul class="list-inline ArticleMainHeader__users"><li class="js-hovercard" data-hovercard-target-name="reoring"><a itemprop="url" href="/reoring"><img alt="reoring" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/7565/profile-images/1473680619" /></a></li><li class="js-hovercard" data-hovercard-target-name="mono0926"><a itemprop="url" href="/mono0926"><img alt="mono0926" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/19398/profile-images/1473682701" /></a></li><li class="js-hovercard" data-hovercard-target-name="liveinwood"><a itemprop="url" href="/liveinwood"><img alt="liveinwood" class="thumb thumb--xs" src="https://gravatar.com/avatar/fd1b6ea9b7b3f46de5da87a2dabd304f?d=https%3A%2F%2Fidenticons.github.com%2F8bc232144688fdecf1de7d358e2946a8.png&amp;r=x" /></a></li><li class="js-hovercard" data-hovercard-target-name="sbjib"><a itemprop="url" href="/sbjib"><img alt="sbjib" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/19630/profile-images/1473682775" /></a></li><li class="js-hovercard" data-hovercard-target-name="maginemu"><a itemprop="url" href="/maginemu"><img alt="maginemu" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/470/profile-images/1473680914" /></a></li><li class="js-hovercard" data-hovercard-target-name="tekkoc"><a itemprop="url" href="/tekkoc"><img alt="tekkoc" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/11916/profile-images/1473682212" /></a></li><li class="js-hovercard" data-hovercard-target-name="sonoisa"><a itemprop="url" href="/sonoisa"><img alt="sonoisa" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/26062/profile-images/1473684485" /></a></li><li class="js-hovercard" data-hovercard-target-name="yabuchin_y"><a itemprop="url" href="/yabuchin_y"><img alt="yabuchin_y" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/2584/profile-images/1473681752" /></a></li><li class="js-hovercard" data-hovercard-target-name="tetsuzin"><a itemprop="url" href="/tetsuzin"><img alt="tetsuzin" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/4146/profile-images/1473683812" /></a></li><li class="js-hovercard" data-hovercard-target-name="crispy"><a itemprop="url" href="/crispy"><img alt="crispy" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/29365/profile-images/1473685328" /></a></li><li><a href="/suin/items/0255f0637921dcdfe83b/likers"><span class="fa fa-ellipsis-h"></span></a></li></ul></div></div></div></div><div class="ArticleAsideHeader"><div class="container"><div class="u-flex u-space-between"><div class="u-flex u-flex-wrap"><div class="u-flex u-align-center s-pdv-5 u-flex-wrap"><div class="ArticleAsideHeader__author"><a href="/suin"><img class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/889/profile-images/1473682133" alt="1473682133" /></a> <a class="u-link-unstyled" href="/suin">suin</a> </div><div class="ArticleAsideHeader__date"><span data-toggle="tooltip" title="posted at 2013-11-25">Edited at <time datetime="2016-03-27T15:43:41+09:00" itemprop="dateModified">2016-03-27</time></span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"><div class="ArticleAsideHeader__revision"> <a data-toggle="tooltip" title="Revisions" href="/suin/items/0255f0637921dcdfe83b/revisions"><span class="fa fa-history"></span></a><span class="ArticleAsideHeader__revisionCount">4</span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"></div></div><div class="u-flex u-align-center s-flex-justiry-between s-pdv-5 u-shrink-0"><div class="ArticleAsideHeader__stock"><div class="js-stockbutton" data-position="top" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h fa-lg"></span></a><ul class="dropdown-menu dropdown-menu-right"><li class="dropdown__item--mobile"><a href="/suin/items/0255f0637921dcdfe83b/revisions"><span class="fa fa-fw fa-history"></span> Revisions<span>(4)</span></a></li><li><a href="/suin/items/0255f0637921dcdfe83b.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><span class="fa fa-fw fa-flag"></span> Report article</a></li></ul></div></div></div></div></div><div class="container"><div class="row" id="article-body-wrapper"><div class="col-sm-9"><section class="markdownContent markdownContent-headingEnabled js-task-list-container clearfix position-relative" id="item-0255f0637921dcdfe83b" itemprop="articleBody"><p>モナドについて勉強していて見つけた英語記事を翻訳してみました。<br>
誤訳等あれば編集リクエストやコメントください <img alt=":bow:" class="emoji" height="20" src="https://cdn.qiita.com/emoji/twemoji/unicode/1f647.png" title=":bow:" width="20"></p>

<p>原文: <a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html" rel="nofollow noopener" target="_blank">Functors, Applicatives, And Monads In Pictures - adit.io</a></p>

<hr>

<p>ここに単純な値(value)があります。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value.png" alt="value.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kt">Prelude</span><span class="o">&gt;</span> <span class="mi">2</span>
<span class="mi">2</span>
</pre></div></div>

<p>そして、私たちはこの値に関数を適用する方法を知っています。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value_apply.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value_apply.png" alt="value_apply.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kt">Prelude</span><span class="o">&gt;</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="mi">2</span>
<span class="mi">5</span>
</pre></div></div>

<p>とても簡単ですね。それでは、ある状態(context)に値が入っていると仮定してみましょう。これからみなさんは値を入れられる状態のことを、箱だと考えてもらって構いません。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value_and_context.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value_and_context.png" alt="value_and_context.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kt">Prelude</span><span class="o">&gt;</span> <span class="kt">Just</span> <span class="mi">2</span>
<span class="kt">Just</span> <span class="mi">2</span>
</pre></div></div>

<p>そして、この値に関数を適用したとき、 <strong>状態によって</strong> 異なる結果が返ります。この考え方に、Functor、Applicative、Monad、Arrowなどがもとづいています。<code>Maybe</code> データ型は2つの状態を定義できます。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/context.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/context.png" alt="context.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kr">data</span> <span class="kt">Maybe</span> <span class="n">a</span> <span class="ow">=</span> <span class="kt">Nothing</span> <span class="o">|</span> <span class="kt">Just</span> <span class="n">a</span>
</pre></div></div>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kt">Prelude</span><span class="o">&gt;</span> <span class="kt">:</span><span class="kr">type</span> <span class="kt">Just</span>
<span class="kt">Just</span> <span class="ow">::</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Maybe</span> <span class="n">a</span>

<span class="kt">Prelude</span><span class="o">&gt;</span> <span class="kt">:</span><span class="kr">type</span> <span class="kt">Nothing</span>
<span class="kt">Nothing</span> <span class="ow">::</span> <span class="kt">Maybe</span> <span class="n">a</span>
</pre></div></div>

<p>次に、<code>Just a</code> と <code>Nothing</code> それぞれに関数を適用したときどのような違いが出るか見てみましょう。先に Functor について話してみようと思います。</p>

<h1>
<span id="functor" class="fragment"></span><a href="#functor"><i class="fa fa-link"></i></a>Functor</h1>

<p>箱に入っている値に対して、普通の関数を適用することはできません。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/no_fmap_ouch.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/no_fmap_ouch.png" alt="no_fmap_ouch.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kt">Prelude</span><span class="o">&gt;</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">2</span><span class="p">)</span>
 <span class="kt">ERR</span> <span class="o">-</span> <span class="kt">No</span> <span class="kr">instance</span> <span class="n">for</span> <span class="p">(</span><span class="kt">Num</span> <span class="p">(</span><span class="kt">Maybe</span> <span class="n">a0</span><span class="p">))</span>
</pre></div></div>

<p>ここで <code>fmap</code> が登場します。<code>fmap</code>はその道の出身で、状態についてよく知っています。<code>fmap</code> は箱に入っている値にどのような関数を適用しなければならないか分かっています。例えば、 <code>Just 2</code> に <code>(+3)</code> を適用してみましょう。 <code>fmap</code> を使ってみると…</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="n">fmap</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">2</span><span class="p">)</span>
<span class="kt">Just</span> <span class="mi">5</span>
</pre></div></div>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_apply.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_apply.png" alt="fmap_apply.png"></a></p>

<p><strong>ポン!</strong> <code>fmap</code> がやってくれました。では、どのように <code>fmap</code> は関数を適用する方法を知っていたのでしょうか?</p>

<h1>
<span id="functorとは一体何だろうか" class="fragment"></span><a href="#functor%E3%81%A8%E3%81%AF%E4%B8%80%E4%BD%93%E4%BD%95%E3%81%A0%E3%82%8D%E3%81%86%E3%81%8B"><i class="fa fa-link"></i></a>Functorとは一体何だろうか?</h1>

<p><code>Functor</code> は <a href="http://learnyouahaskell.com/types-and-typeclasses#typeclasses-101" rel="nofollow noopener" target="_blank">typeclass</a> です。ここにその定義があります:</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/functor_def.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/functor_def.png" alt="functor_def.png"></a></p>

<p><code>Functor</code> は fmap を適用する方法を定義したデータ型です。ここにどのように fmap が動作するのかが出ています。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_def.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_def.png" alt="fmap_def.png"></a></p>

<p>したがって、私たちは次のようにすることができます。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="n">fmap</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">2</span><span class="p">)</span>
<span class="kt">Just</span> <span class="mi">5</span>
</pre></div></div>

<p>そして <code>Maybe</code> もまた <code>Functor</code> なので、<code>fmap</code> は魔法のように関数を適用してくれました。どのように <code>fmap</code> が <code>Just</code> と <code>Nothing</code> に適用されるかについてが次に出ています。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kr">instance</span> <span class="kt">Functor</span> <span class="kt">Maybe</span> <span class="kr">where</span>  
    <span class="n">fmap</span> <span class="n">func</span> <span class="p">(</span><span class="kt">Just</span> <span class="n">val</span><span class="p">)</span> <span class="ow">=</span> <span class="kt">Just</span> <span class="p">(</span><span class="n">func</span> <span class="n">val</span><span class="p">)</span>
    <span class="n">fmap</span> <span class="n">func</span> <span class="kt">Nothing</span> <span class="ow">=</span> <span class="kt">Nothing</span> 
</pre></div></div>

<p>ここに <code>fmap (+3) (Just 2)</code> と打ったとき、裏でどんなことが起こるかが現れています。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_just.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_just.png" alt="fmap_just.png"></a></p>

<p>それでは、 <code>(+3)</code> を <code>Nothing</code> に適用してみてください。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_nothing.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_nothing.png" alt="fmap_nothing.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="n">fmap</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="kt">Nothing</span>
<span class="kt">Nothing</span>
</pre></div></div>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/bill.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/bill.png" alt="bill.png"></a></p>

<p><em>Maybe functorも知らないBill O'Reilly</em></p>

<p>マトリックスのモーフィアスのように、<code>fmap</code> は何をしなければならないか知っています。 <code>Nothing</code> で始まり、<code>Nothing</code> で終わる! <code>fmap</code> は禅です。では、<code>Maybe</code> データ型がなぜ存在するのか考えてみましょう。例えば、 <code>Maybe</code> がない言語で、データベースのレコードを扱おうとしたらこうなります。</p>

<div class="code-frame" data-lang="ruby"><div class="highlight"><pre>
<span class="n">post</span> <span class="o">=</span> <span class="no">Post</span><span class="o">.</span><span class="n">find_by_id</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">if</span> <span class="n">post</span>
  <span class="k">return</span> <span class="n">post</span><span class="o">.</span><span class="n">title</span>
<span class="k">else</span>
  <span class="k">return</span> <span class="kp">nil</span>
<span class="k">end</span>
</pre></div></div>

<p>しかし、Haskellは次のようにできます。</p>

<div class="code-frame" data-lang="hakskell"><div class="highlight"><pre>
fmap (getPostTitle) (findPost 1)
</pre></div></div>

<p>もしも、<code>findPost</code> が投稿(post)を返すならば、<code>getPostTitle</code>でタイトルを得ることができます。 <code>Nothing</code> を返したら、<code>Nothing</code> を得るのです。とっても簡単じゃないですか? <code>fmap</code> の周囲表記(infix) バージョンは <code>&lt;$&gt;</code> で、次のように書くこともできます。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="nf">getPostTitle</span> <span class="o">&lt;$&gt;</span> <span class="p">(</span><span class="n">findPost</span> <span class="mi">1</span><span class="p">)</span>
</pre></div></div>

<p>ここにもう一つの例があります。リストに関数を適用したらどんなことが起こるでしょうか?</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_list.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_list.png" alt="fmap_list.png"></a></p>

<p>リストもやはり functor だったのです! ここにその定義があります。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kr">instance</span> <span class="kt">Functor</span> <span class="kt">[]</span> <span class="kr">where</span>
    <span class="n">fmap</span> <span class="ow">=</span> <span class="n">map</span>
</pre></div></div>

<p>ではでは、最後にもう一つ例を。関数にまた別の関数を適用しようとしたらどんなことがおこるでしょうか?</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="nf">fmap</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
</pre></div></div>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kt">Prelude</span><span class="o">&gt;</span> <span class="kt">:</span><span class="kr">type</span> <span class="n">fmap</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="nf">fmap</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="ow">::</span> <span class="p">(</span><span class="kt">Functor</span> <span class="p">((</span><span class="ow">-&gt;</span><span class="p">)</span> <span class="n">b</span><span class="p">),</span> <span class="kt">Num</span> <span class="n">b</span><span class="p">)</span> <span class="ow">=&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">b</span>
</pre></div></div>

<p>ここにある関数があります。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/function_with_value.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/function_with_value.png" alt="function_with_value.png"></a></p>

<p>関数にまた別の関数を適用してみようと思います。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_function.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_function.png" alt="fmap_function.png"></a></p>

<p>結果もやはり関数でした。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="kr">import</span> <span class="nn">Control.Applicative</span>
<span class="o">&gt;</span> <span class="kr">let</span> <span class="n">foo</span> <span class="ow">=</span> <span class="n">fmap</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="p">(</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;</span> <span class="n">foo</span> <span class="mi">10</span>
<span class="mi">15</span>
</pre></div></div>

<p>したがって、関数も Functor なのです。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kr">instance</span> <span class="kt">Functor</span> <span class="p">((</span><span class="ow">-&gt;</span><span class="p">)</span> <span class="n">r</span><span class="p">)</span> <span class="kr">where</span>  
    <span class="n">fmap</span> <span class="n">f</span> <span class="n">g</span> <span class="ow">=</span> <span class="n">f</span> <span class="o">.</span> <span class="n">g</span>
</pre></div></div>

<p>関数に fmap を使用すると、関数の合成(function composition)をしたのと同じです。</p>

<h1>
<span id="applicative" class="fragment"></span><a href="#applicative"><i class="fa fa-link"></i></a>Applicative</h1>

<p>次の段階のApplicativeに進んでみましょう。Functorでやってみたように、箱に値を入れます。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value_and_context.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value_and_context.png" alt="value_and_context.png"></a></p>

<p>そして、関数もまた箱に入れられるのです!</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/function_and_context.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/function_and_context.png" alt="function_and_context.png"></a></p>

<p>はい、じゃあ詳しく見てみましょう。Applicativeもバカじゃありません。<code>Control.Applicative</code> は <code>&lt;*&gt;</code>  を定義していて、 <strong>箱の中の</strong> 値に、 <strong>箱の中の</strong> 関数を適用する方法を知っています。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative_just.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative_just.png" alt="applicative_just.png"></a></p>

<p>なので、次のようなことができます。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kt">Just</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span> <span class="o">&lt;*&gt;</span> <span class="kt">Just</span> <span class="mi">2</span> <span class="o">==</span> <span class="kt">Just</span> <span class="mi">5</span>
</pre></div></div>

<p><code>&lt;*&gt;</code> を使うと少し面白い結果を得ることができます。例えばこんな。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="p">[(</span><span class="o">*</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">+</span><span class="mi">3</span><span class="p">)]</span> <span class="o">&lt;*&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre></div></div>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative_list.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative_list.png" alt="applicative_list.png"></a></p>

<p>ここでFunctorにはできなかったけど、Applicativeにはできることが出てきます。どうやって、中に値が入ってる2つの箱に、2つの引数を取る関数を適用するのでしょうか?</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="o">&lt;$&gt;</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">5</span><span class="p">)</span>
<span class="kt">Just</span> <span class="p">(</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;</span> <span class="kt">Just</span> <span class="p">(</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;$&gt;</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">4</span><span class="p">)</span>
<span class="kt">ERROR</span> <span class="o">???</span> <span class="kt">WHAT</span> <span class="kt">DOES</span> <span class="kt">THIS</span> <span class="kt">EVEN</span> <span class="kt">MEAN</span> <span class="kt">WHY</span> <span class="kt">IS</span> <span class="kt">THE</span> <span class="kt">FUNCTION</span> <span class="kt">WRAPPED</span> <span class="kt">IN</span> <span class="kt">A</span> <span class="kt">JUST</span>
</pre></div></div>

<p>Applicativeなら:</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="o">&lt;$&gt;</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">5</span><span class="p">)</span>
<span class="kt">Just</span> <span class="p">(</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;</span> <span class="kt">Just</span> <span class="p">(</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;*&gt;</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">3</span><span class="p">)</span>
<span class="kt">Just</span> <span class="mi">8</span>
</pre></div></div>

<p><code>Functor</code> を横に追いやりながら <code>Applicative</code> は言います。</p>

<p>「大物は引数をいくつ取る関数だって扱えるんだぜ?」</p>

<p>「<code>&lt;$&gt;</code> と <code>&lt;*&gt;</code> を使ってオレは、箱を開いてみることができない関数どもに、箱の中の値を渡してやって、しまいに値を箱にいれて返すこともできるのさ! ぷははは!」</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&lt;$&gt;</span> <span class="kt">Just</span> <span class="mi">5</span> <span class="o">&lt;*&gt;</span> <span class="kt">Just</span> <span class="mi">3</span>
<span class="kt">Just</span> <span class="mi">15</span>
</pre></div></div>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/TaTdV.gif" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/TaTdV.gif" alt="TaTdV.gif"></a></p>

<p><em>functorが関数を適用するのを見ていたapplicative</em></p>

<p>でもちょっと待って! ここに同じことをする <code>liftA2</code> もいます。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="n">liftA2</span> <span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">5</span><span class="p">)</span> <span class="p">(</span><span class="kt">Just</span> <span class="mi">3</span><span class="p">)</span>
<span class="kt">Just</span> <span class="mi">15</span>
</pre></div></div>

<h1>
<span id="monad" class="fragment"></span><a href="#monad"><i class="fa fa-link"></i></a>Monad</h1>

<p>モナドを学ぶ方法:</p>

<ol>
<li>情報工学の博士号を取る</li>
<li>ここでは博士号は要らないので取らない</li>
</ol>

<p>モナドは新しい解法を提示しました。</p>

<p>Functorは箱に入っている値に関数を適用できます。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap.png" alt="fmap.png"></a></p>

<p>Applicativeは箱に入っている値に、箱に入っている関数を適用できます。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative.png" alt="applicative.png"></a></p>

<p>モナドは箱に入っている値に、 <strong>箱に入った値を返す</strong> 関数を適用できます。</p>

<p>モナドはこのようなことをする("bind"と呼ばれる) <code>&gt;&gt;=</code> という関数を持っています。</p>

<p>例を見てみましょう。これまでに見てきた <code>Maybe</code> はモナドです。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/context.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/context.png" alt="context.png"></a></p>

<p><em>遊んでたJust aモナド</em></p>

<p>偶数に対してだけ動作する関数、<code>half</code>があると仮定してみましょう。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="nf">half</span> <span class="n">x</span> <span class="ow">=</span> <span class="kr">if</span> <span class="n">even</span> <span class="n">x</span>
           <span class="kr">then</span> <span class="kt">Just</span> <span class="p">(</span><span class="n">x</span> <span class="p">`</span><span class="n">div</span><span class="p">`</span> <span class="mi">2</span><span class="p">)</span>
           <span class="kr">else</span> <span class="kt">Nothing</span>
</pre></div></div>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/half.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/half.png" alt="half.png"></a></p>

<p>値が入っている箱を入れてみるとどうなるでしょうか?</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/half_ouch.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/half_ouch.png" alt="half_ouch.png"></a></p>

<p>関数に値が入っている箱を押し込めたいなら、<code>&gt;&gt;=</code> が必要です。ここに <code>&gt;&gt;=</code> の写真があります。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/plunger.jpg" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/plunger.jpg" alt="plunger.jpg"></a></p>

<p>どんなふうに動作するのか確認してみましょう。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="kt">Just</span> <span class="mi">3</span> <span class="o">&gt;&gt;=</span> <span class="n">half</span>
<span class="kt">Nothing</span>
<span class="o">&gt;</span> <span class="kt">Just</span> <span class="mi">4</span> <span class="o">&gt;&gt;=</span> <span class="n">half</span>
<span class="kt">Just</span> <span class="mi">2</span>
<span class="o">&gt;</span> <span class="kt">Nothing</span> <span class="o">&gt;&gt;=</span> <span class="n">half</span>
<span class="kt">Nothing</span>
</pre></div></div>

<p>内部でどんなことが起こっているのでしょうか? <code>Monad</code>はまた別の<a href="http://learnyouahaskell.com/types-and-typeclasses#typeclasses-101" rel="nofollow noopener" target="_blank">typeclass</a>です。ここに定義の一部が載っています。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kr">class</span> <span class="kt">Monad</span> <span class="n">m</span> <span class="kr">where</span>    
    <span class="p">(</span><span class="o">&gt;&gt;=</span><span class="p">)</span> <span class="ow">::</span> <span class="n">m</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">m</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">m</span> <span class="n">b</span>  
</pre></div></div>

<p><code>&gt;&gt;=</code>は、</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/bind_def.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/bind_def.png" alt="bind_def.png"></a></p>

<p>したがって、<code>Maybe</code>はモナドです。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="kr">instance</span> <span class="kt">Monad</span> <span class="kt">Maybe</span> <span class="kr">where</span>
    <span class="kt">Nothing</span> <span class="o">&gt;&gt;=</span> <span class="n">func</span> <span class="ow">=</span> <span class="kt">Nothing</span>
    <span class="kt">Just</span> <span class="n">val</span> <span class="o">&gt;&gt;=</span> <span class="n">func</span>  <span class="ow">=</span> <span class="n">func</span> <span class="n">val</span>
</pre></div></div>

<p>ここに <code>Just 3</code> についてどうやって動作しているか載っています!</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_just.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_just.png" alt="monad_just.png"></a></p>

<p><code>Nothing</code> を入れるともっと単純になります。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_nothing.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_nothing.png" alt="monad_nothing.png"></a></p>

<p>このようにチェーン(chain)で呼び出すこともできます。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="o">&gt;</span> <span class="kt">Just</span> <span class="mi">20</span> <span class="o">&gt;&gt;=</span> <span class="n">half</span> <span class="o">&gt;&gt;=</span> <span class="n">half</span> <span class="o">&gt;&gt;=</span> <span class="n">half</span>
<span class="kt">Nothing</span>
</pre></div></div>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_chain.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_chain.png" alt="monad_chain.png"></a></p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/whoa.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/whoa.png" alt="whoa.png"></a></p>

<p>カッチョイイです。もう私たちは <code>Maybe</code> が <code>Functor</code> であり、<code>Applicative</code> であり、<code>Monad</code> であることが分かりました。</p>

<p>それではそろそろ、<code>IO</code>モナドの例に行ってみましょう。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/io.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/io.png" alt="io.png"></a></p>

<blockquote>
<p>訳注: 数字の10ではなく、英語のIO</p>
</blockquote>

<p>3つの特別な関数があります。 <code>getLine</code> は引数を取らず、ユーザの入力を受け取ります。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/getLine.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/getLine.png" alt="getLine.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="nf">getLine</span> <span class="ow">::</span> <span class="kt">IO</span> <span class="kt">String</span>
</pre></div></div>

<p><code>readFile</code> は文字列(ファイル名)を受け取り、ファイルの中身を返します。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/readFile.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/readFile.png" alt="readFile.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="nf">readFile</span> <span class="ow">::</span> <span class="kt">FilePath</span> <span class="ow">-&gt;</span> <span class="kt">IO</span> <span class="kt">String</span>
</pre></div></div>

<p><code>putStrLn</code> は文字列を受け取り出力します。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/putStrLn.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/putStrLn.png" alt="putStrLn.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="nf">putStrLn</span> <span class="ow">::</span> <span class="kt">String</span> <span class="ow">-&gt;</span> <span class="kt">IO</span> <span class="nb">()</span>
</pre></div></div>

<p>ここに出てきた3つの関数は普通の値を受け取り(または何も受け取らず)、値が入っている箱を返します。したがって、私たちはこれを <code>&gt;&gt;=</code> でつなぐことができます。</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_io.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_io.png" alt="monad_io.png"></a></p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="nf">getLine</span> <span class="o">&gt;&gt;=</span> <span class="n">readFile</span> <span class="o">&gt;&gt;=</span> <span class="n">putStrLn</span>
</pre></div></div>

<p>なんということでしょう! モナドのショーが巻き起こりました!</p>

<p>付け加えると、Haskellはこのモナドについて、<code>do</code> というシュガーシンタクスを提供してくれています。</p>

<div class="code-frame" data-lang="haskell"><div class="highlight"><pre>
<span class="nf">foo</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">filename</span> <span class="ow">&lt;-</span> <span class="n">getLine</span>
    <span class="n">contents</span> <span class="ow">&lt;-</span> <span class="n">readFile</span> <span class="n">filename</span>
    <span class="n">putStrLn</span> <span class="n">contents</span>
</pre></div></div>

<h1>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h1>

<ol>
<li>functorは <code>Functor</code> 型クラスを実装したデータ型。</li>
<li>applicativeは <code>Applicative</code> 型クラスを実装したデータ型。</li>
<li>モナドは <code>Monad</code> 型クラスを実装したデータ型。</li>
<li>
<code>Maybe</code> はこの3つをすべて実装しており、functorでありapplicativeでありモナドでもある。</li>
</ol>

<p>この3つの違いは何か?</p>

<p><a href="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/recap.png" target="_blank" rel="nofollow noopener"><img src="https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/recap.png" alt="recap.png"></a></p>

<ul>
<li>functor: <code>fmap</code> や <code>&lt;$&gt;</code> を使って、箱の中の値に関数を適用できる</li>
<li>applicative: <code>liftA</code> や <code>&lt;*&gt;</code> を使って、箱のなかの関数を箱の中の値に適用できる</li>
<li>モナド: <code>liftM</code> や <code>&gt;&gt;=</code> を使って、箱に入った値を返す関数を箱の中の値に適用できる</li>
</ul>

<p>わたしたちはみんな、モナドというものが簡単で粋な概念だということについて、同意することと思います。このガイドで満足のはまだ早いです。<a href="http://learnyouahaskell.com/a-fistful-of-monads" rel="nofollow noopener" target="_blank">LYAH’s section on Monads</a>をチェックしてみてください。Miranがすでにモナドに関する深く素晴らしい働きをしているので、だいぶざっくり説明してきました。</p>

<p><a href="http://habrahabr.ru/post/183150/" rel="nofollow noopener" target="_blank">ロシア語バージョン</a>もあります。もっとモナドと絵を見たい方は <a href="http://adit.io/posts/2013-06-10-three-useful-monads.html" rel="nofollow noopener" target="_blank">three useful monads</a>を見てみてください。</p>

<blockquote>
<p>訳注: <a href="https://github.com/netpyoung/netpyoung.Notes/tree/master/external/haskell/functors_applicatives_and_monads_in_pictures" rel="nofollow noopener" target="_blank">韓国語版</a>、<a href="http://jiyinyiyong.github.io/monads-in-pictures/" rel="nofollow noopener" target="_blank">中国語版</a>もあります。</p>
</blockquote>
<div class="hidden"><form class="js-task-list-update" action="/suin/items/0255f0637921dcdfe83b" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="_method" value="patch" /><input type="hidden" name="authenticity_token" value="ENIPloqfI4nat6U+LvNqSmzsUJ4BdxQy2ZHSvDc5w2V+UJTOEbEawiVkECJeBtQTDKt0LZazTsXlT9tH1jfNow==" /><input type="hidden" name="updated_at_confirmation_in_unixtime" id="updated_at_confirmation_in_unixtime" value="1459061021" class="js-task-list-updated-at" /><textarea name="raw_body" id="raw_body" class="js-task-list-field">

モナドについて勉強していて見つけた英語記事を翻訳してみました。
誤訳等あれば編集リクエストやコメントください :bow:

原文: [Functors, Applicatives, And Monads In Pictures - adit.io](http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html)

------------

ここに単純な値(value)があります。

![value.png]

```haskell
Prelude&gt; 2
2
```

そして、私たちはこの値に関数を適用する方法を知っています。

![value_apply.png]

```haskell
Prelude&gt; (+3) 2
5
```

とても簡単ですね。それでは、ある状態(context)に値が入っていると仮定してみましょう。これからみなさんは値を入れられる状態のことを、箱だと考えてもらって構いません。

![value_and_context.png]

```haskell
Prelude&gt; Just 2
Just 2
```

そして、この値に関数を適用したとき、 **状態によって** 異なる結果が返ります。この考え方に、Functor、Applicative、Monad、Arrowなどがもとづいています。`Maybe` データ型は2つの状態を定義できます。

![context.png]

```haskell
data Maybe a = Nothing | Just a
```

```haskell
Prelude&gt; :type Just
Just :: a -&gt; Maybe a

Prelude&gt; :type Nothing
Nothing :: Maybe a
```

次に、`Just a` と `Nothing` それぞれに関数を適用したときどのような違いが出るか見てみましょう。先に Functor について話してみようと思います。

# Functor

箱に入っている値に対して、普通の関数を適用することはできません。

![no_fmap_ouch.png]

```haskell
Prelude&gt; (+3) (Just 2)
 ERR - No instance for (Num (Maybe a0))
```

ここで `fmap` が登場します。`fmap`はその道の出身で、状態についてよく知っています。`fmap` は箱に入っている値にどのような関数を適用しなければならないか分かっています。例えば、 `Just 2` に `(+3)` を適用してみましょう。 `fmap` を使ってみると…

```haskell
&gt; fmap (+3) (Just 2)
Just 5
```

![fmap_apply.png]

__ポン!__ `fmap` がやってくれました。では、どのように `fmap` は関数を適用する方法を知っていたのでしょうか?

# Functorとは一体何だろうか?

`Functor` は [typeclass] です。ここにその定義があります:

![functor_def.png]

 
`Functor` は fmap を適用する方法を定義したデータ型です。ここにどのように fmap が動作するのかが出ています。

![fmap_def.png]

したがって、私たちは次のようにすることができます。

```haskell
&gt; fmap (+3) (Just 2)
Just 5
```

そして `Maybe` もまた `Functor` なので、`fmap` は魔法のように関数を適用してくれました。どのように `fmap` が `Just` と `Nothing` に適用されるかについてが次に出ています。

```haskell
instance Functor Maybe where  
    fmap func (Just val) = Just (func val)
    fmap func Nothing = Nothing 
```

ここに `fmap (+3) (Just 2)` と打ったとき、裏でどんなことが起こるかが現れています。
 
![fmap_just.png]

それでは、 `(+3)` を `Nothing` に適用してみてください。

![fmap_nothing.png]

```haskell
&gt; fmap (+3) Nothing
Nothing
```

![bill.png]

_Maybe functorも知らないBill O&#39;Reilly_

マトリックスのモーフィアスのように、`fmap` は何をしなければならないか知っています。 `Nothing` で始まり、`Nothing` で終わる! `fmap` は禅です。では、`Maybe` データ型がなぜ存在するのか考えてみましょう。例えば、 `Maybe` がない言語で、データベースのレコードを扱おうとしたらこうなります。

```ruby
post = Post.find_by_id(1)
if post
  return post.title
else
  return nil
end
```

しかし、Haskellは次のようにできます。

```hakskell
fmap (getPostTitle) (findPost 1)
```

もしも、`findPost` が投稿(post)を返すならば、`getPostTitle`でタイトルを得ることができます。 `Nothing` を返したら、`Nothing` を得るのです。とっても簡単じゃないですか? `fmap` の周囲表記(infix) バージョンは `&lt;$&gt;` で、次のように書くこともできます。

```haskell
getPostTitle &lt;$&gt; (findPost 1)
```

ここにもう一つの例があります。リストに関数を適用したらどんなことが起こるでしょうか?

![fmap_list.png]

リストもやはり functor だったのです! ここにその定義があります。

```haskell
instance Functor [] where
    fmap = map
```

ではでは、最後にもう一つ例を。関数にまた別の関数を適用しようとしたらどんなことがおこるでしょうか?

```haskell
fmap (+3) (+1)
```

```haskell
Prelude&gt; :type fmap (+3) (+1)
fmap (+3) (+1) :: (Functor ((-&gt;) b), Num b) =&gt; b -&gt; b
```

ここにある関数があります。

![function_with_value.png]


関数にまた別の関数を適用してみようと思います。

![fmap_function.png]

結果もやはり関数でした。

```haskell
&gt; import Control.Applicative
&gt; let foo = fmap (+3) (+2)
&gt; foo 10
15
```

したがって、関数も Functor なのです。

```haskell
instance Functor ((-&gt;) r) where  
    fmap f g = f . g
```

関数に fmap を使用すると、関数の合成(function composition)をしたのと同じです。



# Applicative

次の段階のApplicativeに進んでみましょう。Functorでやってみたように、箱に値を入れます。

![value_and_context.png]


そして、関数もまた箱に入れられるのです!

![function_and_context.png]

はい、じゃあ詳しく見てみましょう。Applicativeもバカじゃありません。`Control.Applicative` は `&lt;*&gt;`  を定義していて、 **箱の中の** 値に、 **箱の中の** 関数を適用する方法を知っています。

![applicative_just.png]

なので、次のようなことができます。

```haskell
Just (+3) &lt;*&gt; Just 2 == Just 5
```

`&lt;*&gt;` を使うと少し面白い結果を得ることができます。例えばこんな。

```haskell
&gt; [(*2), (+3)] &lt;*&gt; [1, 2, 3]
[2, 4, 6, 4, 5, 6]
```

![applicative_list.png]


ここでFunctorにはできなかったけど、Applicativeにはできることが出てきます。どうやって、中に値が入ってる2つの箱に、2つの引数を取る関数を適用するのでしょうか?

```haskell
&gt; (+) &lt;$&gt; (Just 5)
Just (+5)
&gt; Just (+5) &lt;$&gt; (Just 4)
ERROR ??? WHAT DOES THIS EVEN MEAN WHY IS THE FUNCTION WRAPPED IN A JUST
```







































Applicativeなら:

```haskell
&gt; (+) &lt;$&gt; (Just 5)
Just (+5)
&gt; Just (+5) &lt;*&gt; (Just 3)
Just 8
```

`Functor` を横に追いやりながら `Applicative` は言います。

「大物は引数をいくつ取る関数だって扱えるんだぜ?」
  
「`&lt;$&gt;` と `&lt;*&gt;` を使ってオレは、箱を開いてみることができない関数どもに、箱の中の値を渡してやって、しまいに値を箱にいれて返すこともできるのさ! ぷははは!」


```haskell
&gt; (*) &lt;$&gt; Just 5 &lt;*&gt; Just 3
Just 15
```

![TaTdV.gif]

_functorが関数を適用するのを見ていたapplicative_

でもちょっと待って! ここに同じことをする `liftA2` もいます。

```haskell
&gt; liftA2 (*) (Just 5) (Just 3)
Just 15
```

# Monad

モナドを学ぶ方法:

1. 情報工学の博士号を取る
2. ここでは博士号は要らないので取らない

モナドは新しい解法を提示しました。
 
Functorは箱に入っている値に関数を適用できます。

![fmap.png]

Applicativeは箱に入っている値に、箱に入っている関数を適用できます。

![applicative.png]

モナドは箱に入っている値に、 **箱に入った値を返す** 関数を適用できます。

モナドはこのようなことをする(&quot;bind&quot;と呼ばれる) `&gt;&gt;=` という関数を持っています。

例を見てみましょう。これまでに見てきた `Maybe` はモナドです。

![context.png]

_遊んでたJust aモナド_

偶数に対してだけ動作する関数、`half`があると仮定してみましょう。

```haskell
half x = if even x
           then Just (x `div` 2)
           else Nothing
```

![half.png]

値が入っている箱を入れてみるとどうなるでしょうか?

![half_ouch.png]

関数に値が入っている箱を押し込めたいなら、`&gt;&gt;=` が必要です。ここに `&gt;&gt;=` の写真があります。

![plunger.jpg]

どんなふうに動作するのか確認してみましょう。
 
```haskell
&gt; Just 3 &gt;&gt;= half
Nothing
&gt; Just 4 &gt;&gt;= half
Just 2
&gt; Nothing &gt;&gt;= half
Nothing
```

内部でどんなことが起こっているのでしょうか? `Monad`はまた別の[typeclass]です。ここに定義の一部が載っています。

```haskell
class Monad m where    
    (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b  
```

`&gt;&gt;=`は、

![bind_def.png]

したがって、`Maybe`はモナドです。

```haskell
instance Monad Maybe where
    Nothing &gt;&gt;= func = Nothing
    Just val &gt;&gt;= func  = func val
```


ここに `Just 3` についてどうやって動作しているか載っています!

![monad_just.png]

`Nothing` を入れるともっと単純になります。

![monad_nothing.png]

このようにチェーン(chain)で呼び出すこともできます。

```haskell
&gt; Just 20 &gt;&gt;= half &gt;&gt;= half &gt;&gt;= half
Nothing
```

![monad_chain.png]

![whoa.png]


カッチョイイです。もう私たちは `Maybe` が `Functor` であり、`Applicative` であり、`Monad` であることが分かりました。

それではそろそろ、`IO`モナドの例に行ってみましょう。

![io.png]

&gt; 訳注: 数字の10ではなく、英語のIO

3つの特別な関数があります。 `getLine` は引数を取らず、ユーザの入力を受け取ります。

![getLine.png]

```haskell
getLine :: IO String
```

`readFile` は文字列(ファイル名)を受け取り、ファイルの中身を返します。
 
![readFile.png]

```haskell
readFile :: FilePath -&gt; IO String
```

`putStrLn` は文字列を受け取り出力します。

![putStrLn.png]

```haskell
putStrLn :: String -&gt; IO ()
```

ここに出てきた3つの関数は普通の値を受け取り(または何も受け取らず)、値が入っている箱を返します。したがって、私たちはこれを `&gt;&gt;=` でつなぐことができます。

![monad_io.png]

```haskell
getLine &gt;&gt;= readFile &gt;&gt;= putStrLn
```

なんということでしょう! モナドのショーが巻き起こりました!

付け加えると、Haskellはこのモナドについて、`do` というシュガーシンタクスを提供してくれています。

```haskell
foo = do
    filename &lt;- getLine
    contents &lt;- readFile filename
    putStrLn contents
```

# まとめ

1. functorは `Functor` 型クラスを実装したデータ型。
2. applicativeは `Applicative` 型クラスを実装したデータ型。
3. モナドは `Monad` 型クラスを実装したデータ型。
4. `Maybe` はこの3つをすべて実装しており、functorでありapplicativeでありモナドでもある。

この3つの違いは何か?

![recap.png]

* functor: `fmap` や `&lt;$&gt;` を使って、箱の中の値に関数を適用できる
* applicative: `liftA` や `&lt;*&gt;` を使って、箱のなかの関数を箱の中の値に適用できる
* モナド: `liftM` や `&gt;&gt;=` を使って、箱に入った値を返す関数を箱の中の値に適用できる


わたしたちはみんな、モナドというものが簡単で粋な概念だということについて、同意することと思います。このガイドで満足のはまだ早いです。[LYAH’s section on Monads]をチェックしてみてください。Miranがすでにモナドに関する深く素晴らしい働きをしているので、だいぶざっくり説明してきました。

 [ロシア語バージョン](http://habrahabr.ru/post/183150/)もあります。もっとモナドと絵を見たい方は [three useful monads]を見てみてください。

&gt; 訳注: [韓国語版](https://github.com/netpyoung/netpyoung.Notes/tree/master/external/haskell/functors_applicatives_and_monads_in_pictures)、[中国語版](http://jiyinyiyong.github.io/monads-in-pictures/)もあります。




 [value.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value.png
 [value_apply.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value_apply.png
 [value_and_context.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/value_and_context.png
 [context.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/context.png
 [no_fmap_ouch.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/no_fmap_ouch.png
 [fmap_apply.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_apply.png
 [functor_def.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/functor_def.png
 [fmap_def.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_def.png
 [fmap_just.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_just.png
 [fmap_nothing.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_nothing.png
 [fmap_list.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_list.png
 [function_with_value.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/function_with_value.png
 [fmap_function.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap_function.png
 [function_and_context.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/function_and_context.png
 [applicative_just.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative_just.png
 [applicative_list.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative_list.png
 [fmap.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/fmap.png
 [applicative.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/applicative.png
 [half.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/half.png
 [half_ouch.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/half_ouch.png
 [bind_def.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/bind_def.png
 [monad_just.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_just.png
 [monad_nothing.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_nothing.png
 [monad_chain.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_chain.png
 [whoa.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/whoa.png
 [io.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/io.png
 [getLine.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/getLine.png
 [readFile.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/readFile.png
 [putStrLn.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/putStrLn.png
 [monad_io.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/monad_io.png
 [recap.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/recap.png
 [bill.png]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/bill.png 
 [TaTdV.gif]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/TaTdV.gif
 [plunger.jpg]: https://dl.dropboxusercontent.com/u/949822/qiita.com/131125-functors-applicative-and-monads-in-picture/plunger.jpg


 [typeclass]: http://learnyouahaskell.com/types-and-typeclasses#typeclasses-101
 [function composition]:  http://en.wikipedia.org/wiki/Function_composition
 
 [three useful monads]: http://adit.io/posts/2013-06-10-three-useful-monads.html
 [LYAH’s section on Monads]: http://learnyouahaskell.com/a-fistful-of-monads
</textarea><input type="submit" name="commit" value="Save changes" data-disable-with="Save changes" /></form></div></section></div><div class="col-sm-3"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="箱で考えるFunctor、ApplicativeそしてMonad by @suin on @Qiita" data-url="http://qiita.com/suin/items/0255f0637921dcdfe83b" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="箱で考えるFunctor、ApplicativeそしてMonad" href="http://b.hatena.ne.jp/entry/http://qiita.com/suin/items/0255f0637921dcdfe83b" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/suin/items/0255f0637921dcdfe83b" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/suin/items/0255f0637921dcdfe83b" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div><section class="itemsShowAuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><a href="/suin"><img alt="" class="itemsShowAuthorInfo_userIcon" itemprop="image" src="https://qiita-image-store.s3.amazonaws.com/0/889/profile-images/1473682133" /></a><div class="itemsShowAuthorInfo_profileStats"><strong class="itemsShowAuthorInfo_userName" itemprop="name"><a itemprop="url" href="/suin">suin</a></strong><div class="itemsShowAuthorInfo_contribution"><span class="itemsShowAuthorInfo_count">20677</span><span class="itemsShowAuthorInfo_unit">Contribution</span></div><div data-react-class="T.UserFollowButton" data-react-props="{&quot;url_name&quot;:&quot;suin&quot;,&quot;initial_followed_by&quot;:false,&quot;size&quot;:&quot;btn-xs&quot;,&quot;position&quot;:&quot;author-info&quot;}"></div></div><section class="itemsShowAuthorPopularItems"><h5 class="itemsShowAuthorPopularItems_sectionTitle">人気の投稿</h5><ul class="itemsShowAuthorPopularItems_posts list-unstyled"><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/suin/items/f570f057a0ff927b47dc">【まとめ】これ知らないプログラマって損してんなって思う汎用的なツール 100超</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/suin/items/f7ac4de914e9f3f35884">WebAPIでエラーをどう表現すべき？15のサービスを調査してみた</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/suin/items/22662f43b6a6e8728798">動的言語だけやってた僕が、38日間Go言語を書いて学んだこと</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/suin/items/a45f14aeb31f169c616e">Mac始めて6年目にして、使い続けている開発ツール73選</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/suin/items/5c4e21fa284497782f71">俺史上最強のiptablesをさらす</a></li></ul></section><section class="itemsShowAuthorInfo_organization"><h5 class="itemsShowAuthorInfo_organizationTitle">ORGANIZATION</h5><span itemprop="memberOf" itemscope="" itemtype="http://schema.org/Organization"><a itemprop="url" href="/organizations/shouldbee"><img alt="ShouldBee" class="itemsShowAuthorInfo_organizationLogo" itemprop="image" src="https://s3-ap-northeast-1.amazonaws.com/qiita-organization-image/b33de288accd2de8a446a7bd67039eb306bcb99a/original.jpg?1419476052" /></a></span></section></section><div class="scroll-chaser"><div class="google-adsense"><style>.test-text-responsible { width: 200px; height: 200px; }@media(min-width: 1200px) {  .test-text-responsible { width: 250px; height: 250px; }}@media(max-width: 979px) and (min-width: 768px) {  .test-text-responsible { width: 120px; height: 240px; }}@media(max-width: 767px) {  .test-text-responsible { width: 320px; height: 50px; }}</style><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle test-text-responsible" data-ad-client="ca-pub-8127218772604357" data-ad-slot="3880091879" style="display:inline-block"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><div data-react-class="T.Toc" data-react-props="{&quot;body&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#functor\&quot;\u003eFunctor\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#functor%E3%81%A8%E3%81%AF%E4%B8%80%E4%BD%93%E4%BD%95%E3%81%A0%E3%82%8D%E3%81%86%E3%81%8B\&quot;\u003eFunctorとは一体何だろうか?\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#applicative\&quot;\u003eApplicative\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#monad\&quot;\u003eMonad\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%81%BE%E3%81%A8%E3%82%81\&quot;\u003eまとめ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n&quot;,&quot;wrapper&quot;:&quot;#article-body-wrapper&quot;}"></div></div></div><div class="row"><div class="col-sm-9"><div class="ArticleFooter__menu"><div class="s-flex-align-center"><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:461,&quot;show_count&quot;:true,&quot;uuid&quot;:&quot;0255f0637921dcdfe83b&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-footer&quot;}"></div><div class="ArticleFooter__userList"><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="reoring"><a itemprop="url" href="/reoring"><img alt="reoring" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/7565/profile-images/1473680619" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="mono0926"><a itemprop="url" href="/mono0926"><img alt="mono0926" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/19398/profile-images/1473682701" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="liveinwood"><a itemprop="url" href="/liveinwood"><img alt="liveinwood" class="thumb thumb--xs" src="https://gravatar.com/avatar/fd1b6ea9b7b3f46de5da87a2dabd304f?d=https%3A%2F%2Fidenticons.github.com%2F8bc232144688fdecf1de7d358e2946a8.png&amp;r=x" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="sbjib"><a itemprop="url" href="/sbjib"><img alt="sbjib" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/19630/profile-images/1473682775" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="maginemu"><a itemprop="url" href="/maginemu"><img alt="maginemu" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/470/profile-images/1473680914" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="tekkoc"><a itemprop="url" href="/tekkoc"><img alt="tekkoc" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/11916/profile-images/1473682212" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="sonoisa"><a itemprop="url" href="/sonoisa"><img alt="sonoisa" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/26062/profile-images/1473684485" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="yabuchin_y"><a itemprop="url" href="/yabuchin_y"><img alt="yabuchin_y" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/2584/profile-images/1473681752" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="tetsuzin"><a itemprop="url" href="/tetsuzin"><img alt="tetsuzin" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/4146/profile-images/1473683812" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="crispy"><a itemprop="url" href="/crispy"><img alt="crispy" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/29365/profile-images/1473685328" /></a></div></div><div class="ArticleFooter__user"><a href="/suin/items/0255f0637921dcdfe83b/likers"><span class="fa fa-ellipsis-h"></span></a></div></div></div><div class="u-flex u-align-center"><div class="ArticleFooter__stock"><div class="js-stockbutton" data-position="footer_menu" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="ArticleFooter__editRequest"><a class="u-link-no-underline" data-toggle="tooltip" title="You can propose improvements about the article to the author 💪" href="/drafts/0255f0637921dcdfe83b/edit"><span class="fa fa-send-o fa-lg"></span> <span>Edit request</span></a></div><div class="dropdown ArticleFooter__dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h"></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a href="/suin/items/0255f0637921dcdfe83b.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><i class="fa fa-fw fa-flag"></i> Report article</a></li></ul></div></div></div><ul class="references js-referencesView"><li class="references_header"><i class="fa fa-fw fa-link"></i> Linked from these articles</li><a class="references_toggleOldReferences js-toggleOldReferences" href="#"><i class="fa fa-expand js-toggleOldReferencesIcon"></i><span class="js-toggleOldReferencesText">Show old 1 links</span></a><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/547b6137d7a3c482fe68#_reference-12c9e0f687680ea06c81"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />モナド則がちょっと分かった？</a><time class="references_datetime js-dateTimeView" datetime="2015-08-17T01:04:29+00:00">over 1 year ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/yoshikyoto/items/4d1e0cde3d1d8103b50c#_reference-c5f677515d6f860012b1"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/29024/profile-images/1473685284" />Functorについてメモ</a><time class="references_datetime js-dateTimeView" datetime="2015-11-11T11:35:48+00:00">over 1 year ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/F_cy/items/9c49e351196943e38ad9#_reference-f3f22244b0fbb2fdba88"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/75448/profile-images/1473700163" />Haskell入門記事備忘録</a><time class="references_datetime js-dateTimeView" datetime="2016-02-08T17:00:50+00:00">about 1 year ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/srd7/items/9a604188f0c48885ae7c#_reference-13b77d481d6c630d6118"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/89322/profile-images/1483715733" />Scala ユーザのためのモナド入門</a><time class="references_datetime js-dateTimeView" datetime="2016-02-16T15:40:28+00:00">about 1 year ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/lotz/items/5cbaca19d90cd168ab43#_reference-28473b8482991c15dec4"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/17134/profile-images/1487948742" />Twitterを巡回していてわかったHaskell初心者が躓きやすいポイント8つ</a><time class="references_datetime js-dateTimeView" datetime="2016-03-19T13:38:13+00:00">12 months ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/lagenorhynque/items/e68ada9ee2d63539eb45#_reference-fbfd72ae89b4a9175cb0"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/33430/profile-images/1473686123" />Functor, Applicative, Monadのシンプルな定式化</a><time class="references_datetime js-dateTimeView" datetime="2016-05-15T04:39:51+00:00">10 months ago</time></li></ul><div class="itemsShowBody_articleColumnFooter"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="箱で考えるFunctor、ApplicativeそしてMonad by @suin on @Qiita" data-url="http://qiita.com/suin/items/0255f0637921dcdfe83b" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="箱で考えるFunctor、ApplicativeそしてMonad" href="http://b.hatena.ne.jp/entry/http://qiita.com/suin/items/0255f0637921dcdfe83b" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/suin/items/0255f0637921dcdfe83b" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/suin/items/0255f0637921dcdfe83b" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div></div><div class="itemsShowComment_wrapper" id="comments"><div data-react-class="T.CommentListContainer" data-react-props="{&quot;currentUser&quot;:null,&quot;initialComments&quot;:[{&quot;banned&quot;:false,&quot;body&quot;:&quot;\u003ch1\u003e\u003ca href=\&quot;http://el3b-on.com/\&quot; title=\&quot;العاب فلاش\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003eالعاب فلاش\u003c/a\u003e\u003c/h1\u003e\n\n\u003cp\u003e\u003c/p\u003e\u003ch1\u003e\n\u003ca href=\&quot;http://goo.gl/79FUHf\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noopener\&quot;\u003e\u003c/a\u003e\u003ca href=\&quot;http://goo.gl/79FUHf\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttp://goo.gl/79FUHf\u003c/a\u003e\u003cbr\u003e\u003cbr\u003e\n\u003ca rel=\&quot;nofollow noopener\&quot; href=\&quot;http://goo.gl/FiE3bN\&quot; target=\&quot;_blank\&quot;\u003e\u003c/a\u003e\u003ca href=\&quot;http://goo.gl/FiE3bN\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttp://goo.gl/FiE3bN\u003c/a\u003e\n\u003c/h1\u003e&quot;,&quot;created_at&quot;:&quot;2016-07-15T12:21:21+09:00&quot;,&quot;expanded_references&quot;:&quot;&quot;,&quot;id&quot;:592480,&quot;is_team&quot;:false,&quot;item_id&quot;:33205,&quot;item_type&quot;:&quot;PublicDomainArticle&quot;,&quot;item_uuid&quot;:&quot;0255f0637921dcdfe83b&quot;,&quot;likable&quot;:false,&quot;liked&quot;:false,&quot;public_likes_count&quot;:0,&quot;raw_body&quot;:&quot;\u003ch1\u003e\u003ca href=\&quot;http://el3b-on.com/\&quot; title=\&quot;العاب فلاش\&quot;\u003eالعاب فلاش\u003c/a\u003e\u003c/h1\u003e\n\n\u003ch1\u003e\u003ca href=\&quot;http://goo.gl/79FUHf\&quot; target=\&quot;_blank\&quot;\u003ehttp://goo.gl/79FUHf\u003c/a\u003e\u003cbr /\u003e\n\u003ca rel=\&quot;external\&quot; href=\&quot;http://goo.gl/FiE3bN\&quot; rel=\&quot;nofollow\&quot;\u003ehttp://goo.gl/FiE3bN\u003c/a\u003e\n&quot;,&quot;reaction_types&quot;:[{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png&quot;,&quot;name&quot;:&quot;+1&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png&quot;,&quot;name&quot;:&quot;pray&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f389.png&quot;,&quot;name&quot;:&quot;tada&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f647.png&quot;,&quot;name&quot;:&quot;bow&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f631.png&quot;,&quot;name&quot;:&quot;scream&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f440.png&quot;,&quot;name&quot;:&quot;eyes&quot;}],&quot;reactions&quot;:[],&quot;team&quot;:null,&quot;team_membership&quot;:null,&quot;updatable&quot;:false,&quot;url&quot;:&quot;http://qiita.com/suin/items/0255f0637921dcdfe83b#comment-fb4ed2f4246710a89873&quot;,&quot;user&quot;:{&quot;contribution&quot;:0,&quot;created_at&quot;:&quot;2016-07-13T10:55:24+09:00&quot;,&quot;id&quot;:133514,&quot;is_admin&quot;:false,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/133514/profile-images/1473718990&quot;,&quot;suspended&quot;:true,&quot;url_name&quot;:&quot;ledonegm&quot;},&quot;uuid&quot;:&quot;fb4ed2f4246710a89873&quot;,&quot;via_email&quot;:false}],&quot;monthly_public_image_uploadable_size_limit&quot;:null,&quot;total_uploaded_public_image_size_in_current_month&quot;:null,&quot;item&quot;:{&quot;id&quot;:33205,&quot;uuid&quot;:&quot;0255f0637921dcdfe83b&quot;,&quot;suspended&quot;:false,&quot;secret&quot;:false},&quot;owner&quot;:{&quot;url_name&quot;:&quot;suin&quot;},&quot;is_team&quot;:false,&quot;is_project&quot;:false,&quot;logged_in&quot;:false,&quot;polling&quot;:false,&quot;mention_candidates&quot;:[{&quot;id&quot;:889,&quot;url_name&quot;:&quot;suin&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/889/profile-images/1473682133&quot;},{&quot;id&quot;:133514,&quot;url_name&quot;:&quot;ledonegm&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/133514/profile-images/1473718990&quot;}]}">Comments Loading...</div></div></div></div></div></article><div class="js-report-form modal fade reportForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Report article</h4></div><div class="modal-body"><form action="/reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="C24lj7/7s3Gypvdtg3OuqoHN/7zPR7kMnxg+RWiy1GRl7L7XJNWKOk11QnHzhhDz4YrbD1iD4/ujxje+ibzaog==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/suin/items/0255f0637921dcdfe83b" /><input type="hidden" name="item_uuid" id="item_uuid" value="0255f0637921dcdfe83b" /><p>Help us understand the problem. What is going on with this item?</p><br /><div class="form-group"><ul class="list-unstyled"><li><label><input type="radio" name="report_type" id="report_type_spam" value="spam" required="required" /> It&#39;s spam </label></li><li><label><input type="radio" name="report_type" id="report_type_harassment" value="harassment" required="required" /> It&#39;s abusive or harmful </label></li><li><label><input type="radio" name="report_type" id="report_type_inappropriate_content" value="inappropriate_content" required="required" /> It contains inappropriate content </label></li></ul></div><div class="reportForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary reportForm_submitButton"><i class="fa fa-send"></i> Submit</button></div></form></div></div></div></div><script id="js-item" type="application/json">{ "url": "http://qiita.com/suin/items/0255f0637921dcdfe83b", "id": 33205, "uuid": "0255f0637921dcdfe83b" }</script><script class="js-user" type="application/json">{&quot;id&quot;:889,&quot;url_name&quot;:&quot;suin&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/889/profile-images/1473682133&quot;}</script><script language="JavaScript" src="//cdn.bigmining.com/private/js/qiita_bigmining.js" type="text/javascript"></script></div><footer class="footer"><div class="footer_inner"><div class="footer_container"><ul class="footer_links-left"><li class="footer_link"><a class="footer_copyright" href="http://increments.co.jp">© 2011-2017 Increments Inc.</a></li><li class="footer_link"><a href="http://qiita.com/terms">Terms</a></li><li class="footer_link"><a href="http://qiita.com/privacy">Privacy</a></li><li class="footer_link"><a href="http://help.qiita.com">Help</a></li><li class="footer_link"><a href="https://increments.zendesk.com/anonymous_requests/new">Contact</a></li></ul><ul class="footer_links-right"><li class="footer_link"><a href="http://qiita.com/about">About</a></li><li class="footer_link"><a href="/users">Users</a></li><li class="footer_link"><a href="/tags">Tags</a></li><li class="footer_link"><a href="http://blog.qiita.com">Blog</a></li><li class="footer_link"><a href="http://qiita.com/api/v2/docs">API</a></li><li class="footer_link"><a href="https://teams.qiita.com/">Team</a></li><li class="footer_link"><a href="http://kobito.qiita.com">Kobito</a></li><li class="footer_link"><a class="js-public-form-feedback-link" data-target=".js-feedback-form" data-toggle="modal" href=""><i class="fa fa-heart"></i> Feedback <i class="fa fa-caret-down"></i></a></li></ul></div></div></footer><div class="js-feedback-form modal fade feedbackForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Feedback</h4></div><div class="modal-body"><form class="js-feedback-form-form" action="/feedbacks" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="RwSGdxA3VTrW0boq/2JLgVwNC1/pmJRDddxXM3JQqP4phh0vixlscSkCDzaPl/XYPEov7H5czrRJAl7Ik16mOA==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/suin/items/0255f0637921dcdfe83b" /><div class="form-group"><textarea name="feedback[message]" id="feedback_message" class="form-control js-feedback-form-text-area" placeholder="Please give us any feedback about Qiita." required="required" rows="5">
</textarea></div><div class="feedbackForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary feedbackForm_submitButton"><i class="fa fa-send"></i> Submit</button><p class="feedbackForm_note">We don&#39;t reply to any feedback.<br />If you need help with Qiita, please send a support request from <a href="https://increments.zendesk.com/anonymous_requests/new">here</a>.</p></div><div style="position:fixed;top:-99999px;opacity:0.0001;"><input name="feedback[name]" type="text" /></div></form></div></div></div></div><script>// if (window.mixpanel instanceof Element) {
//   window.mixpanel = [];
// }
// (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
// for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);</script><script src="http://cdn.qiita.com/assets/public-8c6201a66dc6db6f64a9017391c319bf.min.js"></script><script>
  (function () {
    var script = document.getElementsByTagName('script')[0];
    var load = function (src, id) {
      var el = document.createElement('script');
      el.async = true;
      el.src = src;
      el.id = id;
      script.parentNode.insertBefore(el, script);
    };
      // Optimizely
      load('//cdn.optimizely.com/js/52738645.js', 'optimizely-jssdk');
      // Google Analytics
      window._gaq = window._gaq || [];
      var isCareer = location.hostname.split('.')[0] == 'career';
      if (isCareer) {
        window._gaq.push(['_setAccount', 'UA-24675221-11']);
        window._gaq.push(['_setDomainName', 'qiita.com']);
      } else {
        window._gaq.push(['_setAccount', 'UA-24675221-1']);
      }
      window._gaq.push(['_setCustomVar', 1, 'logged_in', 'false', 2]);
      window._gaq.push(['_trackPageview']);
      var src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      load(src, 'google-analytics-jssdk');
    // Google Analytics - Universal Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-24675221-12', {
          
        });
          ga('create', 'UA-11261947-11', { name: 'user' });
          ga('user.send', 'pageview');
        ga('set', 'dimension1', 'false');
        ga('set', 'dimension3', 'false');
      ga('require', 'displayfeatures');
      ga('set', 'forceSSL', true);
      ga('send', 'pageview');
    // Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TBQWPN');
  })();
</script>
</body></html>