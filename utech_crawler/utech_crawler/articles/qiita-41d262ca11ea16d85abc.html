<!DOCTYPE html><html xmlns:og="http://ogp.me/ns#"><head><meta charset="UTF-8" /><title>Python ビット演算 超入門 - Qiita</title><meta content="width=device-width,initial-scale=1" name="viewport" /><meta content="2進数に対して行うビット演算の初歩を説明します。説明にはPythonを使用します。


2進数

0bを付けて記述します。REPLで入力すると10進数に変換されます。


&gt;&gt;&gt; 0b101
5


2進数に変換するにはbin()を使います。


&gt;&gt;&gt; bin(5)
&#39;0b101&#39;



16進数

元の数値を16進数で記述すれば、16進数から2進数に変換できます。


&gt;&gt;&gt; bin(0x12)
&#39;0b10010&#39;


16進数に変換するにはhex()を使います。
..." name="description" /><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta content="7shi" name="twitter:creator" /><meta content="Python ビット演算 超入門 - Qiita" property="og:title" /><meta content="article" property="og:type" /><meta content="http://qiita.com/7shi/items/41d262ca11ea16d85abc" property="og:url" /><meta content="http://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png" property="og:image" /><meta content="2進数に対して行うビット演算の初歩を説明します。説明にはPythonを使用します。

# 2進数

`0b`を付けて記述します。REPLで入力すると10進数に変換されます。

```py
&gt;&gt;&gt; 0b101
5
```

2進数に変換..." property="og:description" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><link rel="shortcut icon" type="image/x-icon" href="http://cdn.qiita.com/assets/favicons/public/production-4ff10c1e1e2b5fcb353ff9cafdd56c70.ico" /><link rel="apple-touch-icon" type="image/png" href="http://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link rel="stylesheet" media="all" href="http://cdn.qiita.com/assets/public-e8d29e8ff1879118096f0f5877946857.min.css" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="TZd0QgwGY9q65te/yDUPzbbqYi5JlaQibdoFUKbGKekjFe8alyhakUU1YqO4wLGU1q1Gnd5R/tVRBAyrR8gnLw==" /></head><body class="without-js" id=""><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TBQWPN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>
  document.body.className = document.body.className.replace('without-js', '') + ' with-js';
  window.Qiita = {"asset_host":"cdn.qiita.com","TLD":"com","controller_path":"public/items","controller_action":"public/items#show","controller":"items","action":"show","env":"production","flash":{},"is_landing_page":false,"is_team_page":false,"root_domain":"qiita.com","variant":null,"config":{"mixpanel":{"career":"dd35af27e959781713d63fd7ca898a8d","per_team":"c0a2116368b33b44b5029ebd2cc9b094","public":"be87616606b0e26a87689099aab2c4e5","team":"b7c0342acba2dbc8742484d98788efb3"},"default_locale":"ja","locale":"en"},"team":null,"user":null,"GIT_BRANCH":null,"DEBUG":false};

</script>
<div class="headerContainer headerContainer-public" role="navigation"><div data-react-class="T.HeaderContainer" data-react-props="{&quot;user&quot;:null,&quot;team&quot;:null,&quot;news&quot;:{&quot;type&quot;:&quot;News&quot;,&quot;content&quot;:&quot;ストックの他に「いいね」が追加されました&quot;,&quot;url&quot;:&quot;http://blog.qiita.com/post/153200849029/qiita-like-button&quot;},&quot;initial_unread_count&quot;:null,&quot;siteid_image&quot;:&quot;http://cdn.qiita.com/siteid-reverse.png&quot;,&quot;is_team_page&quot;:false,&quot;on_team_setting&quot;:false,&quot;show_post_menu&quot;:true,&quot;show_search_menu&quot;:true,&quot;is_fluid&quot;:false,&quot;locale&quot;:&quot;en&quot;}"></div></div><div id="main"><ol class="itemBreadcrumbs" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/"><span itemprop="name">Qiita</span></a><meta content="1" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/items"><span itemprop="name">Items</span></a><meta content="2" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/tags/Python"><span itemprop="name">Python</span></a><meta content="3" itemprop="position" /></li></ol><article itemscope="" itemtype="http://schema.org/Article"><div class="ArticleMainHeader "><div class="container"></div><div class="container"><div class="row s-flex-align-center"><div class="col-sm-9"><h1 class="ArticleMainHeader__title">Python ビット演算 超入門</h1><ul class="TagList"><li class="TagList__item" data-count="9697"><a class="u-link-unstyled TagList__label" href="/tags/Python"><img alt="Python" class="TagList__icon" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/28fd3d6b220c89e6197fd82c02fd2fcd2bb66d81/medium.jpg?1383884245" /><span>Python</span></a></li></ul></div><div class="col-sm-3"><div class="itemsShowHeaderStock"><ul class="list-unstyled itemsShowHeaderStock_statusList"><li><div class="itemsShowHeaderStock_count stock"><span class="fa fa-thumbs-up"></span><span class="js-likecount">63</span></div><div class="itemsShowHeaderStock_countText">Like</div></li><li><div class="itemsShowHeaderStock_count" content="0 UserComments" itemprop="interactionCount"><span class="fa fa-comment"></span>0</div><div class="itemsShowHeaderStock_countText">Comment</div></li></ul></div><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:63,&quot;uuid&quot;:&quot;41d262ca11ea16d85abc&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-header&quot;}"></div><ul class="list-inline ArticleMainHeader__users"><li class="js-hovercard" data-hovercard-target-name="danpansa"><a itemprop="url" href="/danpansa"><img alt="danpansa" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/24009/profile-images/1473683972" /></a></li><li class="js-hovercard" data-hovercard-target-name="hello_analytics"><a itemprop="url" href="/hello_analytics"><img alt="hello_analytics" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/61199/profile-images/1473695456" /></a></li><li class="js-hovercard" data-hovercard-target-name="fantm21"><a itemprop="url" href="/fantm21"><img alt="fantm21" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/32946/profile-images/1473686015" /></a></li><li class="js-hovercard" data-hovercard-target-name="hisatoshi"><a itemprop="url" href="/hisatoshi"><img alt="hisatoshi" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/61245/profile-images/1473761528" /></a></li><li class="js-hovercard" data-hovercard-target-name="Ushiki"><a itemprop="url" href="/Ushiki"><img alt="Ushiki" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/48690/profile-images/1473691443" /></a></li><li class="js-hovercard" data-hovercard-target-name="ynishimura"><a itemprop="url" href="/ynishimura"><img alt="ynishimura" class="thumb thumb--xs" src="https://1.gravatar.com/avatar/3d0cf38265ebea3b403b81b2534fb49c?d=https%3A%2F%2Fidenticons.github.com%2Ffd6861840821995cac8bc50c82b51fb4.png&amp;r=x" /></a></li><li class="js-hovercard" data-hovercard-target-name="houmei"><a itemprop="url" href="/houmei"><img alt="houmei" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/935/profile-images/1473755344" /></a></li><li class="js-hovercard" data-hovercard-target-name="CORDEA"><a itemprop="url" href="/CORDEA"><img alt="CORDEA" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/50422/profile-images/1473692098" /></a></li><li class="js-hovercard" data-hovercard-target-name="kenichi_cc"><a itemprop="url" href="/kenichi_cc"><img alt="kenichi_cc" class="thumb thumb--xs" src="https://secure.gravatar.com/avatar/46094d9b412129cf6a4e61099ae47872?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" /></a></li><li class="js-hovercard" data-hovercard-target-name="ritta"><a itemprop="url" href="/ritta"><img alt="ritta" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/51375/profile-images/1473692420" /></a></li><li><a href="/7shi/items/41d262ca11ea16d85abc/likers"><span class="fa fa-ellipsis-h"></span></a></li></ul></div></div></div></div><div class="ArticleAsideHeader"><div class="container"><div class="u-flex u-space-between"><div class="u-flex u-flex-wrap"><div class="u-flex u-align-center s-pdv-5 u-flex-wrap"><div class="ArticleAsideHeader__author"><a href="/7shi"><img class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" alt="1473685823" /></a> <a class="u-link-unstyled" href="/7shi">7shi</a> </div><div class="ArticleAsideHeader__date"><span data-toggle="tooltip" title="posted at 2014-12-14">Edited at <time datetime="2014-12-15T17:50:09+09:00" itemprop="dateModified">2014-12-15</time></span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"><div class="ArticleAsideHeader__revision"> <a data-toggle="tooltip" title="Revisions" href="/7shi/items/41d262ca11ea16d85abc/revisions"><span class="fa fa-history"></span></a><span class="ArticleAsideHeader__revisionCount">19</span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"></div></div><div class="u-flex u-align-center s-flex-justiry-between s-pdv-5 u-shrink-0"><div class="ArticleAsideHeader__stock"><div class="js-stockbutton" data-position="top" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h fa-lg"></span></a><ul class="dropdown-menu dropdown-menu-right"><li class="dropdown__item--mobile"><a href="/7shi/items/41d262ca11ea16d85abc/revisions"><span class="fa fa-fw fa-history"></span> Revisions<span>(19)</span></a></li><li><a href="/7shi/items/41d262ca11ea16d85abc.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><span class="fa fa-fw fa-flag"></span> Report article</a></li></ul></div></div></div></div></div><div class="container"><div class="row" id="article-body-wrapper"><div class="col-sm-9"><section class="markdownContent markdownContent-headingEnabled js-task-list-container clearfix position-relative" id="item-41d262ca11ea16d85abc" itemprop="articleBody"><div class="alert alert-warning"><i class="fa fa-clock-o"></i> More than 1 year has passed since last update.</div><p>2進数に対して行うビット演算の初歩を説明します。説明にはPythonを使用します。</p>

<h1>
<span id="2進数" class="fragment"></span><a href="#2%E9%80%B2%E6%95%B0"><i class="fa fa-link"></i></a>2進数</h1>

<p><code>0b</code>を付けて記述します。REPLで入力すると10進数に変換されます。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="mb">0b101</span>
<span class="mi">5</span>
</pre></div></div>

<p>2進数に変換するには<code>bin()</code>を使います。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="s">'0b101'</span>
</pre></div></div>

<h2>
<span id="16進数" class="fragment"></span><a href="#16%E9%80%B2%E6%95%B0"><i class="fa fa-link"></i></a>16進数</h2>

<p>元の数値を16進数で記述すれば、16進数から2進数に変換できます。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mh">0x12</span><span class="p">)</span>
<span class="s">'0b10010'</span>
</pre></div></div>

<p>16進数に変換するには<code>hex()</code>を使います。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">hex</span><span class="p">(</span><span class="mb">0b10010</span><span class="p">)</span>
<span class="s">'0x12'</span>
</pre></div></div>

<h1>
<span id="シフト" class="fragment"></span><a href="#%E3%82%B7%E3%83%95%E3%83%88"><i class="fa fa-link"></i></a>シフト</h1>

<p>桁をずらします。方向により左シフトと右シフトがあります。</p>

<h2>
<span id="左シフト" class="fragment"></span><a href="#%E5%B7%A6%E3%82%B7%E3%83%95%E3%83%88"><i class="fa fa-link"></i></a>左シフト</h2>

<p>演算子<code>&lt;&lt;</code>です。指定した桁だけ左にずらして、空いたビットには0が入ります。</p>

<p>右揃えに整形して例を示します。</p>

<table>
<thead>
<tr>
<th>入力</th>
<th style="text-align: right">出力</th>
</tr>
</thead>
<tbody>
<tr>
<td>bin(5&lt;&lt;0)</td>
<td style="text-align: right">'0b101'</td>
</tr>
<tr>
<td>bin(5&lt;&lt;1)</td>
<td style="text-align: right">'0b1010'</td>
</tr>
<tr>
<td>bin(5&lt;&lt;2)</td>
<td style="text-align: right">'0b10100'</td>
</tr>
<tr>
<td>bin(5&lt;&lt;3)</td>
<td style="text-align: right">'0b101000'</td>
</tr>
</tbody>
</table>

<h2>
<span id="右シフト" class="fragment"></span><a href="#%E5%8F%B3%E3%82%B7%E3%83%95%E3%83%88"><i class="fa fa-link"></i></a>右シフト</h2>

<p>演算子<code>&gt;&gt;</code>です。指定した桁だけ右にずらして、最下位より先に押し出されたビットは消えます。</p>

<p>右揃えに整形して例を示します。</p>

<table>
<thead>
<tr>
<th>入力</th>
<th style="text-align: right">出力</th>
</tr>
</thead>
<tbody>
<tr>
<td>bin(5&gt;&gt;0)</td>
<td style="text-align: right">'0b101'</td>
</tr>
<tr>
<td>bin(5&gt;&gt;1)</td>
<td style="text-align: right">'0b10'</td>
</tr>
<tr>
<td>bin(5&gt;&gt;2)</td>
<td style="text-align: right">'0b1'</td>
</tr>
<tr>
<td>bin(5&gt;&gt;3)</td>
<td style="text-align: right">'0b0'</td>
</tr>
</tbody>
</table>

<h1>
<span id="論理演算" class="fragment"></span><a href="#%E8%AB%96%E7%90%86%E6%BC%94%E7%AE%97"><i class="fa fa-link"></i></a>論理演算</h1>

<p>2進数の各桁に対する計算です。</p>

<p>基本的な考え方は真偽値による処理で、1を真、0を偽と見なします。</p>

<h2>
<span id="論理積-and" class="fragment"></span><a href="#%E8%AB%96%E7%90%86%E7%A9%8D-and"><i class="fa fa-link"></i></a>論理積 (AND)</h2>

<p>演算子<code>&amp;</code>です。<strong>両方</strong>が真(1)のときにしか成立(1)しません。1桁だけ見れば掛け算と同じです。</p>

<table>
<thead>
<tr>
<th>AND</th>
<th>掛け算</th>
<th style="text-align: center">結果</th>
</tr>
</thead>
<tbody>
<tr>
<td>0 &amp; 0</td>
<td>0 * 0</td>
<td style="text-align: center">0</td>
</tr>
<tr>
<td>0 &amp; 1</td>
<td>0 * 1</td>
<td style="text-align: center">0</td>
</tr>
<tr>
<td>1 &amp; 0</td>
<td>1 * 0</td>
<td style="text-align: center">0</td>
</tr>
<tr>
<td>1 &amp; 1</td>
<td>1 * 1</td>
<td style="text-align: center">1</td>
</tr>
</tbody>
</table>

<p>複数桁では繰り上がりを一切考えずに、桁ごとに独立して掛け算します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>
   10010010
&amp;) 10100111
-----------
   10000010
</pre></div></div>

<p>Pythonで確認します。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b10010010</span> <span class="o">&amp;</span> <span class="mb">0b10100111</span><span class="p">)</span>
<span class="s">'0b10000010'</span>
</pre></div></div>

<h2>
<span id="論理和-or" class="fragment"></span><a href="#%E8%AB%96%E7%90%86%E5%92%8C-or"><i class="fa fa-link"></i></a>論理和 (OR)</h2>

<p>演算子<code>|</code>です。<strong>どちらか</strong>が真(1)であれば成立(1)します。1桁だけ見れば足し算に似ていますが、計算結果の1以上はすべて1として扱います（2→1）。</p>

<table>
<tr>
<th>OR</th>
<th>足し算</th>
<th>結果</th>
</tr>
<tr>
<td>0 | 0</td>
<td>0 + 0</td>
<td>0</td>
</tr>
<tr>
<td>0 | 1</td>
<td>0 + 1</td>
<td>1</td>
</tr>
<tr>
<td>1 | 0</td>
<td>1 + 0</td>
<td>1</td>
</tr>
<tr>
<td>1 | 1</td>
<td>1 + 1</td>
<td>2→1</td>
</tr>
</table>

<p>複数桁では繰り上がりを一切考えずに、桁ごとに独立して足し算します。計算結果の1以上はすべて1として扱います（2→1）。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>
   10010010
|) 10100111
-----------
   10110111
</pre></div></div>

<p>Pythonで確認します。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b10010010</span> <span class="o">|</span> <span class="mb">0b10100111</span><span class="p">)</span>
<span class="s">'0b10110111'</span>
</pre></div></div>

<h2>
<span id="排他的論理和-xor" class="fragment"></span><a href="#%E6%8E%92%E4%BB%96%E7%9A%84%E8%AB%96%E7%90%86%E5%92%8C-xor"><i class="fa fa-link"></i></a>排他的論理和 (XOR)</h2>

<p>演算子<code>^</code>です。<strong>片方だけ</strong>が真(1)であれば成立(1)します（両立しない点が<strong>排他的</strong>）。2進数1桁だけ見れば繰り上りを捨てる足し算です（1+1=2=0b10 → 0）。</p>

<table>
<thead>
<tr>
<th>XOR</th>
<th>足し算</th>
<th>結果</th>
</tr>
</thead>
<tbody>
<tr>
<td>0 ^ 0</td>
<td>0 + 0</td>
<td>0</td>
</tr>
<tr>
<td>0 ^ 1</td>
<td>0 + 1</td>
<td>1</td>
</tr>
<tr>
<td>1 ^ 0</td>
<td>1 + 0</td>
<td>1</td>
</tr>
<tr>
<td>1 ^ 1</td>
<td>1 + 1</td>
<td>2→0</td>
</tr>
</tbody>
</table>

<p>複数桁では繰り上がりを一切考えずに、桁ごとに独立して足し算します。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>
   10010010
^) 10100111
-----------
   00110101
</pre></div></div>

<p>Pythonで確認します。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b10010010</span> <span class="o">^</span> <span class="mb">0b10100111</span><span class="p">)</span>
<span class="s">'0b110101'</span>
</pre></div></div>

<p>同じ値で2回XORすると元の値に戻るという性質があります。</p>

<ul>
<li>
<code>a ^ b ^ b</code> → <code>a</code>
</li>
</ul>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b10010010</span> <span class="o">^</span> <span class="mb">0b10100111</span> <span class="o">^</span> <span class="mb">0b10100111</span><span class="p">)</span>
<span class="s">'0b10010010'</span>
</pre></div></div>

<p>元の値を消すこともできます。</p>

<ul>
<li>
<code>a ^ b ^ a</code> → <code>b</code>
</li>
</ul>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b10010010</span> <span class="o">^</span> <span class="mb">0b10100111</span> <span class="o">^</span> <span class="mb">0b10010010</span><span class="p">)</span>
<span class="s">'0b10100111'</span>
</pre></div></div>

<h2>
<span id="反転-not" class="fragment"></span><a href="#%E5%8F%8D%E8%BB%A2-not"><i class="fa fa-link"></i></a>反転 (NOT)</h2>

<p>演算子<code>~</code>です。0と1を逆にします。</p>

<p>Pythonでは上の桁が無限に0で埋められていると見なして、反転も上の桁が無限に1で埋められているという想定でマイナスを返します。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="o">~</span><span class="mi">1</span>
<span class="o">-</span><span class="mi">2</span>
</pre></div></div>

<p>この計算は <code>000...0001</code> → <code>111...1110</code> を意味しています。</p>

<p>後でANDとNOTの組み合わせで見るように、通常はビットだけに注目して具体的な数値（ここではマイナス）は意識しません。符号の考え方について興味がある方は次の記事を参照してください。</p>

<ul>
<li>
<a href="https://twitter.com/7shi" rel="nofollow noopener" target="_blank">@7shi</a>: <a href="http://qiita.com/7shi/items/6887e7939c0168a0eb21" id="reference-4d210e52b322a1bb2a85">符号あり数値の直感的な考え方</a> 2014.10.8</li>
</ul>

<p>※ 値だけに注目して <code>~x</code>→<code>-(x+1)</code> という式が紹介されることもあります。これを見てもビット反転の意味が分からないので、ここでは深く追求しません。</p>

<h1>
<span id="使用例" class="fragment"></span><a href="#%E4%BD%BF%E7%94%A8%E4%BE%8B"><i class="fa fa-link"></i></a>使用例</h1>

<p>ビット演算は一部のビットだけを取り出すときなどによく使われます。</p>

<h2>
<span id="ビットマスク" class="fragment"></span><a href="#%E3%83%93%E3%83%83%E3%83%88%E3%83%9E%E3%82%B9%E3%82%AF"><i class="fa fa-link"></i></a>ビットマスク</h2>

<p>ビットのうち必要な部分だけを取り出すとき、必要な部分だけを1にした数とANDします。</p>

<p>例: 101<strong>110</strong>から下位3ビット（太字の部分）を取り出す。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>
   101110
&amp;) 000111
---------
   000110
</pre></div></div>

<h3>
<span id="シフトとの併用" class="fragment"></span><a href="#%E3%82%B7%E3%83%95%E3%83%88%E3%81%A8%E3%81%AE%E4%BD%B5%E7%94%A8"><i class="fa fa-link"></i></a>シフトとの併用</h3>

<p>途中のビットだけを抜き出したいときはシフトとマスクを併用します。</p>

<p>例: 10<strong>11</strong>10から中央の2ビット（太字の部分）を取り出す。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">((</span><span class="mb">0b101110</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mb">0b11</span><span class="p">)</span>
<span class="s">'0b11'</span>
</pre></div></div>

<h3>
<span id="notとの併用" class="fragment"></span><a href="#not%E3%81%A8%E3%81%AE%E4%BD%B5%E7%94%A8"><i class="fa fa-link"></i></a>NOTとの併用</h3>

<p>ANDと組み合わせてNOTを使う場合、NOTの結果がマイナスになることは気にしないで使えるということを示します。</p>

<p>NOTの計算結果をANDでマスクすれば、桁数を限定してマイナスを排除できます。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="o">~</span><span class="mi">1</span> <span class="o">&amp;</span> <span class="mb">0b1111</span><span class="p">)</span>
<span class="s">'0b1110'</span>
</pre></div></div>

<p>この計算は2進数4桁に限定することで <code>0001</code> → <code>1110</code> という反転を示しています。</p>

<p>NOTはマスク値の作成に使うことが多く、その場合もマイナスのことは意識しません。</p>

<p>例えば10<strong>11</strong>10の中央の2ビット（太字の部分）だけを消したい場合、NOTを使うことで消したい部分に注目したコードとなります。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b101110</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mb">0b001100</span><span class="p">)</span>
<span class="s">'0b100010'</span>
</pre></div></div>

<p>比較対象としてNOTを使わないコードを示します。残したい部分に注目しています。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b101110</span> <span class="o">&amp;</span> <span class="mb">0b110011</span><span class="p">)</span>
<span class="s">'0b100010'</span>
</pre></div></div>

<h2>
<span id="ビットの合成" class="fragment"></span><a href="#%E3%83%93%E3%83%83%E3%83%88%E3%81%AE%E5%90%88%E6%88%90"><i class="fa fa-link"></i></a>ビットの合成</h2>

<p>複数の値を別々の位置に収めたいときはシフトとORを併用します。</p>

<p>例: <code>101</code>と<code>110</code>を並べて1つの値に合成する。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">((</span><span class="mb">0b101</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="mb">0b110</span><span class="p">)</span>
<span class="s">'0b101110'</span>
</pre></div></div>

<h3>
<span id="andとの併用" class="fragment"></span><a href="#and%E3%81%A8%E3%81%AE%E4%BD%B5%E7%94%A8"><i class="fa fa-link"></i></a>ANDとの併用</h3>

<p>合成したい箇所に既に別の値が入っている場合は、先にANDで消してからORします。</p>

<p>例: 101<strong>101</strong>の下位3ビット（太字の部分）を<code>011</code>に置き替える。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>
   101101
&amp;) 111000
---------
   101000
|)    011
---------
   101011
</pre></div></div>

<p>Pythonで確認します。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b101101</span> <span class="o">&amp;</span> <span class="mb">0b111000</span> <span class="o">|</span> <span class="mb">0b011</span><span class="p">)</span>
<span class="s">'0b101011'</span>
</pre></div></div>

<p>この手法は画像の生成で背景とキャラクターの合成にも使われます。</p>

<p><a href="https://qiita-image-store.s3.amazonaws.com/0/32057/efd614a8-4e6d-1542-7ece-8c9d415582c0.jpeg" target="_blank" rel="nofollow noopener"><img src="https://qiita-image-store.s3.amazonaws.com/0/32057/efd614a8-4e6d-1542-7ece-8c9d415582c0.jpeg" alt="merge.jpg"></a></p>

<h2>
<span id="間違い探し" class="fragment"></span><a href="#%E9%96%93%E9%81%95%E3%81%84%E6%8E%A2%E3%81%97"><i class="fa fa-link"></i></a>間違い探し</h2>

<p>XORを使うと2つの数のうち異なるビットが分かります。</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>
   11101011101110101
^) 11101101101110101
--------------------
   00000110000000000
</pre></div></div>

<p>Pythonで確認します。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b11101011101110101</span> <span class="o">^</span> <span class="mb">0b11101101101110101</span><span class="p">)</span>
<span class="s">'0b110000000000'</span>
</pre></div></div>

<h2>
<span id="値の入れ替え" class="fragment"></span><a href="#%E5%80%A4%E3%81%AE%E5%85%A5%E3%82%8C%E6%9B%BF%E3%81%88"><i class="fa fa-link"></i></a>値の入れ替え</h2>

<p>【注】実用性というより、知識としての紹介です。</p>

<p>多重XORの応用で、変数の値を交換するテクニックがあります。</p>

<ul>
<li><a href="http://ja.wikipedia.org/wiki/XOR%E4%BA%A4%E6%8F%9B%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0" rel="nofollow noopener" target="_blank">XOR交換アルゴリズム - Wikipedia</a></li>
</ul>

<p>Pythonで確認します。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">12</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">34</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">34</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">^</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">^</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">^</span> <span class="n">b</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span>
<span class="p">(</span><span class="mi">34</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</pre></div></div>

<p>実用上はタプルを使った方が簡単です。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span>
</pre></div></div>

<h1>
<span id="計算との関係" class="fragment"></span><a href="#%E8%A8%88%E7%AE%97%E3%81%A8%E3%81%AE%E9%96%A2%E4%BF%82"><i class="fa fa-link"></i></a>計算との関係</h1>

<p>ビット演算ではある種の計算が代用できます。よく使われるものを取り上げます。</p>

<h2>
<span id="掛け算" class="fragment"></span><a href="#%E6%8E%9B%E3%81%91%E7%AE%97"><i class="fa fa-link"></i></a>掛け算</h2>

<p>2進数は桁が上がることに値が2倍になります。</p>

<table>
<thead>
<tr>
<th style="text-align: right">2進数</th>
<th style="text-align: right">10進数</th>
<th>左シフト</th>
<th>計算</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right">0b1</td>
<td style="text-align: right">1</td>
<td>1 &lt;&lt; 0</td>
<td>$2^0$</td>
</tr>
<tr>
<td style="text-align: right">0b10</td>
<td style="text-align: right">2</td>
<td>1 &lt;&lt; 1</td>
<td>$2^1$</td>
</tr>
<tr>
<td style="text-align: right">0b100</td>
<td style="text-align: right">4</td>
<td>1 &lt;&lt; 2</td>
<td>$2^2$</td>
</tr>
<tr>
<td style="text-align: right">0b1000</td>
<td style="text-align: right">8</td>
<td>1 &lt;&lt; 3</td>
<td>$2^3$</td>
</tr>
</tbody>
</table>

<p>つまり <code>1 &lt;&lt; n</code> は $2^n$ と等しいです。</p>

<p>任意の数を1ビット左シフトするごとに2倍になります。</p>

<table>
<thead>
<tr>
<th>左シフト</th>
<th>掛け算</th>
<th style="text-align: right">出力</th>
</tr>
</thead>
<tbody>
<tr>
<td>bin(5&lt;&lt;0)</td>
<td>bin(5)</td>
<td style="text-align: right">'0b101'</td>
</tr>
<tr>
<td>bin(5&lt;&lt;1)</td>
<td>bin(5*2)</td>
<td style="text-align: right">'0b1010'</td>
</tr>
<tr>
<td>bin(5&lt;&lt;2)</td>
<td>bin(5*2*2)</td>
<td style="text-align: right">'0b10100'</td>
</tr>
<tr>
<td>bin(5&lt;&lt;3)</td>
<td>bin(5*2*2*2)</td>
<td style="text-align: right">'0b101000'</td>
</tr>
</tbody>
</table>

<p>つまり『nビットの左シフト』は『$2^n$の掛け算』と同じ結果です。</p>

<h2>
<span id="割り算" class="fragment"></span><a href="#%E5%89%B2%E3%82%8A%E7%AE%97"><i class="fa fa-link"></i></a>割り算</h2>

<p>逆の理屈で『nビットの右シフト』は『$2^n$の割り算（切り捨て）』と同じ結果です。</p>

<table>
<thead>
<tr>
<th>右シフト</th>
<th>割り算</th>
<th style="text-align: right">出力</th>
</tr>
</thead>
<tbody>
<tr>
<td>bin(45&gt;&gt;0)</td>
<td>bin(45)</td>
<td style="text-align: right">'0b101101'</td>
</tr>
<tr>
<td>bin(45&gt;&gt;1)</td>
<td>bin(45/2)</td>
<td style="text-align: right">'0b10110'</td>
</tr>
<tr>
<td>bin(45&gt;&gt;2)</td>
<td>bin(45/2/2)</td>
<td style="text-align: right">'0b1011'</td>
</tr>
<tr>
<td>bin(45&gt;&gt;3)</td>
<td>bin(45/2/2/2)</td>
<td style="text-align: right">'0b101'</td>
</tr>
</tbody>
</table>

<h2>
<span id="割り算の余り" class="fragment"></span><a href="#%E5%89%B2%E3%82%8A%E7%AE%97%E3%81%AE%E4%BD%99%E3%82%8A"><i class="fa fa-link"></i></a>割り算の余り</h2>

<p>『$2^n$ による割り算の余り』は『$2^n-1$とのAND』に等しいです。</p>

<ul>
<li>
<code>x % (2 ** n)</code> == <code>x &amp; ((2 ** n) - 1)</code>
</li>
</ul>

<p>例: <code>x % 8</code> == <code>x &amp; 7</code></p>

<h3>
<span id="説明" class="fragment"></span><a href="#%E8%AA%AC%E6%98%8E"><i class="fa fa-link"></i></a>説明</h3>

<p>これが成り立つ理由をなるべく直感的に説明します。</p>

<p><code>0b110101</code>を3ビット右シフトするのは、$2^3=8$で割って切り捨てたのと等しいです。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b110101</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">)</span>
<span class="s">'0b110'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b110101</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span>
<span class="s">'0b110'</span>
</pre></div></div>

<p>このときにシフトで押し出された下位3ビット<code>101</code>が割り算の余りに相当します。<code>111</code>でマスクすると取り出せます。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b110101</span> <span class="o">&amp;</span> <span class="mb">0b111</span><span class="p">)</span>
<span class="s">'0b101'</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">bin</span><span class="p">(</span><span class="mb">0b110101</span> <span class="o">%</span> <span class="mi">8</span><span class="p">)</span>
<span class="s">'0b101'</span>
</pre></div></div>

<p><code>0b111</code>は<code>7</code>で、つまり<code>8-1</code>です。これにより次の関係を確認しました。</p>

<ul>
<li>
<code>x % 8</code> == <code>x &amp; 7</code>
</li>
</ul>

<h2>
<span id="切り下げ" class="fragment"></span><a href="#%E5%88%87%E3%82%8A%E4%B8%8B%E3%81%92"><i class="fa fa-link"></i></a>切り下げ</h2>

<p>『下位nビットのクリア』は『$2^n$での切り下げ』に相当します。</p>

<p>例としてシフトによる$2^3=8$での切り下げを示します。右シフトで下位3ビットを押し出して、左シフトで元のビット幅に戻しています。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">15</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span>
<span class="mi">8</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">16</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span>
<span class="mi">16</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">17</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span>
<span class="mi">16</span>
</pre></div></div>

<p>特定のビットを消すのはANDとNOTの組み合わせでも可能です。最初は分かりにくいかもしれませんが、シフトよりもこの方法がよく使われます。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">15</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mb">0b111</span>
<span class="mi">8</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">16</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mb">0b111</span>
<span class="mi">16</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">17</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mb">0b111</span>
<span class="mi">16</span>
</pre></div></div>

<p><code>0b111</code>は<code>7</code>で、つまり<code>8-1</code>です。これは先に見た余りを求める方法にも出て来た関係です。</p>

<p><code>~7</code> → <code>-8</code> の関係を使うと、8での切り下げを-8で表現できます。</p>

<div class="code-frame" data-lang="py"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">15</span> <span class="o">&amp;</span> <span class="o">-</span><span class="mi">8</span>
<span class="mi">8</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">16</span> <span class="o">&amp;</span> <span class="o">-</span><span class="mi">8</span>
<span class="mi">16</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">17</span> <span class="o">&amp;</span> <span class="o">-</span><span class="mi">8</span>
<span class="mi">16</span>
</pre></div></div>

<p>これを初めて見ると意味が分からないかもしれません。とりあえず「こういう式で表記することもある」とだけ認識しておけば良いです。</p>
<div class="hidden"><form class="js-task-list-update" action="/7shi/items/41d262ca11ea16d85abc" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="_method" value="patch" /><input type="hidden" name="authenticity_token" value="U4PxgGZ90HkNVFVq8Rp7DekJOn6Rsy8teYsL5JWW7H89AWrY/VPpMvKH4HaB78VUiU4ezQZ3ddpFVQIfdJjiuQ==" /><input type="hidden" name="updated_at_confirmation_in_unixtime" id="updated_at_confirmation_in_unixtime" value="1418633409" class="js-task-list-updated-at" /><textarea name="raw_body" id="raw_body" class="js-task-list-field">
2進数に対して行うビット演算の初歩を説明します。説明にはPythonを使用します。

# 2進数

`0b`を付けて記述します。REPLで入力すると10進数に変換されます。

```py
&gt;&gt;&gt; 0b101
5
```

2進数に変換するには`bin()`を使います。

```py
&gt;&gt;&gt; bin(5)
&#39;0b101&#39;
```

## 16進数

元の数値を16進数で記述すれば、16進数から2進数に変換できます。

```py
&gt;&gt;&gt; bin(0x12)
&#39;0b10010&#39;
```

16進数に変換するには`hex()`を使います。

```py
&gt;&gt;&gt; hex(0b10010)
&#39;0x12&#39;
```

# シフト

桁をずらします。方向により左シフトと右シフトがあります。

## 左シフト

演算子`&lt;&lt;`です。指定した桁だけ左にずらして、空いたビットには0が入ります。

右揃えに整形して例を示します。

入力     |出力
---------|----:
bin(5&lt;&lt;0)|&#39;0b101&#39;
bin(5&lt;&lt;1)|&#39;0b1010&#39;
bin(5&lt;&lt;2)|&#39;0b10100&#39;
bin(5&lt;&lt;3)|&#39;0b101000&#39;

## 右シフト

演算子`&gt;&gt;`です。指定した桁だけ右にずらして、最下位より先に押し出されたビットは消えます。

右揃えに整形して例を示します。

入力     |出力
---------|----:
bin(5&gt;&gt;0)|&#39;0b101&#39;
bin(5&gt;&gt;1)|&#39;0b10&#39;
bin(5&gt;&gt;2)|&#39;0b1&#39;
bin(5&gt;&gt;3)|&#39;0b0&#39;

# 論理演算

2進数の各桁に対する計算です。

基本的な考え方は真偽値による処理で、1を真、0を偽と見なします。

## 論理積 (AND)

演算子`&amp;`です。**両方**が真(1)のときにしか成立(1)しません。1桁だけ見れば掛け算と同じです。

AND  |掛け算|結果
-----|------|:--:
0 &amp; 0|0 * 0 | 0
0 &amp; 1|0 * 1 | 0
1 &amp; 0|1 * 0 | 0
1 &amp; 1|1 * 1 | 1

複数桁では繰り上がりを一切考えずに、桁ごとに独立して掛け算します。

```text
   10010010
&amp;) 10100111
-----------
   10000010
```

Pythonで確認します。

```py
&gt;&gt;&gt; bin(0b10010010 &amp; 0b10100111)
&#39;0b10000010&#39;
```

## 論理和 (OR)

演算子`|`です。**どちらか**が真(1)であれば成立(1)します。1桁だけ見れば足し算に似ていますが、計算結果の1以上はすべて1として扱います（2→1）。

&lt;table&gt;&lt;tr&gt;&lt;th&gt;OR&lt;/th&gt;&lt;th&gt;足し算&lt;/th&gt;&lt;th&gt;結果&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;0 | 0&lt;/td&gt;&lt;td&gt;0 + 0&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;0 | 1&lt;/td&gt;&lt;td&gt;0 + 1&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1 | 0&lt;/td&gt;&lt;td&gt;1 + 0&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;1 | 1&lt;/td&gt;&lt;td&gt;1 + 1&lt;/td&gt;&lt;td&gt;2→1&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

複数桁では繰り上がりを一切考えずに、桁ごとに独立して足し算します。計算結果の1以上はすべて1として扱います（2→1）。

```text
   10010010
|) 10100111
-----------
   10110111
```

Pythonで確認します。

```py
&gt;&gt;&gt; bin(0b10010010 | 0b10100111)
&#39;0b10110111&#39;
```

## 排他的論理和 (XOR)

演算子`^`です。**片方だけ**が真(1)であれば成立(1)します（両立しない点が**排他的**）。2進数1桁だけ見れば繰り上りを捨てる足し算です（1+1=2=0b10 → 0）。

XOR  |足し算|結果
-----|------|----
0 ^ 0|0 + 0 |0
0 ^ 1|0 + 1 |1
1 ^ 0|1 + 0 |1
1 ^ 1|1 + 1 |2→0

複数桁では繰り上がりを一切考えずに、桁ごとに独立して足し算します。

```text
   10010010
^) 10100111
-----------
   00110101
```

Pythonで確認します。

```py
&gt;&gt;&gt; bin(0b10010010 ^ 0b10100111)
&#39;0b110101&#39;
```

同じ値で2回XORすると元の値に戻るという性質があります。

* `a ^ b ^ b` → `a`

```py
&gt;&gt;&gt; bin(0b10010010 ^ 0b10100111 ^ 0b10100111)
&#39;0b10010010&#39;
```

元の値を消すこともできます。

* `a ^ b ^ a` → `b`

```py
&gt;&gt;&gt; bin(0b10010010 ^ 0b10100111 ^ 0b10010010)
&#39;0b10100111&#39;
```

## 反転 (NOT)

演算子`~`です。0と1を逆にします。

Pythonでは上の桁が無限に0で埋められていると見なして、反転も上の桁が無限に1で埋められているという想定でマイナスを返します。

```py
&gt;&gt;&gt; ~1
-2
```

この計算は `000...0001` → `111...1110` を意味しています。

後でANDとNOTの組み合わせで見るように、通常はビットだけに注目して具体的な数値（ここではマイナス）は意識しません。符号の考え方について興味がある方は次の記事を参照してください。

* [@7shi](https://twitter.com/7shi): [符号あり数値の直感的な考え方](http://qiita.com/7shi/items/6887e7939c0168a0eb21) 2014.10.8

※ 値だけに注目して `~x`→`-(x+1)` という式が紹介されることもあります。これを見てもビット反転の意味が分からないので、ここでは深く追求しません。

# 使用例

ビット演算は一部のビットだけを取り出すときなどによく使われます。

## ビットマスク

ビットのうち必要な部分だけを取り出すとき、必要な部分だけを1にした数とANDします。

例: 101&lt;strong&gt;110&lt;/strong&gt;から下位3ビット（太字の部分）を取り出す。

```text
   101110
&amp;) 000111
---------
   000110
```

### シフトとの併用

途中のビットだけを抜き出したいときはシフトとマスクを併用します。

例: 10&lt;strong&gt;11&lt;/strong&gt;10から中央の2ビット（太字の部分）を取り出す。

```py
&gt;&gt;&gt; bin((0b101110 &gt;&gt; 2) &amp; 0b11)
&#39;0b11&#39;
```

### NOTとの併用

ANDと組み合わせてNOTを使う場合、NOTの結果がマイナスになることは気にしないで使えるということを示します。

NOTの計算結果をANDでマスクすれば、桁数を限定してマイナスを排除できます。

```py
&gt;&gt;&gt; bin(~1 &amp; 0b1111)
&#39;0b1110&#39;
```

この計算は2進数4桁に限定することで `0001` → `1110` という反転を示しています。

NOTはマスク値の作成に使うことが多く、その場合もマイナスのことは意識しません。

例えば10&lt;strong&gt;11&lt;/strong&gt;10の中央の2ビット（太字の部分）だけを消したい場合、NOTを使うことで消したい部分に注目したコードとなります。

```py
&gt;&gt;&gt; bin(0b101110 &amp; ~0b001100)
&#39;0b100010&#39;
```

比較対象としてNOTを使わないコードを示します。残したい部分に注目しています。

```py
&gt;&gt;&gt; bin(0b101110 &amp; 0b110011)
&#39;0b100010&#39;
```

## ビットの合成

複数の値を別々の位置に収めたいときはシフトとORを併用します。

例: `101`と`110`を並べて1つの値に合成する。

```py
&gt;&gt;&gt; bin((0b101 &lt;&lt; 3) | 0b110)
&#39;0b101110&#39;
```

### ANDとの併用

合成したい箇所に既に別の値が入っている場合は、先にANDで消してからORします。

例: 101&lt;strong&gt;101&lt;/strong&gt;の下位3ビット（太字の部分）を`011`に置き替える。

```text
   101101
&amp;) 111000
---------
   101000
|)    011
---------
   101011
```

Pythonで確認します。

```py
&gt;&gt;&gt; bin(0b101101 &amp; 0b111000 | 0b011)
&#39;0b101011&#39;
```

この手法は画像の生成で背景とキャラクターの合成にも使われます。

![merge.jpg](https://qiita-image-store.s3.amazonaws.com/0/32057/efd614a8-4e6d-1542-7ece-8c9d415582c0.jpeg)

## 間違い探し

XORを使うと2つの数のうち異なるビットが分かります。

```text
   11101011101110101
^) 11101101101110101
--------------------
   00000110000000000
```

Pythonで確認します。

```py
&gt;&gt;&gt; bin(0b11101011101110101 ^ 0b11101101101110101)
&#39;0b110000000000&#39;
```

## 値の入れ替え

【注】実用性というより、知識としての紹介です。

多重XORの応用で、変数の値を交換するテクニックがあります。

* [XOR交換アルゴリズム - Wikipedia](http://ja.wikipedia.org/wiki/XOR%E4%BA%A4%E6%8F%9B%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0)

Pythonで確認します。

```py
&gt;&gt;&gt; a = 12
&gt;&gt;&gt; b = 34
&gt;&gt;&gt; a, b
(12, 34)
&gt;&gt;&gt; a = a ^ b
&gt;&gt;&gt; b = a ^ b
&gt;&gt;&gt; a = a ^ b
&gt;&gt;&gt; a, b
(34, 12)
```

実用上はタプルを使った方が簡単です。

```py
&gt;&gt;&gt; a, b = b, a
```

# 計算との関係

ビット演算ではある種の計算が代用できます。よく使われるものを取り上げます。

## 掛け算

2進数は桁が上がることに値が2倍になります。

2進数 |10進数|左シフト|計算
-----:|----:|----|----
0b1   |1|1 &lt;&lt; 0|$2^0$
0b10  |2|1 &lt;&lt; 1|$2^1$
0b100 |4|1 &lt;&lt; 2|$2^2$
0b1000|8|1 &lt;&lt; 3|$2^3$

つまり `1 &lt;&lt; n` は $2^n$ と等しいです。

任意の数を1ビット左シフトするごとに2倍になります。

左シフト |掛け算      |出力
---------|------------|----:
bin(5&lt;&lt;0)|bin(5)      |&#39;0b101&#39;
bin(5&lt;&lt;1)|bin(5*2)    |&#39;0b1010&#39;
bin(5&lt;&lt;2)|bin(5*2*2)  |&#39;0b10100&#39;
bin(5&lt;&lt;3)|bin(5*2*2*2)|&#39;0b101000&#39;

つまり『nビットの左シフト』は『$2^n$の掛け算』と同じ結果です。

## 割り算

逆の理屈で『nビットの右シフト』は『$2^n$の割り算（切り捨て）』と同じ結果です。

右シフト |割り算      |出力
---------|------------|----:
bin(45&gt;&gt;0)|bin(45)      |&#39;0b101101&#39;
bin(45&gt;&gt;1)|bin(45/2)    |&#39;0b10110&#39;
bin(45&gt;&gt;2)|bin(45/2/2)  |&#39;0b1011&#39;
bin(45&gt;&gt;3)|bin(45/2/2/2)|&#39;0b101&#39;

## 割り算の余り

『$2^n$ による割り算の余り』は『$2^n-1$とのAND』に等しいです。

* `x % (2 ** n)` == `x &amp; ((2 ** n) - 1)`

例: `x % 8` == `x &amp; 7`

### 説明

これが成り立つ理由をなるべく直感的に説明します。

`0b110101`を3ビット右シフトするのは、$2^3=8$で割って切り捨てたのと等しいです。

```py
&gt;&gt;&gt; bin(0b110101 &gt;&gt; 3)
&#39;0b110&#39;
&gt;&gt;&gt; bin(0b110101 / 8)
&#39;0b110&#39;
```

このときにシフトで押し出された下位3ビット`101`が割り算の余りに相当します。`111`でマスクすると取り出せます。

```py
&gt;&gt;&gt; bin(0b110101 &amp; 0b111)
&#39;0b101&#39;
&gt;&gt;&gt; bin(0b110101 % 8)
&#39;0b101&#39;
```

`0b111`は`7`で、つまり`8-1`です。これにより次の関係を確認しました。

* `x % 8` == `x &amp; 7`

## 切り下げ

『下位nビットのクリア』は『$2^n$での切り下げ』に相当します。

例としてシフトによる$2^3=8$での切り下げを示します。右シフトで下位3ビットを押し出して、左シフトで元のビット幅に戻しています。

```py
&gt;&gt;&gt; 15 &gt;&gt; 3 &lt;&lt; 3
8
&gt;&gt;&gt; 16 &gt;&gt; 3 &lt;&lt; 3
16
&gt;&gt;&gt; 17 &gt;&gt; 3 &lt;&lt; 3
16
```

特定のビットを消すのはANDとNOTの組み合わせでも可能です。最初は分かりにくいかもしれませんが、シフトよりもこの方法がよく使われます。

```py
&gt;&gt;&gt; 15 &amp; ~0b111
8
&gt;&gt;&gt; 16 &amp; ~0b111
16
&gt;&gt;&gt; 17 &amp; ~0b111
16
```

`0b111`は`7`で、つまり`8-1`です。これは先に見た余りを求める方法にも出て来た関係です。

`~7` → `-8` の関係を使うと、8での切り下げを-8で表現できます。

```py
&gt;&gt;&gt; 15 &amp; -8
8
&gt;&gt;&gt; 16 &amp; -8
16
&gt;&gt;&gt; 17 &amp; -8
16
```

これを初めて見ると意味が分からないかもしれません。とりあえず「こういう式で表記することもある」とだけ認識しておけば良いです。
</textarea><input type="submit" name="commit" value="Save changes" data-disable-with="Save changes" /></form></div></section></div><div class="col-sm-3"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Python ビット演算 超入門 by @7shi on @Qiita" data-url="http://qiita.com/7shi/items/41d262ca11ea16d85abc" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Python ビット演算 超入門" href="http://b.hatena.ne.jp/entry/http://qiita.com/7shi/items/41d262ca11ea16d85abc" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/7shi/items/41d262ca11ea16d85abc" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/7shi/items/41d262ca11ea16d85abc" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div><section class="itemsShowAuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><a href="/7shi"><img alt="" class="itemsShowAuthorInfo_userIcon" itemprop="image" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" /></a><div class="itemsShowAuthorInfo_profileStats"><strong class="itemsShowAuthorInfo_userName" itemprop="name"><a itemprop="url" href="/7shi">7shi</a></strong><div class="itemsShowAuthorInfo_contribution"><span class="itemsShowAuthorInfo_count">2522</span><span class="itemsShowAuthorInfo_unit">Contribution</span></div><div data-react-class="T.UserFollowButton" data-react-props="{&quot;url_name&quot;:&quot;7shi&quot;,&quot;initial_followed_by&quot;:false,&quot;size&quot;:&quot;btn-xs&quot;,&quot;position&quot;:&quot;author-info&quot;}"></div></div><section class="itemsShowAuthorPopularItems"><h5 class="itemsShowAuthorPopularItems_sectionTitle">Popular Posts</h5><ul class="itemsShowAuthorPopularItems_posts list-unstyled"><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/145f1234f8ec2af923ef">Haskell 超入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/547b6137d7a3c482fe68">モナド則がちょっと分かった？</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/cac7b3e9b90bf91b00cc">文字列で学ぶC++入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/85afd7bbd5d6c4115ad6">Haskell アクション 超入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/d1e5a0c22be6cf61d286">Haskell IDE Leksah 入門</a></li></ul></section></section><div class="scroll-chaser"><div class="google-adsense"><style>.test-text-responsible { width: 200px; height: 200px; }@media(min-width: 1200px) {  .test-text-responsible { width: 250px; height: 250px; }}@media(max-width: 979px) and (min-width: 768px) {  .test-text-responsible { width: 120px; height: 240px; }}@media(max-width: 767px) {  .test-text-responsible { width: 320px; height: 50px; }}</style><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle test-text-responsible" data-ad-client="ca-pub-8127218772604357" data-ad-slot="3880091879" style="display:inline-block"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><div data-react-class="T.Toc" data-react-props="{&quot;body&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#2%E9%80%B2%E6%95%B0\&quot;\u003e2進数\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#16%E9%80%B2%E6%95%B0\&quot;\u003e16進数\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%B7%E3%83%95%E3%83%88\&quot;\u003eシフト\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%B7%A6%E3%82%B7%E3%83%95%E3%83%88\&quot;\u003e左シフト\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%8F%B3%E3%82%B7%E3%83%95%E3%83%88\&quot;\u003e右シフト\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%AB%96%E7%90%86%E6%BC%94%E7%AE%97\&quot;\u003e論理演算\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%AB%96%E7%90%86%E7%A9%8D-and\&quot;\u003e論理積 (AND)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%AB%96%E7%90%86%E5%92%8C-or\&quot;\u003e論理和 (OR)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%8E%92%E4%BB%96%E7%9A%84%E8%AB%96%E7%90%86%E5%92%8C-xor\&quot;\u003e排他的論理和 (XOR)\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%8F%8D%E8%BB%A2-not\&quot;\u003e反転 (NOT)\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E4%BD%BF%E7%94%A8%E4%BE%8B\&quot;\u003e使用例\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%93%E3%83%83%E3%83%88%E3%83%9E%E3%82%B9%E3%82%AF\&quot;\u003eビットマスク\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%B7%E3%83%95%E3%83%88%E3%81%A8%E3%81%AE%E4%BD%B5%E7%94%A8\&quot;\u003eシフトとの併用\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#not%E3%81%A8%E3%81%AE%E4%BD%B5%E7%94%A8\&quot;\u003eNOTとの併用\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%93%E3%83%83%E3%83%88%E3%81%AE%E5%90%88%E6%88%90\&quot;\u003eビットの合成\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#and%E3%81%A8%E3%81%AE%E4%BD%B5%E7%94%A8\&quot;\u003eANDとの併用\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E9%96%93%E9%81%95%E3%81%84%E6%8E%A2%E3%81%97\&quot;\u003e間違い探し\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%80%A4%E3%81%AE%E5%85%A5%E3%82%8C%E6%9B%BF%E3%81%88\&quot;\u003e値の入れ替え\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%A8%88%E7%AE%97%E3%81%A8%E3%81%AE%E9%96%A2%E4%BF%82\&quot;\u003e計算との関係\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%8E%9B%E3%81%91%E7%AE%97\&quot;\u003e掛け算\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%89%B2%E3%82%8A%E7%AE%97\&quot;\u003e割り算\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%89%B2%E3%82%8A%E7%AE%97%E3%81%AE%E4%BD%99%E3%82%8A\&quot;\u003e割り算の余り\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%AA%AC%E6%98%8E\&quot;\u003e説明\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%88%87%E3%82%8A%E4%B8%8B%E3%81%92\&quot;\u003e切り下げ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n&quot;,&quot;wrapper&quot;:&quot;#article-body-wrapper&quot;}"></div></div></div><div class="row"><div class="col-sm-9"><div class="ArticleFooter__menu"><div class="s-flex-align-center"><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:63,&quot;show_count&quot;:true,&quot;uuid&quot;:&quot;41d262ca11ea16d85abc&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-footer&quot;}"></div><div class="ArticleFooter__userList"><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="danpansa"><a itemprop="url" href="/danpansa"><img alt="danpansa" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/24009/profile-images/1473683972" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="hello_analytics"><a itemprop="url" href="/hello_analytics"><img alt="hello_analytics" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/61199/profile-images/1473695456" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="fantm21"><a itemprop="url" href="/fantm21"><img alt="fantm21" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/32946/profile-images/1473686015" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="hisatoshi"><a itemprop="url" href="/hisatoshi"><img alt="hisatoshi" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/61245/profile-images/1473761528" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="Ushiki"><a itemprop="url" href="/Ushiki"><img alt="Ushiki" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/48690/profile-images/1473691443" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="ynishimura"><a itemprop="url" href="/ynishimura"><img alt="ynishimura" class="thumb thumb--xs" src="https://1.gravatar.com/avatar/3d0cf38265ebea3b403b81b2534fb49c?d=https%3A%2F%2Fidenticons.github.com%2Ffd6861840821995cac8bc50c82b51fb4.png&amp;r=x" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="houmei"><a itemprop="url" href="/houmei"><img alt="houmei" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/935/profile-images/1473755344" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="CORDEA"><a itemprop="url" href="/CORDEA"><img alt="CORDEA" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/50422/profile-images/1473692098" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="kenichi_cc"><a itemprop="url" href="/kenichi_cc"><img alt="kenichi_cc" class="thumb thumb--xs" src="https://secure.gravatar.com/avatar/46094d9b412129cf6a4e61099ae47872?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="ritta"><a itemprop="url" href="/ritta"><img alt="ritta" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/51375/profile-images/1473692420" /></a></div></div><div class="ArticleFooter__user"><a href="/7shi/items/41d262ca11ea16d85abc/likers"><span class="fa fa-ellipsis-h"></span></a></div></div></div><div class="u-flex u-align-center"><div class="ArticleFooter__stock"><div class="js-stockbutton" data-position="footer_menu" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="ArticleFooter__editRequest"><a class="u-link-no-underline" data-toggle="tooltip" title="You can propose improvements about the article to the author 💪" href="/drafts/41d262ca11ea16d85abc/edit"><span class="fa fa-send-o fa-lg"></span> <span>Edit request</span></a></div><div class="dropdown ArticleFooter__dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h"></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a href="/7shi/items/41d262ca11ea16d85abc.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><i class="fa fa-fw fa-flag"></i> Report article</a></li></ul></div></div></div><ul class="references js-referencesView"><li class="references_header"><i class="fa fa-fw fa-link"></i> Linked from these articles</li><li class="references_reference js-reference"><span>Linked from </span><a href="/7shi/items/026839b2bc193dbfb0cb#_reference-c10b32f9757909219ca6"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskellによる8086逆アセンブラ開発入門</a><time class="references_datetime js-dateTimeView" datetime="2015-01-09T06:20:21+00:00">about 2 years ago</time></li></ul><div class="itemsShowBody_articleColumnFooter"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Python ビット演算 超入門 by @7shi on @Qiita" data-url="http://qiita.com/7shi/items/41d262ca11ea16d85abc" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Python ビット演算 超入門" href="http://b.hatena.ne.jp/entry/http://qiita.com/7shi/items/41d262ca11ea16d85abc" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/7shi/items/41d262ca11ea16d85abc" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/7shi/items/41d262ca11ea16d85abc" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div></div><div class="itemsShowComment_wrapper" id="comments"><div data-react-class="T.CommentListContainer" data-react-props="{&quot;currentUser&quot;:null,&quot;initialComments&quot;:[],&quot;monthly_public_image_uploadable_size_limit&quot;:null,&quot;total_uploaded_public_image_size_in_current_month&quot;:null,&quot;item&quot;:{&quot;id&quot;:205251,&quot;uuid&quot;:&quot;41d262ca11ea16d85abc&quot;,&quot;suspended&quot;:false,&quot;secret&quot;:false},&quot;owner&quot;:{&quot;url_name&quot;:&quot;7shi&quot;},&quot;is_team&quot;:false,&quot;is_project&quot;:false,&quot;logged_in&quot;:false,&quot;polling&quot;:false,&quot;mention_candidates&quot;:[{&quot;id&quot;:32057,&quot;url_name&quot;:&quot;7shi&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823&quot;}]}">Comments Loading...</div></div></div></div></div></article><div class="js-report-form modal fade reportForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Report article</h4></div><div class="modal-body"><form action="/reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="93Tr34MmZdhUH0qmp6UOQX160ftCO4nko3OC7yCPuyWZ9nCHGAhck6vM/7rXULAYHT31SNX/0xOfrYsUwYG14w==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/7shi/items/41d262ca11ea16d85abc" /><input type="hidden" name="item_uuid" id="item_uuid" value="41d262ca11ea16d85abc" /><p>Help us understand the problem. What is going on with this item?</p><br /><div class="form-group"><ul class="list-unstyled"><li><label><input type="radio" name="report_type" id="report_type_spam" value="spam" required="required" /> It&#39;s spam </label></li><li><label><input type="radio" name="report_type" id="report_type_harassment" value="harassment" required="required" /> It&#39;s abusive or harmful </label></li><li><label><input type="radio" name="report_type" id="report_type_inappropriate_content" value="inappropriate_content" required="required" /> It contains inappropriate content </label></li></ul></div><div class="reportForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary reportForm_submitButton"><i class="fa fa-send"></i> Submit</button></div></form></div></div></div></div><script id="js-item" type="application/json">{ "url": "http://qiita.com/7shi/items/41d262ca11ea16d85abc", "id": 205251, "uuid": "41d262ca11ea16d85abc" }</script><script class="js-user" type="application/json">{&quot;id&quot;:32057,&quot;url_name&quot;:&quot;7shi&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823&quot;}</script><script language="JavaScript" src="//cdn.bigmining.com/private/js/qiita_bigmining.js" type="text/javascript"></script></div><footer class="footer"><div class="footer_inner"><div class="footer_container"><ul class="footer_links-left"><li class="footer_link"><a class="footer_copyright" href="http://increments.co.jp">© 2011-2017 Increments Inc.</a></li><li class="footer_link"><a href="http://qiita.com/terms">Terms</a></li><li class="footer_link"><a href="http://qiita.com/privacy">Privacy</a></li><li class="footer_link"><a href="http://help.qiita.com">Help</a></li><li class="footer_link"><a href="https://increments.zendesk.com/anonymous_requests/new">Contact</a></li></ul><ul class="footer_links-right"><li class="footer_link"><a href="http://qiita.com/about">About</a></li><li class="footer_link"><a href="/users">Users</a></li><li class="footer_link"><a href="/tags">Tags</a></li><li class="footer_link"><a href="http://blog.qiita.com">Blog</a></li><li class="footer_link"><a href="http://qiita.com/api/v2/docs">API</a></li><li class="footer_link"><a href="https://teams.qiita.com/">Team</a></li><li class="footer_link"><a href="http://kobito.qiita.com">Kobito</a></li><li class="footer_link"><a class="js-public-form-feedback-link" data-target=".js-feedback-form" data-toggle="modal" href=""><i class="fa fa-heart"></i> Feedback <i class="fa fa-caret-down"></i></a></li></ul></div></div></footer><div class="js-feedback-form modal fade feedbackForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Feedback</h4></div><div class="modal-body"><form class="js-feedback-form-form" action="/feedbacks" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="EE7rP8cqY9dc5QXxb4H7HPaWzwD+ry4CRut/fBrKs9t+zHBnXARanKM2sO0fdEVFltHrs2lrdPV6NXaH+8S9HQ==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/7shi/items/41d262ca11ea16d85abc" /><div class="form-group"><textarea name="feedback[message]" id="feedback_message" class="form-control js-feedback-form-text-area" placeholder="Please give us any feedback about Qiita." required="required" rows="5">
</textarea></div><div class="feedbackForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary feedbackForm_submitButton"><i class="fa fa-send"></i> Submit</button><p class="feedbackForm_note">We don&#39;t reply to any feedback.<br />If you need help with Qiita, please send a support request from <a href="https://increments.zendesk.com/anonymous_requests/new">here</a>.</p></div><div style="position:fixed;top:-99999px;opacity:0.0001;"><input name="feedback[name]" type="text" /></div></form></div></div></div></div><script>// if (window.mixpanel instanceof Element) {
//   window.mixpanel = [];
// }
// (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
// for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);</script><script src="http://cdn.qiita.com/assets/public-8c6201a66dc6db6f64a9017391c319bf.min.js"></script><script>
  (function () {
    var script = document.getElementsByTagName('script')[0];
    var load = function (src, id) {
      var el = document.createElement('script');
      el.async = true;
      el.src = src;
      el.id = id;
      script.parentNode.insertBefore(el, script);
    };
      // Optimizely
      load('//cdn.optimizely.com/js/52738645.js', 'optimizely-jssdk');
      // Google Analytics
      window._gaq = window._gaq || [];
      var isCareer = location.hostname.split('.')[0] == 'career';
      if (isCareer) {
        window._gaq.push(['_setAccount', 'UA-24675221-11']);
        window._gaq.push(['_setDomainName', 'qiita.com']);
      } else {
        window._gaq.push(['_setAccount', 'UA-24675221-1']);
      }
      window._gaq.push(['_setCustomVar', 1, 'logged_in', 'false', 2]);
      window._gaq.push(['_trackPageview']);
      var src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      load(src, 'google-analytics-jssdk');
    // Google Analytics - Universal Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-24675221-12', {
          
        });
        ga('set', 'dimension1', 'false');
        ga('set', 'dimension3', 'false');
      ga('require', 'displayfeatures');
      ga('set', 'forceSSL', true);
      ga('send', 'pageview');
    // Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TBQWPN');
  })();
</script>
</body></html>