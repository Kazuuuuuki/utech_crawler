<!DOCTYPE html><html xmlns:og="http://ogp.me/ns#"><head><meta charset="UTF-8" /><title>Scala 代数的データ型 超入門 - Qiita</title><meta content="width=device-width,initial-scale=1" name="viewport" /><meta content="代数的データ型の基本的な使い方を説明します。

この記事はわりとScalaの基本的なところを前提としていると思います。

練習の解答例は別記事に掲載します。


代数的データ型

以下の3つを合わせて代数的データ型と呼びます。


列挙型
直積型
直和型


これらを1つずつ見ていきます。


列挙型

種類を区別するための型です。他言語のenumに相当します。

Enumerationを利用して書くことも出来ますし、case classを利用して代数的データ型を表現す..." name="description" /><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta content="Scala 代数的データ型 超入門 - Qiita" property="og:title" /><meta content="article" property="og:type" /><meta content="http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" property="og:url" /><meta content="http://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png" property="og:image" /><meta content="代数的データ型の基本的な使い方を説明します。

この記事はわりとScalaの基本的なところを前提としていると思います。

練習の解答例は別記事に掲載します。

# 代数的データ型

以下の3つを合わせて代数的データ型と呼びます。

1..." property="og:description" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><link rel="shortcut icon" type="image/x-icon" href="http://cdn.qiita.com/assets/favicons/public/production-4ff10c1e1e2b5fcb353ff9cafdd56c70.ico" /><link rel="apple-touch-icon" type="image/png" href="http://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link rel="stylesheet" media="all" href="http://cdn.qiita.com/assets/public-e8d29e8ff1879118096f0f5877946857.min.css" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="JRwP7nMu0bPoRqWDT36aoyVvuW/j/0eEdXbl13xw3XZLnpS26ADo+BeVEJ8/iyT6RSid3HQ7HXNJqOwsnX7TsA==" /></head><body class="without-js" id=""><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TBQWPN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>
  document.body.className = document.body.className.replace('without-js', '') + ' with-js';
  window.Qiita = {"asset_host":"cdn.qiita.com","TLD":"com","controller_path":"public/items","controller_action":"public/items#show","controller":"items","action":"show","env":"production","flash":{},"is_landing_page":false,"is_team_page":false,"root_domain":"qiita.com","variant":null,"config":{"mixpanel":{"career":"dd35af27e959781713d63fd7ca898a8d","per_team":"c0a2116368b33b44b5029ebd2cc9b094","public":"be87616606b0e26a87689099aab2c4e5","team":"b7c0342acba2dbc8742484d98788efb3"},"default_locale":"ja","locale":"en"},"team":null,"user":null,"GIT_BRANCH":null,"DEBUG":false};

</script>
<div class="headerContainer headerContainer-public" role="navigation"><div data-react-class="T.HeaderContainer" data-react-props="{&quot;user&quot;:null,&quot;team&quot;:null,&quot;news&quot;:{&quot;type&quot;:&quot;Hot&quot;,&quot;content&quot;:&quot;Markdownによる情報共有サービス、Qiita:Team&quot;,&quot;url&quot;:&quot;https://teams.qiita.com?utm_source=qiita\u0026utm_medium=header_news&quot;},&quot;initial_unread_count&quot;:null,&quot;siteid_image&quot;:&quot;http://cdn.qiita.com/siteid-reverse.png&quot;,&quot;is_team_page&quot;:false,&quot;on_team_setting&quot;:false,&quot;show_post_menu&quot;:true,&quot;show_search_menu&quot;:true,&quot;is_fluid&quot;:false,&quot;locale&quot;:&quot;en&quot;}"></div></div><div id="main"><ol class="itemBreadcrumbs" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/"><span itemprop="name">Qiita</span></a><meta content="1" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/items"><span itemprop="name">Items</span></a><meta content="2" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/tags/Scala"><span itemprop="name">Scala</span></a><meta content="3" itemprop="position" /></li></ol><article itemscope="" itemtype="http://schema.org/Article"><div class="ArticleMainHeader "><div class="container"></div><div class="container"><div class="row s-flex-align-center"><div class="col-sm-9"><h1 class="ArticleMainHeader__title">Scala 代数的データ型 超入門</h1><ul class="TagList"><li class="TagList__item" data-count="1963"><a class="u-link-unstyled TagList__label" href="/tags/Scala"><img alt="Scala" class="TagList__icon" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/3373dc0a306f0791a8b39ff22decb52d6910f3fd/medium.jpg?1461472908" /><span>Scala</span></a></li><li class="TagList__item" data-count="1345"><a class="u-link-unstyled TagList__label" href="/tags/Haskell"><img alt="Haskell" class="TagList__icon" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/373b3b0595a92712b2a45616f53dae97bc1a04e5/medium.jpg?1387913155" /><span>Haskell</span></a></li></ul></div><div class="col-sm-3"><div class="itemsShowHeaderStock"><ul class="list-unstyled itemsShowHeaderStock_statusList"><li><div class="itemsShowHeaderStock_count stock"><span class="fa fa-thumbs-up"></span><span class="js-likecount">42</span></div><div class="itemsShowHeaderStock_countText">Like</div></li><li><div class="itemsShowHeaderStock_count" content="0 UserComments" itemprop="interactionCount"><span class="fa fa-comment"></span>0</div><div class="itemsShowHeaderStock_countText">Comment</div></li></ul></div><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:42,&quot;uuid&quot;:&quot;31f6bdbf4dfebb0b9adc&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-header&quot;}"></div><ul class="list-inline ArticleMainHeader__users"><li class="js-hovercard" data-hovercard-target-name="tanacasino"><a itemprop="url" href="/tanacasino"><img alt="tanacasino" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/27172/profile-images/1473684899" /></a></li><li class="js-hovercard" data-hovercard-target-name="7shi"><a itemprop="url" href="/7shi"><img alt="7shi" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" /></a></li><li class="js-hovercard" data-hovercard-target-name="yoya"><a itemprop="url" href="/yoya"><img alt="yoya" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/1798/profile-images/1473755697" /></a></li><li class="js-hovercard" data-hovercard-target-name="ryo0ka"><a itemprop="url" href="/ryo0ka"><img alt="ryo0ka" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/66393/profile-images/1473697193" /></a></li><li class="js-hovercard" data-hovercard-target-name="kiris"><a itemprop="url" href="/kiris"><img alt="kiris" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/583/profile-images/1473681411" /></a></li><li class="js-hovercard" data-hovercard-target-name="TTsurutani"><a itemprop="url" href="/TTsurutani"><img alt="TTsurutani" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/60888/profile-images/1473695375" /></a></li><li class="js-hovercard" data-hovercard-target-name="Miyatin"><a itemprop="url" href="/Miyatin"><img alt="Miyatin" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/68827/profile-images/1473697961" /></a></li><li class="js-hovercard" data-hovercard-target-name="coporlock"><a itemprop="url" href="/coporlock"><img alt="coporlock" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/4351/profile-images/1473683919" /></a></li><li class="js-hovercard" data-hovercard-target-name="uryyyyyyy"><a itemprop="url" href="/uryyyyyyy"><img alt="uryyyyyyy" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/7185/profile-images/1482825373" /></a></li><li class="js-hovercard" data-hovercard-target-name="maaz118"><a itemprop="url" href="/maaz118"><img alt="maaz118" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/59312/profile-images/1473694888" /></a></li><li><a href="/shigemk2/items/31f6bdbf4dfebb0b9adc/likers"><span class="fa fa-ellipsis-h"></span></a></li></ul></div></div></div></div><div class="ArticleAsideHeader"><div class="container"><div class="u-flex u-space-between"><div class="u-flex u-flex-wrap"><div class="u-flex u-align-center s-pdv-5 u-flex-wrap"><div class="ArticleAsideHeader__author"><a href="/shigemk2"><img class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/9578/profile-images/1473681465" alt="1473681465" /></a> <a class="u-link-unstyled" href="/shigemk2">shigemk2</a> </div><div class="ArticleAsideHeader__date"><span data-toggle="tooltip" title="posted at 2015-04-11">Edited at <time datetime="2015-12-25T01:27:54+09:00" itemprop="dateModified">2015-12-25</time></span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"><div class="ArticleAsideHeader__revision"> <a data-toggle="tooltip" title="Revisions" href="/shigemk2/items/31f6bdbf4dfebb0b9adc/revisions"><span class="fa fa-history"></span></a><span class="ArticleAsideHeader__revisionCount">4</span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"></div></div><div class="u-flex u-align-center s-flex-justiry-between s-pdv-5 u-shrink-0"><div class="ArticleAsideHeader__stock"><div class="js-stockbutton" data-position="top" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h fa-lg"></span></a><ul class="dropdown-menu dropdown-menu-right"><li class="dropdown__item--mobile"><a href="/shigemk2/items/31f6bdbf4dfebb0b9adc/revisions"><span class="fa fa-fw fa-history"></span> Revisions<span>(4)</span></a></li><li><a href="/shigemk2/items/31f6bdbf4dfebb0b9adc.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><span class="fa fa-fw fa-flag"></span> Report article</a></li></ul></div></div></div></div></div><div class="container"><div class="row" id="article-body-wrapper"><div class="col-sm-9"><section class="markdownContent markdownContent-headingEnabled js-task-list-container clearfix position-relative" id="item-31f6bdbf4dfebb0b9adc" itemprop="articleBody"><div class="alert alert-warning"><i class="fa fa-clock-o"></i> More than 1 year has passed since last update.</div><p>代数的データ型の基本的な使い方を説明します。</p>

<p>この記事はわりとScalaの基本的なところを前提としていると思います。</p>

<p>練習の解答例は別記事に掲載します。</p>

<h1>
<span id="代数的データ型" class="fragment"></span><a href="#%E4%BB%A3%E6%95%B0%E7%9A%84%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B"><i class="fa fa-link"></i></a>代数的データ型</h1>

<p>以下の3つを合わせて代数的データ型と呼びます。</p>

<ol>
<li>列挙型</li>
<li>直積型</li>
<li>直和型</li>
</ol>

<p>これらを1つずつ見ていきます。</p>

<h1>
<span id="列挙型" class="fragment"></span><a href="#%E5%88%97%E6%8C%99%E5%9E%8B"><i class="fa fa-link"></i></a>列挙型</h1>

<p>種類を区別するための型です。他言語の<code>enum</code>に相当します。</p>

<p>Enumerationを利用して書くことも出来ますし、case classを利用して代数的データ型を表現することも出来ます。列挙型については、Enumerationを利用した方法で話を進めたいと思います。</p>

<h2>
<span id="enumerationを使った例" class="fragment"></span><a href="#enumeration%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E4%BE%8B"><i class="fa fa-link"></i></a>Enumerationを使った例</h2>

<div class="code-frame" data-lang="scala"><div class="highlight"><pre>
<span class="k">object</span> <span class="nc">Color</span> <span class="k">extends</span> <span class="nc">Enumeration</span> <span class="o">{</span>
  <span class="k">val</span> <span class="nc">Blue</span><span class="o">,</span> <span class="nc">Red</span><span class="o">,</span> <span class="nc">Green</span><span class="o">,</span> <span class="nc">White</span> <span class="k">=</span> <span class="nc">Value</span>
<span class="o">}</span>
</pre></div></div>

<h2>
<span id="case-classを使った例" class="fragment"></span><a href="#case-class%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E4%BE%8B"><i class="fa fa-link"></i></a>case classを使った例</h2>

<div class="code-frame" data-lang="scala"><div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Color</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Blue</span><span class="o">()</span> <span class="k">extends</span> <span class="nc">Color</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Red</span><span class="o">()</span> <span class="k">extends</span> <span class="nc">Color</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Green</span><span class="o">()</span> <span class="k">extends</span> <span class="nc">Color</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">White</span><span class="o">()</span> <span class="k">extends</span> <span class="nc">Color</span>
</pre></div></div>

<p>この例での<code>Color</code>を型（型構築子）、<code>Blue</code>などをコンストラクタ（データ構築子）と呼びます。</p>

<p>※ コンストラクタは構築子と訳されます。用語は括弧書きの型構築子やデータ構築子と呼ばれることが一般的です。</p>

<h2>
<span id="idとapply" class="fragment"></span><a href="#id%E3%81%A8apply"><i class="fa fa-link"></i></a>idとapply</h2>

<p>idメソッドとapplyメソッドを指定すれば数値と相互変換できるようになります。</p>

<p>例を示します。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">enum.scala</span></div>
<div class="highlight"><pre>
<span class="k">object</span> <span class="nc">Color</span> <span class="k">extends</span> <span class="nc">Enumeration</span> <span class="o">{</span>
  <span class="k">val</span> <span class="nc">Blue</span><span class="o">,</span> <span class="nc">Red</span><span class="o">,</span> <span class="nc">Green</span><span class="o">,</span> <span class="nc">White</span> <span class="k">=</span> <span class="nc">Value</span>
<span class="o">}</span>

<span class="k">object</span> <span class="nc">Main</span> <span class="o">{</span>
  <span class="k">import</span> <span class="nn">Color._</span>

  <span class="k">def</span> <span class="n">main</span><span class="o">(</span><span class="n">args</span><span class="k">:</span> <span class="kt">Array</span><span class="o">[</span><span class="kt">String</span><span class="o">])</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="c1">// id</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Blue</span><span class="o">.</span><span class="n">id</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Red</span><span class="o">.</span><span class="n">id</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Green</span><span class="o">.</span><span class="n">id</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">White</span><span class="o">.</span><span class="n">id</span><span class="o">)</span>
    <span class="c1">// apply</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Color</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Color</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Color</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Color</span><span class="o">(</span><span class="mi">3</span><span class="o">))</span>
    <span class="c1">// maxId</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="n">maxId</span><span class="o">)</span>
    <span class="c1">// values</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="n">values</span><span class="o">)</span>
    <span class="c1">// withName</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="n">withName</span><span class="o">(</span><span class="s">"Red"</span><span class="o">))</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
0
1
2
3
Blue
Red
Green
White
4
Color.ValueSet(Blue, Red, Green, White)
Red
</pre></div>
</div>

<p>例にも示しましたが、他にも色々なメソッドが使えます。こちらのページも参考にしてみてください。</p>

<p><a href="http://www.ne.jp/asahi/hishidama/home/tech/scala/enumeration.html" rel="nofollow noopener" target="_blank">Scala列挙型メモ</a></p>

<h2>
<span id="bool" class="fragment"></span><a href="#bool"><i class="fa fa-link"></i></a>Bool</h2>

<p>真偽値を表す列挙型を表現してみましょう。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">定義</span></div>
<div class="highlight"><pre>
<span class="k">object</span> <span class="nc">Bool</span> <span class="k">extends</span> <span class="nc">Enumeration</span> <span class="o">{</span>
  <span class="k">type</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="nc">Value</span>
  <span class="k">val</span> <span class="nc">True</span><span class="o">,</span> <span class="nc">False</span> <span class="k">=</span> <span class="nc">Value</span>
<span class="o">}</span>
</pre></div>
</div>

<h2>
<span id="練習" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92"><i class="fa fa-link"></i></a>練習</h2>

<p>【問1】光の三原色と、2つの色を混合する関数<code>mix</code>を定義してください。混ぜることによってできる色も定義の対象とします。ただし同じ成分同士は強め合わないものとします。</p>

<p>ヒント: <code>mix(a:Color.Value, a:Color.Value)</code>, その他の色 <code>Green, Cyan, Yellow, White</code></p>

<h1>
<span id="直積型" class="fragment"></span><a href="#%E7%9B%B4%E7%A9%8D%E5%9E%8B"><i class="fa fa-link"></i></a>直積型</h1>

<p>内部に値を持つ型です。他言語の構造体に相当します。馴染みのない用語かもしれませんが、集合論に由来します。</p>

<h2>
<span id="例" class="fragment"></span><a href="#%E4%BE%8B"><i class="fa fa-link"></i></a>例</h2>

<p>同名の例を示します。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">point.scala</span></div>
<div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Coordinates</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Point</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Coordinates</span>

<span class="k">def</span> <span class="n">offset</span><span class="o">(</span><span class="n">p1</span><span class="k">:</span> <span class="kt">Point</span><span class="o">,</span> <span class="n">p2</span><span class="k">:</span> <span class="kt">Point</span><span class="o">)</span><span class="k">:</span> <span class="kt">Point</span> <span class="o">=</span> <span class="o">{</span>
  <span class="nc">Point</span><span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">p2</span><span class="o">.</span><span class="n">x</span><span class="o">,</span> <span class="n">p1</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">p2</span><span class="o">.</span><span class="n">y</span><span class="o">)</span>
<span class="o">}</span>

<span class="k">val</span> <span class="n">p1</span> <span class="k">=</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span>
<span class="k">val</span> <span class="n">p2</span> <span class="k">=</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="n">offset</span><span class="o">(</span><span class="n">p1</span><span class="o">,</span> <span class="n">p2</span><span class="o">))</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
Point(3,4)
</pre></div>
</div>

<p>フィールドの値はパターンマッチで取り出します。名前による方法はレコード構文として後述します。</p>

<h2>
<span id="直積" class="fragment"></span><a href="#%E7%9B%B4%E7%A9%8D"><i class="fa fa-link"></i></a>直積</h2>

<p>何が積なのかというイメージを説明します。</p>

<p>先ほどの例で<code>Point(3, 4)</code>というのは、<code>3</code>と<code>4</code>が組み合わさって1つのデータを構成しています。これを<code>3*4</code>のような因数の組み合わせで1つの項を構成しているように捉えます。</p>

<p>集合論による説明は次の記事を参照してください。</p>

<ul>
<li>
<a href="https://twitter.com/CyLomw" rel="nofollow noopener" target="_blank">@CyLomw</a>: <a href="http://qiita.com/CyLomw/items/7e72e98cfe1c8026df2a" id="reference-78667777c6bc99b03313">Haskell - GHC 拡張を使って直積っぽい型の表記とかしてみる - Qiita</a> 2015.1.13</li>
</ul>

<h2>
<span id="練習-1" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-1"><i class="fa fa-link"></i></a>練習</h2>

<p>【問2】x,y,w,hを表現した<code>Rect</code>型を定義して、<code>Rect</code>に<code>Point</code>が含まれるかどうかを判定する関数<code>contains</code>を実装してください。</p>

<p>具体的には以下のコードが動くようにしてください。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">rect.scala</span></div>
<div class="highlight"><pre>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">4</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">)))</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
false
true
true
true
false
</pre></div>
</div>

<h1>
<span id="直和型" class="fragment"></span><a href="#%E7%9B%B4%E5%92%8C%E5%9E%8B"><i class="fa fa-link"></i></a>直和型</h1>

<p>列挙型にフィールドを付加することで、複数の直積型を定義したものです。列挙型と直積型の両方の特徴を併せ持っています。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">例</span></div>
<div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Foo</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Bar</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Foo</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Baz</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">z</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Foo</span>
</pre></div>
</div>

<p>この名前も集合論に由来します。複数の直積型の和だと捉えれば、イメージしやすいかもしれません。</p>

<ul>
<li>
<code>Bar Int Int | Baz Int Int Int</code> → Int*Int + Int*Int*Int</li>
</ul>

<p>※ C言語では共用体に相当しますが、C言語のように共用体のフィールドを選ぶことで解釈を変えることはできません。区別が保持されるという意味合いでF#では判別共用体と呼びます。</p>

<h2>
<span id="サンプル" class="fragment"></span><a href="#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB"><i class="fa fa-link"></i></a>サンプル</h2>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">direct_sum.scala</span></div>
<div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Test</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">TestInt</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Test</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">TestStr</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Test</span>

<span class="k">def</span> <span class="n">foo</span><span class="o">(</span><span class="n">a</span><span class="k">:</span> <span class="kt">Test</span><span class="o">)</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">a</span> <span class="k">match</span> <span class="o">{</span>
  <span class="k">case</span> <span class="nc">TestInt</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>   <span class="k">=&gt;</span> <span class="s">"bar"</span>
  <span class="k">case</span> <span class="nc">TestStr</span><span class="o">(</span><span class="s">"1"</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="s">"baz"</span>
  <span class="k">case</span> <span class="k">_</span>            <span class="k">=&gt;</span> <span class="s">"?"</span>
<span class="o">}</span>

<span class="n">println</span><span class="o">(</span><span class="n">foo</span><span class="o">(</span><span class="nc">TestInt</span><span class="o">(</span><span class="mi">0</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">foo</span><span class="o">(</span><span class="nc">TestInt</span><span class="o">(</span><span class="mi">1</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">foo</span><span class="o">(</span><span class="nc">TestStr</span><span class="o">(</span><span class="s">"0"</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">foo</span><span class="o">(</span><span class="nc">TestStr</span><span class="o">(</span><span class="s">"1"</span><span class="o">)))</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
?
bar
?
baz
</pre></div>
</div>

<p>関数の引数は同一の型しか受け付けないため、通常は数値<code>Int</code>と文字列<code>String</code>の両方を渡すことはできません。この例では代数的データ型を挟むことでどちらも渡せるようにしています。</p>

<h2>
<span id="オブジェクト指向との比較" class="fragment"></span><a href="#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83"><i class="fa fa-link"></i></a>オブジェクト指向との比較</h2>

<p>オブジェクト指向の感覚では<code>Test</code>が基底クラス、<code>TestInt</code>と<code>TestStr</code>が派生クラスに相当します。関数の扱いは基底クラスのメソッドを派生クラスでオーバーライドする感覚に近いです。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">direct_sum_object.scala</span></div>
<div class="highlight"><pre>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Test</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">foo</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"?"</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">TestInt</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Test</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">foo</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
      <span class="s">"bar"</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="k">super</span><span class="o">.</span><span class="n">foo</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="k">class</span> <span class="nc">TestStr</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Test</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">foo</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="s">"1"</span><span class="o">)</span> <span class="o">{</span>
      <span class="s">"baz"</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="k">super</span><span class="o">.</span><span class="n">foo</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="n">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">TestInt</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="n">foo</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">TestInt</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="n">foo</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">TestStr</span><span class="o">(</span><span class="s">"0"</span><span class="o">).</span><span class="n">foo</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">TestStr</span><span class="o">(</span><span class="s">"1"</span><span class="o">).</span><span class="n">foo</span><span class="o">)</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
?
bar
?
baz
</pre></div>
</div>

<h3>
<span id="オーバーロード" class="fragment"></span><a href="#%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AD%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>オーバーロード</h3>

<p>この例ではわざわざ型を作らなくてもオーバーロードした方が簡単です。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">direct_sum_overload.scala</span></div>
<div class="highlight"><pre>
<span class="k">class</span> <span class="nc">Test</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">foo</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"?"</span>
  <span class="k">def</span> <span class="n">foo</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
      <span class="s">"bar"</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="n">foo</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="k">def</span> <span class="n">foo</span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="s">"1"</span><span class="o">)</span> <span class="o">{</span>
      <span class="s">"baz"</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="n">foo</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="n">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">Test</span><span class="o">().</span><span class="n">foo</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span>
<span class="n">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">Test</span><span class="o">().</span><span class="n">foo</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span>
<span class="n">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">Test</span><span class="o">().</span><span class="n">foo</span><span class="o">(</span><span class="s">"0"</span><span class="o">))</span>
<span class="n">println</span><span class="o">(</span><span class="k">new</span> <span class="nc">Test</span><span class="o">().</span><span class="n">foo</span><span class="o">(</span><span class="s">"1"</span><span class="o">))</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
?
bar
?
baz
</pre></div>
</div>

<h2>
<span id="リスト" class="fragment"></span><a href="#%E3%83%AA%E3%82%B9%E3%83%88"><i class="fa fa-link"></i></a>リスト</h2>

<p>リストは直和型として定義されています。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">定義</span></div>
<div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">List</span><span class="o">[</span><span class="kt">+A</span><span class="o">]</span>
</pre></div>
</div>

<p>※ <code>A</code>は型変数と呼ばれ任意の型が入ります。今回の範囲を超えるため詳細は省略します。</p>

<h3>
<span id="型シノニム" class="fragment"></span><a href="#%E5%9E%8B%E3%82%B7%E3%83%8E%E3%83%8B%E3%83%A0"><i class="fa fa-link"></i></a>型シノニム</h3>

<p>文字のリストが文字列です。<code>List[Char]</code>（文字のリスト）に<code>MyString</code>という別名を付けています。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">定義</span></div>
<div class="highlight"><pre>
<span class="k">type</span> <span class="kt">MyString</span> <span class="o">=</span> <span class="nc">List</span><span class="o">[</span><span class="kt">Char</span><span class="o">]</span>
</pre></div>
</div>

<p>このような別名を<strong>型シノニム</strong>と呼びます。<a href="http://ja.wikipedia.org/wiki/%E3%82%B7%E3%83%8E%E3%83%8B%E3%83%A0" rel="nofollow noopener" target="_blank">synonym</a>は<strong>同意語・別名</strong>という意味です。</p>

<h2>
<span id="練習-2" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-2"><i class="fa fa-link"></i></a>練習</h2>

<p>【問3】<code>Rect</code>と<code>Point</code>を2次元と3次元の両方に対応させて、問2の<code>contains</code>も対応させてください。</p>

<p>具体的には以下のコードが動くようにしてください。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">rect3d.scala</span></div>
<div class="highlight"><pre>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">4</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect3D</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point3D</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect3D</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point3D</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect3D</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point3D</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect3D</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point3D</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">4</span><span class="o">)))</span>
<span class="n">println</span><span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="k">new</span> <span class="nc">Rect3D</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">3</span><span class="o">),</span> <span class="k">new</span> <span class="nc">Point3D</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">)))</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
false
true
true
true
false
false
true
true
true
false
</pre></div>
</div>

<h1>
<span id="レコード構文" class="fragment"></span><a href="#%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%A7%8B%E6%96%87"><i class="fa fa-link"></i></a>レコード構文</h1>

<p>直積型や直和型のフィールドに名前を付けることができます。これを<strong>レコード構文</strong>と呼びます。</p>

<p>※Haskellのレコード構文を強引に翻訳したので、本当にScalaでこうなのかあまり自信がありません。</p>

<p><a href="http://ja.stackoverflow.com/questions/9017/haskell%E3%81%AE%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%A7%8B%E6%96%87%E3%82%92scala%E3%81%A7%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84" rel="nofollow noopener" target="_blank">Haskellのレコード構文をScalaで書きたい</a></p>

<p>実装としては、case classを使うので、直和型、直積型とあまり変わりがありません。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">例</span></div>
<div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Data</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="n">bar</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">baz</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Data</span>
</pre></div>
</div>

<h2>
<span id="生成" class="fragment"></span><a href="#%E7%94%9F%E6%88%90"><i class="fa fa-link"></i></a>生成</h2>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">例</span></div>
<div class="highlight"><pre>
<span class="nc">Foo</span><span class="o">(</span><span class="n">bar</span> <span class="k">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">baz</span> <span class="k">=</span> <span class="s">"a"</span><span class="o">)</span>
</pre></div>
</div>

<p>無名のときと同じ方法でも生成できます。その場合でも<code>print</code>では名前が表示されます。</p>

<p>両方の例を示します。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">record.scala</span></div>
<div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Data</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="n">bar</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">baz</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Data</span>

<span class="n">println</span><span class="o">(</span><span class="nc">Foo</span><span class="o">(</span><span class="n">bar</span> <span class="k">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">baz</span> <span class="k">=</span> <span class="s">"a"</span><span class="o">))</span>
<span class="n">println</span><span class="o">(</span><span class="nc">Foo</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="s">"a"</span><span class="o">))</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
Foo(1,a)
Foo(1,a)
</pre></div>
</div>

<h2>
<span id="フィールド値の取得" class="fragment"></span><a href="#%E3%83%95%E3%82%A3%E3%83%BC%E3%83%AB%E3%83%89%E5%80%A4%E3%81%AE%E5%8F%96%E5%BE%97"><i class="fa fa-link"></i></a>フィールド値の取得</h2>

<p>フィールド名がそのままフィールド値を取得する関数になります。無名のときと同様にパターンマッチでも取り出せます。レコード構文でパターンマッチすることもできます。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">record_g.scala</span></div>
<div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Data</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="n">bar</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">baz</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Data</span>

<span class="k">val</span> <span class="n">f1</span> <span class="k">=</span> <span class="nc">Foo</span><span class="o">(</span><span class="n">bar</span> <span class="k">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">baz</span> <span class="k">=</span> <span class="s">"a"</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="n">f1</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="n">f1</span><span class="o">.</span><span class="n">bar</span><span class="o">,</span> <span class="n">f1</span><span class="o">.</span><span class="n">baz</span><span class="o">)</span>
<span class="k">val</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="k">=</span> <span class="n">f1</span>
<span class="n">println</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span>
<span class="k">val</span> <span class="n">c</span> <span class="k">=</span> <span class="n">f1</span><span class="o">.</span><span class="n">bar</span>
<span class="n">println</span><span class="o">(</span><span class="n">c</span><span class="o">)</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
Foo(1,a)
(1,a)
(Foo(1,a),Foo(1,a))
1
</pre></div>
</div>

<h2>
<span id="一部を変更したコピー" class="fragment"></span><a href="#%E4%B8%80%E9%83%A8%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%97%E3%81%9F%E3%82%B3%E3%83%94%E3%83%BC"><i class="fa fa-link"></i></a>一部を変更したコピー</h2>

<p>Scalaの変数は値を書き換えることができませんが、フィールドも同様です。その代わり一部の値を変更したコピーを生成できます。</p>

<p>例を示します。</p>

<div class="code-frame" data-lang="scala">
<div class="code-lang"><span class="bold">record_copy.scala</span></div>
<div class="highlight"><pre>
<span class="k">sealed</span> <span class="k">trait</span> <span class="nc">Data</span>
<span class="k">case</span> <span class="k">class</span> <span class="nc">Foo</span><span class="o">(</span><span class="n">bar</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">baz</span><span class="k">:</span> <span class="kt">String</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Data</span>

<span class="k">val</span> <span class="n">f</span> <span class="k">=</span> <span class="nc">Foo</span><span class="o">(</span><span class="n">bar</span> <span class="k">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">baz</span> <span class="k">=</span> <span class="s">"a"</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="n">f</span><span class="o">)</span>
<span class="c1">// f.bar = 2 // 直接の書き換えは出来ない</span>
<span class="k">val</span> <span class="n">g</span> <span class="k">=</span> <span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="o">(</span><span class="n">bar</span> <span class="k">=</span> <span class="mi">2</span><span class="o">)</span>
<span class="n">println</span><span class="o">(</span><span class="n">g</span><span class="o">)</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
Foo(1,a)
Foo(2,a)
</pre></div>
</div>

<h2>
<span id="練習-3" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-3"><i class="fa fa-link"></i></a>練習</h2>

<p>【問4】問2の解答をレコード構文で書き直してください。</p>

<h1>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h1>

<h2>
<span id="代数的データ型全般" class="fragment"></span><a href="#%E4%BB%A3%E6%95%B0%E7%9A%84%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E5%85%A8%E8%88%AC"><i class="fa fa-link"></i></a>代数的データ型全般</h2>

<ul>
<li><a href="http://modegramming.blogspot.jp/2012/07/30-3-on-scala.html" rel="nofollow noopener" target="_blank">代数的データ型 on Scala</a></li>
<li>
<a href="https://twitter.com/xuwei_k" rel="nofollow noopener" target="_blank">@xuwei_k</a> <a href="http://d.hatena.ne.jp/xuwei/20141207/1417940174" rel="nofollow noopener" target="_blank">代数的データ型とshapelessのマクロによる型クラスのインスタンスの自動導出</a>
</li>
<li>
<a href="https://twitter.com/kmizu" rel="nofollow noopener" target="_blank">@kmizu</a> <a href="http://kmizu.hatenablog.com/entry/20091229/1262091617" rel="nofollow noopener" target="_blank">ひょっとしたら役に立つかもしれないScala Tips(4) - パターンの漏れを検出する</a>
</li>
</ul>

<h2>
<span id="enumerationまわり" class="fragment"></span><a href="#enumeration%E3%81%BE%E3%82%8F%E3%82%8A"><i class="fa fa-link"></i></a>Enumerationまわり</h2>

<ul>
<li><a href="http://xerial.org/scala-cookbook/recipes/2012/06/29/enumeration/" rel="nofollow noopener" target="_blank">ScalaのEnumerationは使うな Scalaで列挙型を定義するには </a></li>
<li><a href="http://www.ne.jp/asahi/hishidama/home/tech/scala/enumeration.html" rel="nofollow noopener" target="_blank">Scala列挙型メモ</a></li>
<li><a href="http://stackoverflow.com/questions/4851898/how-to-deal-with-enumerations-and-path-dependent-types-in-scala" rel="nofollow noopener" target="_blank">How to deal with enumerations and path-dependent types in Scala</a></li>
</ul>

<h2>
<span id="直和型まわり" class="fragment"></span><a href="#%E7%9B%B4%E5%92%8C%E5%9E%8B%E3%81%BE%E3%82%8F%E3%82%8A"><i class="fa fa-link"></i></a>直和型まわり</h2>

<ul>
<li>
<a href="https://twitter.com/shinpei0213" rel="nofollow noopener" target="_blank">@shinpei0213</a> <a href="http://nekogata.hatenablog.com/entry/2014/09/07/174814" rel="nofollow noopener" target="_blank">Scala で直和型</a>
</li>
<li><a href="http://www.ne.jp/asahi/hishidama/home/tech/scala/class.html#h_case_class" rel="nofollow noopener" target="_blank">Scalaクラスメモ ケースクラス</a></li>
</ul>

<h2>
<span id="レコード構文まわり" class="fragment"></span><a href="#%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%A7%8B%E6%96%87%E3%81%BE%E3%82%8F%E3%82%8A"><i class="fa fa-link"></i></a>レコード構文まわり</h2>

<ul>
<li><a href="http://ja.stackoverflow.com/questions/9017/haskell%E3%81%AE%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%A7%8B%E6%96%87%E3%82%92scala%E3%81%A7%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84" rel="nofollow noopener" target="_blank">Haskellのレコード構文をScalaで書きたい</a></li>
<li>
<a href="https://twitter.com/xuwei_k" rel="nofollow noopener" target="_blank">@xuwei_k</a> <a href="http://d.hatena.ne.jp/xuwei/20131220/1387509706" rel="nofollow noopener" target="_blank">Scalaで抽象メソッドをoverrideする際にoverride修飾子を付けるべきかどうかの是非</a>
</li>
<li><a href="http://stackoverflow.com/questions/8228025/whats-the-difference-between-fun-and-fun-in-scala" rel="nofollow noopener" target="_blank">What's the difference between fun and fun() in Scala?</a></li>
</ul>

<h1>
<span id="ソースコード" class="fragment"></span><a href="#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>ソースコード</h1>

<p><a href="https://github.com/shigemk2/scala_algebra" rel="nofollow noopener" target="_blank">scala_algebra</a></p>
<div class="hidden"><form class="js-task-list-update" action="/shigemk2/items/31f6bdbf4dfebb0b9adc" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="_method" value="patch" /><input type="hidden" name="authenticity_token" value="VT5W5XcVINIM5c88R3uW/YkdoP8Ea1nTMLiV+HC34Ng7vM297DsZmfM2eiA3jiik6VqETJOvAyQMZpwDkbnuHg==" /><input type="hidden" name="updated_at_confirmation_in_unixtime" id="updated_at_confirmation_in_unixtime" value="1450974474" class="js-task-list-updated-at" /><textarea name="raw_body" id="raw_body" class="js-task-list-field">
代数的データ型の基本的な使い方を説明します。

この記事はわりとScalaの基本的なところを前提としていると思います。

練習の解答例は別記事に掲載します。

# 代数的データ型

以下の3つを合わせて代数的データ型と呼びます。

1. 列挙型
2. 直積型
3. 直和型

これらを1つずつ見ていきます。

# 列挙型

種類を区別するための型です。他言語の`enum`に相当します。

Enumerationを利用して書くことも出来ますし、case classを利用して代数的データ型を表現することも出来ます。列挙型については、Enumerationを利用した方法で話を進めたいと思います。

## Enumerationを使った例

```scala
object Color extends Enumeration {
  val Blue, Red, Green, White = Value
}
```

## case classを使った例

```scala
sealed trait Color
case class Blue() extends Color
case class Red() extends Color
case class Green() extends Color
case class White() extends Color
```

この例での`Color`を型（型構築子）、`Blue`などをコンストラクタ（データ構築子）と呼びます。

※ コンストラクタは構築子と訳されます。用語は括弧書きの型構築子やデータ構築子と呼ばれることが一般的です。

## idとapply

idメソッドとapplyメソッドを指定すれば数値と相互変換できるようになります。

例を示します。

```scala:enum.scala
object Color extends Enumeration {
  val Blue, Red, Green, White = Value
}

object Main {
  import Color._

  def main(args: Array[String]): Unit = {
    // id
    println(Blue.id)
    println(Red.id)
    println(Green.id)
    println(White.id)
    // apply
    println(Color(0))
    println(Color(1))
    println(Color(2))
    println(Color(3))
    // maxId
    println(Color.maxId)
    // values
    println(Color.values)
    // withName
    println(Color.withName(&quot;Red&quot;))
  }
}
```
```text:実行結果
0
1
2
3
Blue
Red
Green
White
4
Color.ValueSet(Blue, Red, Green, White)
Red
```

例にも示しましたが、他にも色々なメソッドが使えます。こちらのページも参考にしてみてください。

[Scala列挙型メモ](http://www.ne.jp/asahi/hishidama/home/tech/scala/enumeration.html)

## Bool

真偽値を表す列挙型を表現してみましょう。

```scala:定義
object Bool extends Enumeration {
  type Bool = Value
  val True, False = Value
}
```

## 練習

【問1】光の三原色と、2つの色を混合する関数`mix`を定義してください。混ぜることによってできる色も定義の対象とします。ただし同じ成分同士は強め合わないものとします。

ヒント: `mix(a:Color.Value, a:Color.Value)`, その他の色 `Green, Cyan, Yellow, White`


# 直積型

内部に値を持つ型です。他言語の構造体に相当します。馴染みのない用語かもしれませんが、集合論に由来します。

## 例

同名の例を示します。

```scala:point.scala
sealed trait Coordinates
case class Point(x: Int, y: Int) extends Coordinates

def offset(p1: Point, p2: Point): Point = {
  Point(p1.x + p2.x, p1.y + p2.y)
}

val p1 = Point(2, 3)
val p2 = Point(1, 1)
println(offset(p1, p2))
```
```text:実行結果
Point(3,4)
```

フィールドの値はパターンマッチで取り出します。名前による方法はレコード構文として後述します。

## 直積

何が積なのかというイメージを説明します。

先ほどの例で`Point(3, 4)`というのは、`3`と`4`が組み合わさって1つのデータを構成しています。これを`3*4`のような因数の組み合わせで1つの項を構成しているように捉えます。

集合論による説明は次の記事を参照してください。

* [@CyLomw](https://twitter.com/CyLomw): [Haskell - GHC 拡張を使って直積っぽい型の表記とかしてみる - Qiita](http://qiita.com/CyLomw/items/7e72e98cfe1c8026df2a) 2015.1.13

## 練習

【問2】x,y,w,hを表現した`Rect`型を定義して、`Rect`に`Point`が含まれるかどうかを判定する関数`contains`を実装してください。

具体的には以下のコードが動くようにしてください。

```scala:rect.scala
println(contains(new Rect(2, 2, 3, 3), Point(1, 1)))
println(contains(new Rect(2, 2, 3, 3), Point(2, 2)))
println(contains(new Rect(2, 2, 3, 3), Point(3, 3)))
println(contains(new Rect(2, 2, 3, 3), Point(4, 4)))
println(contains(new Rect(2, 2, 3, 3), Point(5, 5)))
```

```text:実行結果
false
true
true
true
false
```

# 直和型

列挙型にフィールドを付加することで、複数の直積型を定義したものです。列挙型と直積型の両方の特徴を併せ持っています。

```scala:例
sealed trait Foo
case class Bar(x: Int, y: Int) extends Foo
case class Baz(x: Int, y: Int, z: Int) extends Foo
```

この名前も集合論に由来します。複数の直積型の和だと捉えれば、イメージしやすいかもしれません。

* `Bar Int Int | Baz Int Int Int` → Int*Int + Int*Int*Int

※ C言語では共用体に相当しますが、C言語のように共用体のフィールドを選ぶことで解釈を変えることはできません。区別が保持されるという意味合いでF#では判別共用体と呼びます。

## サンプル

```direct_sum.scala
sealed trait Test
case class TestInt(x: Int) extends Test
case class TestStr(x: String) extends Test

def foo(a: Test): String = a match {
  case TestInt(1)   =&gt; &quot;bar&quot;
  case TestStr(&quot;1&quot;) =&gt; &quot;baz&quot;
  case _            =&gt; &quot;?&quot;
}

println(foo(TestInt(0)))
println(foo(TestInt(1)))
println(foo(TestStr(&quot;0&quot;)))
println(foo(TestStr(&quot;1&quot;)))
```

```text:実行結果
?
bar
?
baz
```

関数の引数は同一の型しか受け付けないため、通常は数値`Int`と文字列`String`の両方を渡すことはできません。この例では代数的データ型を挟むことでどちらも渡せるようにしています。

## オブジェクト指向との比較

オブジェクト指向の感覚では`Test`が基底クラス、`TestInt`と`TestStr`が派生クラスに相当します。関数の扱いは基底クラスのメソッドを派生クラスでオーバーライドする感覚に近いです。

```scala:direct_sum_object.scala
abstract class Test {
  def foo: String = &quot;?&quot;
}

class TestInt(x: Int) extends Test {
  override def foo: String = {
    if (x == 1) {
      &quot;bar&quot;
    } else {
      super.foo
    }
  }
}

class TestStr(x: String) extends Test {
  override def foo: String = {
    if (x == &quot;1&quot;) {
      &quot;baz&quot;
    } else {
      super.foo
    }
  }
}

println(new TestInt(0).foo)
println(new TestInt(1).foo)
println(new TestStr(&quot;0&quot;).foo)
println(new TestStr(&quot;1&quot;).foo)
```

```text:実行結果
?
bar
?
baz
```

### オーバーロード

この例ではわざわざ型を作らなくてもオーバーロードした方が簡単です。

```scala:direct_sum_overload.scala
class Test {
  def foo: String = &quot;?&quot;
  def foo(x: Int): String = {
    if (x == 1) {
      &quot;bar&quot;
    } else {
      foo
    }
  }
  def foo(x: String): String = {
    if (x == &quot;1&quot;) {
      &quot;baz&quot;
    } else {
      foo
    }
  }
}

println(new Test().foo(0))
println(new Test().foo(1))
println(new Test().foo(&quot;0&quot;))
println(new Test().foo(&quot;1&quot;))
```

```text:実行結果
?
bar
?
baz
```

## リスト

リストは直和型として定義されています。

```scala:定義
sealed trait List[+A]
```

※ `A`は型変数と呼ばれ任意の型が入ります。今回の範囲を超えるため詳細は省略します。

### 型シノニム

文字のリストが文字列です。`List[Char]`（文字のリスト）に`MyString`という別名を付けています。

```scala:定義
type MyString = List[Char]
```

このような別名を**型シノニム**と呼びます。[synonym](http://ja.wikipedia.org/wiki/%E3%82%B7%E3%83%8E%E3%83%8B%E3%83%A0)は**同意語・別名**という意味です。

## 練習

【問3】`Rect`と`Point`を2次元と3次元の両方に対応させて、問2の`contains`も対応させてください。

具体的には以下のコードが動くようにしてください。

```rect3d.scala
println(contains(new Rect(2, 2, 3, 3), new Point(1, 1)))
println(contains(new Rect(2, 2, 3, 3), new Point(2, 2)))
println(contains(new Rect(2, 2, 3, 3), new Point(3, 3)))
println(contains(new Rect(2, 2, 3, 3), new Point(4, 4)))
println(contains(new Rect(2, 2, 3, 3), new Point(5, 5)))
println(contains(new Rect3D(2, 2, 2, 3, 3, 3), new Point3D(1, 1, 1)))
println(contains(new Rect3D(2, 2, 2, 3, 3, 3), new Point3D(2, 2, 2)))
println(contains(new Rect3D(2, 2, 2, 3, 3, 3), new Point3D(3, 3, 3)))
println(contains(new Rect3D(2, 2, 2, 3, 3, 3), new Point3D(4, 4, 4)))
println(contains(new Rect3D(2, 2, 2, 3, 3, 3), new Point3D(5, 5, 5)))
```
```text:実行結果
false
true
true
true
false
false
true
true
true
false
```

# レコード構文

直積型や直和型のフィールドに名前を付けることができます。これを**レコード構文**と呼びます。

※Haskellのレコード構文を強引に翻訳したので、本当にScalaでこうなのかあまり自信がありません。

[Haskellのレコード構文をScalaで書きたい](http://ja.stackoverflow.com/questions/9017/haskell%E3%81%AE%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%A7%8B%E6%96%87%E3%82%92scala%E3%81%A7%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84)

実装としては、case classを使うので、直和型、直積型とあまり変わりがありません。

```scala:例
sealed trait Data
case class Foo(bar: Int, baz: String) extends Data
```

## 生成

```scala:例
Foo(bar = 1, baz = &quot;a&quot;)
```

無名のときと同じ方法でも生成できます。その場合でも`print`では名前が表示されます。

両方の例を示します。

```scala:record.scala
sealed trait Data
case class Foo(bar: Int, baz: String) extends Data

println(Foo(bar = 1, baz = &quot;a&quot;))
println(Foo(1, &quot;a&quot;))
```
```text:実行結果
Foo(1,a)
Foo(1,a)
```

## フィールド値の取得

フィールド名がそのままフィールド値を取得する関数になります。無名のときと同様にパターンマッチでも取り出せます。レコード構文でパターンマッチすることもできます。

```scala:record_g.scala
sealed trait Data
case class Foo(bar: Int, baz: String) extends Data

val f1 = Foo(bar = 1, baz = &quot;a&quot;)
println(f1)
println(f1.bar, f1.baz)
val a, b = f1
println(a, b)
val c = f1.bar
println(c)
```
```text:実行結果
Foo(1,a)
(1,a)
(Foo(1,a),Foo(1,a))
1
```

## 一部を変更したコピー

Scalaの変数は値を書き換えることができませんが、フィールドも同様です。その代わり一部の値を変更したコピーを生成できます。

例を示します。

```scala:record_copy.scala
sealed trait Data
case class Foo(bar: Int, baz: String) extends Data

val f = Foo(bar = 1, baz = &quot;a&quot;)
println(f)
// f.bar = 2 // 直接の書き換えは出来ない
val g = f.copy(bar = 2)
println(g)
```
```text:実行結果
Foo(1,a)
Foo(2,a)
```

## 練習

【問4】問2の解答をレコード構文で書き直してください。

# 参考
## 代数的データ型全般

* [代数的データ型 on Scala](http://modegramming.blogspot.jp/2012/07/30-3-on-scala.html)
* [@xuwei_k](https://twitter.com/xuwei_k) [代数的データ型とshapelessのマクロによる型クラスのインスタンスの自動導出](http://d.hatena.ne.jp/xuwei/20141207/1417940174)
* [@kmizu](https://twitter.com/kmizu) [ひょっとしたら役に立つかもしれないScala Tips(4) - パターンの漏れを検出する](http://kmizu.hatenablog.com/entry/20091229/1262091617)

## Enumerationまわり

* [ScalaのEnumerationは使うな Scalaで列挙型を定義するには ](http://xerial.org/scala-cookbook/recipes/2012/06/29/enumeration/)
* [Scala列挙型メモ](http://www.ne.jp/asahi/hishidama/home/tech/scala/enumeration.html)
* [How to deal with enumerations and path-dependent types in Scala](http://stackoverflow.com/questions/4851898/how-to-deal-with-enumerations-and-path-dependent-types-in-scala)

## 直和型まわり

* [@shinpei0213](https://twitter.com/shinpei0213) [Scala で直和型](http://nekogata.hatenablog.com/entry/2014/09/07/174814)
* [Scalaクラスメモ ケースクラス](http://www.ne.jp/asahi/hishidama/home/tech/scala/class.html#h_case_class)

## レコード構文まわり

* [Haskellのレコード構文をScalaで書きたい](http://ja.stackoverflow.com/questions/9017/haskell%E3%81%AE%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%A7%8B%E6%96%87%E3%82%92scala%E3%81%A7%E6%9B%B8%E3%81%8D%E3%81%9F%E3%81%84)
* [@xuwei_k](https://twitter.com/xuwei_k) [Scalaで抽象メソッドをoverrideする際にoverride修飾子を付けるべきかどうかの是非](http://d.hatena.ne.jp/xuwei/20131220/1387509706)
* [What&#39;s the difference between fun and fun() in Scala?](http://stackoverflow.com/questions/8228025/whats-the-difference-between-fun-and-fun-in-scala)

# ソースコード

[scala_algebra](https://github.com/shigemk2/scala_algebra)
</textarea><input type="submit" name="commit" value="Save changes" data-disable-with="Save changes" /></form></div></section></div><div class="col-sm-3"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Scala 代数的データ型 超入門 on @Qiita" data-url="http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Scala 代数的データ型 超入門" href="http://b.hatena.ne.jp/entry/http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div><section class="itemsShowAuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><a href="/shigemk2"><img alt="" class="itemsShowAuthorInfo_userIcon" itemprop="image" src="https://qiita-image-store.s3.amazonaws.com/0/9578/profile-images/1473681465" /></a><div class="itemsShowAuthorInfo_profileStats"><strong class="itemsShowAuthorInfo_userName" itemprop="name"><a itemprop="url" href="/shigemk2">shigemk2</a></strong><div class="itemsShowAuthorInfo_contribution"><span class="itemsShowAuthorInfo_count">170</span><span class="itemsShowAuthorInfo_unit">Contribution</span></div><div data-react-class="T.UserFollowButton" data-react-props="{&quot;url_name&quot;:&quot;shigemk2&quot;,&quot;initial_followed_by&quot;:false,&quot;size&quot;:&quot;btn-xs&quot;,&quot;position&quot;:&quot;author-info&quot;}"></div></div><section class="itemsShowAuthorPopularItems"><h5 class="itemsShowAuthorPopularItems_sectionTitle">人気の投稿</h5><ul class="itemsShowAuthorPopularItems_posts list-unstyled"><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/shigemk2/items/31f6bdbf4dfebb0b9adc">Scala 代数的データ型 超入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/shigemk2/items/3a5e5df9fe85cf0b4eb2">Scala ラムダ超入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/shigemk2/items/46aa6a6525ab3edee1d0">コマンドラインでTravisCIを操作したいときは、The Travis Clientを使うのが便利</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/shigemk2/items/24f5b5e34af82e9a9904">TINAMIのRSSリーダーを作ってみた</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/shigemk2/items/7afd04587dc088054819">【解答例】Scala ラムダ 超入門</a></li></ul></section></section><div class="scroll-chaser"><div class="google-adsense"><style>.test-text-responsible { width: 200px; height: 200px; }@media(min-width: 1200px) {  .test-text-responsible { width: 250px; height: 250px; }}@media(max-width: 979px) and (min-width: 768px) {  .test-text-responsible { width: 120px; height: 240px; }}@media(max-width: 767px) {  .test-text-responsible { width: 320px; height: 50px; }}</style><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle test-text-responsible" data-ad-client="ca-pub-8127218772604357" data-ad-slot="3880091879" style="display:inline-block"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><div data-react-class="T.Toc" data-react-props="{&quot;body&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E4%BB%A3%E6%95%B0%E7%9A%84%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B\&quot;\u003e代数的データ型\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%88%97%E6%8C%99%E5%9E%8B\&quot;\u003e列挙型\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#enumeration%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E4%BE%8B\&quot;\u003eEnumerationを使った例\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#case-class%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E4%BE%8B\&quot;\u003ecase classを使った例\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#id%E3%81%A8apply\&quot;\u003eidとapply\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#bool\&quot;\u003eBool\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%9B%B4%E7%A9%8D%E5%9E%8B\&quot;\u003e直積型\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E4%BE%8B\&quot;\u003e例\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%9B%B4%E7%A9%8D\&quot;\u003e直積\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-1\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%9B%B4%E5%92%8C%E5%9E%8B\&quot;\u003e直和型\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB\&quot;\u003eサンプル\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83\&quot;\u003eオブジェクト指向との比較\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%AA%E3%83%BC%E3%83%90%E3%83%BC%E3%83%AD%E3%83%BC%E3%83%89\&quot;\u003eオーバーロード\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%AA%E3%82%B9%E3%83%88\&quot;\u003eリスト\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%9E%8B%E3%82%B7%E3%83%8E%E3%83%8B%E3%83%A0\&quot;\u003e型シノニム\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-2\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%A7%8B%E6%96%87\&quot;\u003eレコード構文\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%94%9F%E6%88%90\&quot;\u003e生成\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%95%E3%82%A3%E3%83%BC%E3%83%AB%E3%83%89%E5%80%A4%E3%81%AE%E5%8F%96%E5%BE%97\&quot;\u003eフィールド値の取得\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E4%B8%80%E9%83%A8%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%97%E3%81%9F%E3%82%B3%E3%83%94%E3%83%BC\&quot;\u003e一部を変更したコピー\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-3\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%8F%82%E8%80%83\&quot;\u003e参考\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E4%BB%A3%E6%95%B0%E7%9A%84%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E5%85%A8%E8%88%AC\&quot;\u003e代数的データ型全般\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#enumeration%E3%81%BE%E3%82%8F%E3%82%8A\&quot;\u003eEnumerationまわり\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%9B%B4%E5%92%8C%E5%9E%8B%E3%81%BE%E3%82%8F%E3%82%8A\&quot;\u003e直和型まわり\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%AC%E3%82%B3%E3%83%BC%E3%83%89%E6%A7%8B%E6%96%87%E3%81%BE%E3%82%8F%E3%82%8A\&quot;\u003eレコード構文まわり\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\&quot;\u003eソースコード\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n&quot;,&quot;wrapper&quot;:&quot;#article-body-wrapper&quot;}"></div></div></div><div class="row"><div class="col-sm-9"><div class="ArticleFooter__menu"><div class="s-flex-align-center"><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:42,&quot;show_count&quot;:true,&quot;uuid&quot;:&quot;31f6bdbf4dfebb0b9adc&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-footer&quot;}"></div><div class="ArticleFooter__userList"><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="tanacasino"><a itemprop="url" href="/tanacasino"><img alt="tanacasino" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/27172/profile-images/1473684899" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="7shi"><a itemprop="url" href="/7shi"><img alt="7shi" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="yoya"><a itemprop="url" href="/yoya"><img alt="yoya" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/1798/profile-images/1473755697" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="ryo0ka"><a itemprop="url" href="/ryo0ka"><img alt="ryo0ka" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/66393/profile-images/1473697193" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="kiris"><a itemprop="url" href="/kiris"><img alt="kiris" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/583/profile-images/1473681411" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="TTsurutani"><a itemprop="url" href="/TTsurutani"><img alt="TTsurutani" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/60888/profile-images/1473695375" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="Miyatin"><a itemprop="url" href="/Miyatin"><img alt="Miyatin" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/68827/profile-images/1473697961" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="coporlock"><a itemprop="url" href="/coporlock"><img alt="coporlock" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/4351/profile-images/1473683919" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="uryyyyyyy"><a itemprop="url" href="/uryyyyyyy"><img alt="uryyyyyyy" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/7185/profile-images/1482825373" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="maaz118"><a itemprop="url" href="/maaz118"><img alt="maaz118" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/59312/profile-images/1473694888" /></a></div></div><div class="ArticleFooter__user"><a href="/shigemk2/items/31f6bdbf4dfebb0b9adc/likers"><span class="fa fa-ellipsis-h"></span></a></div></div></div><div class="u-flex u-align-center"><div class="ArticleFooter__stock"><div class="js-stockbutton" data-position="footer_menu" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="ArticleFooter__editRequest"><a class="u-link-no-underline" data-toggle="tooltip" title="You can propose improvements about the article to the author 💪" href="/drafts/31f6bdbf4dfebb0b9adc/edit"><span class="fa fa-send-o fa-lg"></span> <span>Edit request</span></a></div><div class="dropdown ArticleFooter__dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h"></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a href="/shigemk2/items/31f6bdbf4dfebb0b9adc.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><i class="fa fa-fw fa-flag"></i> Report article</a></li></ul></div></div></div><ul class="references js-referencesView"><li class="references_header"><i class="fa fa-fw fa-link"></i> Linked from these articles</li><li class="references_reference js-reference"><span>Linked from </span><a href="/7shi/items/1ce76bde464b4a55c143#_reference-86f061a8a51539b6c266"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell 代数的データ型 超入門</a><time class="references_datetime js-dateTimeView" datetime="2015-04-11T13:21:01+00:00">almost 2 years ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/shigemk2/items/24808ff3e217f816bb63#_reference-037bafa2e49503b11a0e"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/9578/profile-images/1473681465" />【解答例】Scala 代数的データ型 超入門</a><time class="references_datetime js-dateTimeView" datetime="2015-04-12T05:53:50+00:00">almost 2 years ago</time></li></ul><div class="itemsShowBody_articleColumnFooter"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Scala 代数的データ型 超入門 on @Qiita" data-url="http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Scala 代数的データ型 超入門" href="http://b.hatena.ne.jp/entry/http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div></div><div class="itemsShowComment_wrapper" id="comments"><div data-react-class="T.CommentListContainer" data-react-props="{&quot;currentUser&quot;:null,&quot;initialComments&quot;:[],&quot;monthly_public_image_uploadable_size_limit&quot;:null,&quot;total_uploaded_public_image_size_in_current_month&quot;:null,&quot;item&quot;:{&quot;id&quot;:295731,&quot;uuid&quot;:&quot;31f6bdbf4dfebb0b9adc&quot;,&quot;suspended&quot;:false,&quot;secret&quot;:false},&quot;owner&quot;:{&quot;url_name&quot;:&quot;shigemk2&quot;},&quot;is_team&quot;:false,&quot;is_project&quot;:false,&quot;logged_in&quot;:false,&quot;polling&quot;:false,&quot;mention_candidates&quot;:[{&quot;id&quot;:9578,&quot;url_name&quot;:&quot;shigemk2&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/9578/profile-images/1473681465&quot;}]}">Comments Loading...</div></div></div></div></div></article><div class="js-report-form modal fade reportForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Report article</h4></div><div class="modal-body"><form action="/reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="10M56ai9ZsU20Nc44PrTDgFsm1PSfQJ5u9uajMjeUCa5waKxM5NfjskDYiSQD21XYSu/4EW5WI6HBZN3KdBe4A==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/shigemk2/items/31f6bdbf4dfebb0b9adc" /><input type="hidden" name="item_uuid" id="item_uuid" value="31f6bdbf4dfebb0b9adc" /><p>Help us understand the problem. What is going on with this item?</p><br /><div class="form-group"><ul class="list-unstyled"><li><label><input type="radio" name="report_type" id="report_type_spam" value="spam" required="required" /> It&#39;s spam </label></li><li><label><input type="radio" name="report_type" id="report_type_harassment" value="harassment" required="required" /> It&#39;s abusive or harmful </label></li><li><label><input type="radio" name="report_type" id="report_type_inappropriate_content" value="inappropriate_content" required="required" /> It contains inappropriate content </label></li></ul></div><div class="reportForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary reportForm_submitButton"><i class="fa fa-send"></i> Submit</button></div></form></div></div></div></div><script id="js-item" type="application/json">{ "url": "http://qiita.com/shigemk2/items/31f6bdbf4dfebb0b9adc", "id": 295731, "uuid": "31f6bdbf4dfebb0b9adc" }</script><script class="js-user" type="application/json">{&quot;id&quot;:9578,&quot;url_name&quot;:&quot;shigemk2&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/9578/profile-images/1473681465&quot;}</script><script language="JavaScript" src="//cdn.bigmining.com/private/js/qiita_bigmining.js" type="text/javascript"></script></div><footer class="footer"><div class="footer_inner"><div class="footer_container"><ul class="footer_links-left"><li class="footer_link"><a class="footer_copyright" href="http://increments.co.jp">© 2011-2017 Increments Inc.</a></li><li class="footer_link"><a href="http://qiita.com/terms">Terms</a></li><li class="footer_link"><a href="http://qiita.com/privacy">Privacy</a></li><li class="footer_link"><a href="http://help.qiita.com">Help</a></li><li class="footer_link"><a href="https://increments.zendesk.com/anonymous_requests/new">Contact</a></li></ul><ul class="footer_links-right"><li class="footer_link"><a href="http://qiita.com/about">About</a></li><li class="footer_link"><a href="/users">Users</a></li><li class="footer_link"><a href="/tags">Tags</a></li><li class="footer_link"><a href="http://blog.qiita.com">Blog</a></li><li class="footer_link"><a href="http://qiita.com/api/v2/docs">API</a></li><li class="footer_link"><a href="https://teams.qiita.com/">Team</a></li><li class="footer_link"><a href="http://kobito.qiita.com">Kobito</a></li><li class="footer_link"><a class="js-public-form-feedback-link" data-target=".js-feedback-form" data-toggle="modal" href=""><i class="fa fa-heart"></i> Feedback <i class="fa fa-caret-down"></i></a></li></ul></div></div></footer><div class="js-feedback-form modal fade feedbackForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Feedback</h4></div><div class="modal-body"><form class="js-feedback-form-form" action="/feedbacks" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="HhpVnc7DCdfKHIVkwC3OupwIlInKMag83V40KReZYSZwmM7FVe0wnDXPMHiw2HDj/E+wOl318svhgD3S9pdv4A==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/shigemk2/items/31f6bdbf4dfebb0b9adc" /><div class="form-group"><textarea name="feedback[message]" id="feedback_message" class="form-control js-feedback-form-text-area" placeholder="Please give us any feedback about Qiita." required="required" rows="5">
</textarea></div><div class="feedbackForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary feedbackForm_submitButton"><i class="fa fa-send"></i> Submit</button><p class="feedbackForm_note">We don&#39;t reply to any feedback.<br />If you need help with Qiita, please send a support request from <a href="https://increments.zendesk.com/anonymous_requests/new">here</a>.</p></div><div style="position:fixed;top:-99999px;opacity:0.0001;"><input name="feedback[name]" type="text" /></div></form></div></div></div></div><script>// if (window.mixpanel instanceof Element) {
//   window.mixpanel = [];
// }
// (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
// for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);</script><script src="http://cdn.qiita.com/assets/public-8c6201a66dc6db6f64a9017391c319bf.min.js"></script><script>
  (function () {
    var script = document.getElementsByTagName('script')[0];
    var load = function (src, id) {
      var el = document.createElement('script');
      el.async = true;
      el.src = src;
      el.id = id;
      script.parentNode.insertBefore(el, script);
    };
      // Optimizely
      load('//cdn.optimizely.com/js/52738645.js', 'optimizely-jssdk');
      // Google Analytics
      window._gaq = window._gaq || [];
      var isCareer = location.hostname.split('.')[0] == 'career';
      if (isCareer) {
        window._gaq.push(['_setAccount', 'UA-24675221-11']);
        window._gaq.push(['_setDomainName', 'qiita.com']);
      } else {
        window._gaq.push(['_setAccount', 'UA-24675221-1']);
      }
      window._gaq.push(['_setCustomVar', 1, 'logged_in', 'false', 2]);
      window._gaq.push(['_trackPageview']);
      var src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      load(src, 'google-analytics-jssdk');
    // Google Analytics - Universal Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-24675221-12', {
          
        });
          ga('create', 'UA-2010112-2', { name: 'user' });
          ga('user.send', 'pageview');
        ga('set', 'dimension1', 'false');
        ga('set', 'dimension3', 'false');
      ga('require', 'displayfeatures');
      ga('set', 'forceSSL', true);
      ga('send', 'pageview');
    // Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TBQWPN');
  })();
</script>
</body></html>