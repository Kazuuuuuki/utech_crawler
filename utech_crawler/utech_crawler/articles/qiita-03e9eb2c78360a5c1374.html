<!DOCTYPE html><html xmlns:og="http://ogp.me/ns#"><head><meta charset="UTF-8" /><title>見積りで考える内積 - Qiita</title><meta content="width=device-width,initial-scale=1" name="viewport" /><meta content="内積は計算方法としてはそれほど難しいものではありませんが、色々な応用があるためイメージしにくい計算です。幾何学的な意味付けがありますが、そのように解釈しにくい計算にも応用されます。例として、日常的にも触れる機会の多い計算書（見積りなど）を取り上げます。NumPyによる計算を添えます。


見積り

文房具を調達するケースを考えます。

※ 消費税は無視します。




品名
単価
個数
小計




鉛筆
30
12
360


消しゴム
50
10
500


総計
..." name="description" /><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta content="7shi" name="twitter:creator" /><meta content="見積りで考える内積 - Qiita" property="og:title" /><meta content="article" property="og:type" /><meta content="http://qiita.com/7shi/items/03e9eb2c78360a5c1374" property="og:url" /><meta content="http://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png" property="og:image" /><meta content="内積は計算方法としてはそれほど難しいものではありませんが、色々な応用があるためイメージしにくい計算です。幾何学的な意味付けがありますが、そのように解釈しにくい計算にも応用されます。例として、日常的にも触れる機会の多い計算書（見積りなど..." property="og:description" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><link rel="shortcut icon" type="image/x-icon" href="http://cdn.qiita.com/assets/favicons/public/production-4ff10c1e1e2b5fcb353ff9cafdd56c70.ico" /><link rel="apple-touch-icon" type="image/png" href="http://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link rel="stylesheet" media="all" href="http://cdn.qiita.com/assets/public-e8d29e8ff1879118096f0f5877946857.min.css" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="DoPHU+6HpjQ0AYl+swWVXsKn2+gGTnIN9k8vpzpcPgFgAVwLdamff8vSPGLD8CsHouD/W5GKKPrKkSZc21Iwxw==" /></head><body class="without-js" id=""><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TBQWPN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>
  document.body.className = document.body.className.replace('without-js', '') + ' with-js';
  window.Qiita = {"asset_host":"cdn.qiita.com","TLD":"com","controller_path":"public/items","controller_action":"public/items#show","controller":"items","action":"show","env":"production","flash":{},"is_landing_page":false,"is_team_page":false,"root_domain":"qiita.com","variant":null,"config":{"mixpanel":{"career":"dd35af27e959781713d63fd7ca898a8d","per_team":"c0a2116368b33b44b5029ebd2cc9b094","public":"be87616606b0e26a87689099aab2c4e5","team":"b7c0342acba2dbc8742484d98788efb3"},"default_locale":"ja","locale":"en"},"team":null,"user":null,"GIT_BRANCH":null,"DEBUG":false};

</script>
<div class="headerContainer headerContainer-public" role="navigation"><div data-react-class="T.HeaderContainer" data-react-props="{&quot;user&quot;:null,&quot;team&quot;:null,&quot;news&quot;:{&quot;type&quot;:&quot;News&quot;,&quot;content&quot;:&quot;ストックの他に「いいね」が追加されました&quot;,&quot;url&quot;:&quot;http://blog.qiita.com/post/153200849029/qiita-like-button&quot;},&quot;initial_unread_count&quot;:null,&quot;siteid_image&quot;:&quot;http://cdn.qiita.com/siteid-reverse.png&quot;,&quot;is_team_page&quot;:false,&quot;on_team_setting&quot;:false,&quot;show_post_menu&quot;:true,&quot;show_search_menu&quot;:true,&quot;is_fluid&quot;:false,&quot;locale&quot;:&quot;en&quot;}"></div></div><div id="main"><ol class="itemBreadcrumbs" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/"><span itemprop="name">Qiita</span></a><meta content="1" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/items"><span itemprop="name">Items</span></a><meta content="2" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/tags/%E6%95%B0%E5%AD%A6"><span itemprop="name">数学</span></a><meta content="3" itemprop="position" /></li></ol><article itemscope="" itemtype="http://schema.org/Article"><div class="ArticleMainHeader "><div class="container"></div><div class="container"><div class="row s-flex-align-center"><div class="col-sm-9"><h1 class="ArticleMainHeader__title">見積りで考える内積</h1><ul class="TagList"><li class="TagList__item" data-count="503"><a class="u-link-unstyled TagList__label" href="/tags/%E6%95%B0%E5%AD%A6"><img alt="数学" class="TagList__icon" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/8fe97b92406365b26c7ffbda350a237c07ef4feb/medium.jpg?1421593187" /><span>数学</span></a></li><li class="TagList__item" data-count="51"><a class="u-link-unstyled TagList__label" href="/tags/%E7%B7%9A%E5%BD%A2%E4%BB%A3%E6%95%B0"><img alt="線形代数" class="TagList__icon" src="//cdn.qiita.com/assets/icons/medium/missing-2e17009a0b32a6423572b0e6dc56727e.png" /><span>線形代数</span></a></li><li class="TagList__item" data-count="9696"><a class="u-link-unstyled TagList__label" href="/tags/Python"><img alt="Python" class="TagList__icon" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/28fd3d6b220c89e6197fd82c02fd2fcd2bb66d81/medium.jpg?1383884245" /><span>Python</span></a></li><li class="TagList__item" data-count="292"><a class="u-link-unstyled TagList__label" href="/tags/numpy"><img alt="numpy" class="TagList__icon" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/d6dde82b29e034e0546b85efec97bfa0a7f4cbe9/medium.jpg?1454252366" /><span>numpy</span></a></li></ul></div><div class="col-sm-3"><div class="itemsShowHeaderStock"><ul class="list-unstyled itemsShowHeaderStock_statusList"><li><div class="itemsShowHeaderStock_count stock"><span class="fa fa-thumbs-up"></span><span class="js-likecount">3</span></div><div class="itemsShowHeaderStock_countText">Like</div></li><li><div class="itemsShowHeaderStock_count" content="0 UserComments" itemprop="interactionCount"><span class="fa fa-comment"></span>0</div><div class="itemsShowHeaderStock_countText">Comment</div></li></ul></div><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:3,&quot;uuid&quot;:&quot;03e9eb2c78360a5c1374&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-header&quot;}"></div><ul class="list-inline ArticleMainHeader__users"><li class="js-hovercard" data-hovercard-target-name="kkomai"><a itemprop="url" href="/kkomai"><img alt="kkomai" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/9033/profile-images/1480998306" /></a></li><li class="js-hovercard" data-hovercard-target-name="ksoda"><a itemprop="url" href="/ksoda"><img alt="ksoda" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/42409/profile-images/1473689147" /></a></li><li class="js-hovercard" data-hovercard-target-name="hadashiA"><a itemprop="url" href="/hadashiA"><img alt="hadashiA" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/5859/profile-images/1473682324" /></a></li></ul></div></div></div></div><div class="ArticleAsideHeader"><div class="container"><div class="u-flex u-space-between"><div class="u-flex u-flex-wrap"><div class="u-flex u-align-center s-pdv-5 u-flex-wrap"><div class="ArticleAsideHeader__author"><a href="/7shi"><img class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" alt="1473685823" /></a> <a class="u-link-unstyled" href="/7shi">7shi</a> </div><div class="ArticleAsideHeader__date"><span data-toggle="tooltip" title="posted at 2017-03-02">Edited at <time datetime="2017-03-02T17:38:04+09:00" itemprop="dateModified">2017-03-02</time></span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"><div class="ArticleAsideHeader__revision"> <a data-toggle="tooltip" title="Revisions" href="/7shi/items/03e9eb2c78360a5c1374/revisions"><span class="fa fa-history"></span></a><span class="ArticleAsideHeader__revisionCount">6</span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"></div></div><div class="u-flex u-align-center s-flex-justiry-between s-pdv-5 u-shrink-0"><div class="ArticleAsideHeader__stock"><div class="js-stockbutton" data-position="top" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h fa-lg"></span></a><ul class="dropdown-menu dropdown-menu-right"><li class="dropdown__item--mobile"><a href="/7shi/items/03e9eb2c78360a5c1374/revisions"><span class="fa fa-fw fa-history"></span> Revisions<span>(6)</span></a></li><li><a href="/7shi/items/03e9eb2c78360a5c1374.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><span class="fa fa-fw fa-flag"></span> Report article</a></li></ul></div></div></div></div></div><div class="container"><div class="row" id="article-body-wrapper"><div class="col-sm-9"><section class="markdownContent markdownContent-headingEnabled js-task-list-container clearfix position-relative" id="item-03e9eb2c78360a5c1374" itemprop="articleBody"><p>内積は計算方法としてはそれほど難しいものではありませんが、色々な応用があるためイメージしにくい計算です。幾何学的な意味付けがありますが、そのように解釈しにくい計算にも応用されます。例として、日常的にも触れる機会の多い計算書（見積りなど）を取り上げます。NumPyによる計算を添えます。</p>

<h1>
<span id="見積り" class="fragment"></span><a href="#%E8%A6%8B%E7%A9%8D%E3%82%8A"><i class="fa fa-link"></i></a>見積り</h1>

<p>文房具を調達するケースを考えます。</p>

<p>※ 消費税は無視します。</p>

<table>
<thead>
<tr>
<th>品名</th>
<th style="text-align: right">単価</th>
<th style="text-align: right">個数</th>
<th style="text-align: right">小計</th>
</tr>
</thead>
<tbody>
<tr>
<td>鉛筆</td>
<td style="text-align: right">30</td>
<td style="text-align: right">12</td>
<td style="text-align: right">360</td>
</tr>
<tr>
<td>消しゴム</td>
<td style="text-align: right">50</td>
<td style="text-align: right">10</td>
<td style="text-align: right">500</td>
</tr>
<tr>
<td>総計</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right">860</td>
</tr>
</tbody>
</table>

<p>このような計算書は日常的によく見掛けるものです。計算を式で書き直してみます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
30×12+50×10=360+500=860
</pre></div></div>

<p>単価と数量をベクトルで書き直せば、これは内積の計算です。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
=30×12+50×10=860
</pre></div></div>

<p>このように表計算をベクトルで書き直したと捉えることが可能です。このような用途で使われるベクトルや内積を幾何学的に解釈することにはあまり意味がありません。</p>

<h2>
<span id="numpy" class="fragment"></span><a href="#numpy"><i class="fa fa-link"></i></a>NumPy</h2>

<p>NumPyでの計算を示します。2種類の書き方ができます。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">numpy</span> <span class="k">import</span> <span class="o">*</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dot</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">]),</span> <span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<span class="mi">860</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">array</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<span class="mi">860</span>
</pre></div></div>

<p>※ 以後<code>import</code>は省略します。</p>

<p>NumPyでは演算子<code>*</code>は小計に相当します。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">array</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span> <span class="o">*</span> <span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="n">array</span><span class="p">([</span><span class="mi">360</span><span class="p">,</span> <span class="mi">500</span><span class="p">])</span>
</pre></div></div>

<p>※ 数学でこのような形の積はあまり見掛けませんが、<a href="https://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%80%E3%83%9E%E3%83%BC%E3%83%AB%E7%A9%8D" rel="nofollow noopener" target="_blank">アダマール積</a>という名前が付いています。</p>

<p>小計を足せば総計が得られます。これは内積と同じ計算です。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">sum</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span> <span class="o">*</span> <span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<span class="mi">860</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dot</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">]),</span> <span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<span class="mi">860</span>
</pre></div></div>

<p>※ Excelでこのような表計算をした経験があれば、<code>SUM</code>は見慣れているでしょう。</p>

<h2>
<span id="横ベクトル" class="fragment"></span><a href="#%E6%A8%AA%E3%83%99%E3%82%AF%E3%83%88%E3%83%AB"><i class="fa fa-link"></i></a>横ベクトル</h2>

<p>$\vec{a}\cdot\vec{b}$ という内積を、$\vec{b}$ に対して左から $\vec{a} \cdot$ が作用するという風に捉えます。$\vec{a}$ を転置すれば積として表現できます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\vec{a}\cdot\vec{b}
=\left(\begin{matrix}a_1 \\ a_2\end{matrix}\right)\cdot
 \left(\begin{matrix}b_1 \\ b_2\end{matrix}\right)
=\left(\begin{matrix}a_1 \\ a_2\end{matrix}\right)^{\top}
 \left(\begin{matrix}b_1 \\ b_2\end{matrix}\right)
=\left(\begin{matrix}a_1 &amp;  a_2\end{matrix}\right)
 \left(\begin{matrix}b_1 \\ b_2\end{matrix}\right)
</pre></div></div>

<p>「横ベクトル掛ける縦ベクトル」はベクトルの内積の別表現だと意識しておくと良いです。</p>

<p>※ 縦ベクトルに左から掛かる横ベクトルは<a href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%D9%A5%AF%A5%C8%A5%EB" rel="nofollow noopener" target="_blank">コベクトル</a>や<a href="https://ja.wikipedia.org/wiki/1-%E5%BD%A2%E5%BC%8F" rel="nofollow noopener" target="_blank">1-形式</a>と呼んで特別な意味付けがなされます。</p>

<h1>
<span id="相見積り" class="fragment"></span><a href="#%E7%9B%B8%E8%A6%8B%E7%A9%8D%E3%82%8A"><i class="fa fa-link"></i></a>相見積り</h1>

<p>複数の仕入れ先（A社・B社）から相見積りを取るケースを考えます。</p>

<table>
<thead>
<tr>
<th>品名</th>
<th style="text-align: right">単価(A社)</th>
<th style="text-align: right">単価(B社)</th>
<th style="text-align: right">個数</th>
<th style="text-align: right">小計(A社)</th>
<th style="text-align: right">小計(B社)</th>
</tr>
</thead>
<tbody>
<tr>
<td>鉛筆</td>
<td style="text-align: right">30</td>
<td style="text-align: right">25</td>
<td style="text-align: right">12</td>
<td style="text-align: right">360</td>
<td style="text-align: right">300</td>
</tr>
<tr>
<td>消しゴム</td>
<td style="text-align: right">50</td>
<td style="text-align: right">60</td>
<td style="text-align: right">10</td>
<td style="text-align: right">500</td>
<td style="text-align: right">600</td>
</tr>
<tr>
<td>総計</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right">860</td>
<td style="text-align: right">900</td>
</tr>
</tbody>
</table>

<p>これは2つの内積計算で表せます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\begin{align}
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=30×12+50×10=860 \\
\left(\begin{matrix}25 \\ 60\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=25×12+60×10=900
\end{align}
</pre></div></div>

<p>個数のベクトルが共通していることに注目して、これらを1つの式にくっ付けることを考えます。単価のベクトルを束ねて行列にしますが、行列とベクトルとの内積はないため、横ベクトルで考えたのと同じ要領で転置します。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\begin{align}
\left(\begin{array}{c|c}30 &amp; 25 \\ 50 &amp; 60\end{array}\right)^{\top}
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=\left(\begin{matrix}30 &amp; 50 \\ \hline 25 &amp; 60\end{matrix}\right)
  \left(\begin{matrix}12 \\ 10\end{matrix}\right) \\
&amp;=\left(\begin{array}{c|c}30×12+50×10 \\ 25×12+60×10\end{array}\right) \\
&amp;=\left(\begin{matrix}860 \\ 900\end{matrix}\right)
\end{align}
</pre></div></div>

<p>※ 区切り線は補助です。行列は基本的に縦に区切られて、転置したときには区切りも横になることを表します。</p>

<p>左辺と表計算を見比べれば、同じものを表現していることが分かるでしょうか。このように行列とベクトルの積によって複数の内積を計算していると解釈できます。</p>

<p>※ 縦ベクトルに左から掛かる転置した行列は<a href="https://ja.wikipedia.org/wiki/2-%E5%BD%A2%E5%BC%8F" rel="nofollow noopener" target="_blank">2-形式</a>と呼ばれることがあります（1-形式との対比）。</p>

<h2>
<span id="numpy-1" class="fragment"></span><a href="#numpy-1"><i class="fa fa-link"></i></a>NumPy</h2>

<p>行列は配列の配列（2次元配列）として記述します。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">array</span><span class="p">([[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]])</span>
<span class="n">array</span><span class="p">([[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]])</span>
</pre></div></div>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\left(\begin{matrix}30 &amp; 25 \\ 50 &amp; 60\end{matrix}\right)
</pre></div></div>

<p>行列の積も<code>dot</code>で計算します。転置は<code>.T</code>です。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dot</span><span class="p">(</span><span class="n">array</span><span class="p">([[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<span class="n">array</span><span class="p">([</span><span class="mi">860</span><span class="p">,</span> <span class="mi">900</span><span class="p">])</span>
</pre></div></div>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\left(\begin{matrix}30 &amp; 25 \\ 50 &amp; 60\end{matrix}\right)^{\top}
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
=\left(\begin{matrix}860 \\ 900\end{matrix}\right)
</pre></div></div>

<p>業者ごとに単価を記述すると考えれば、転置なしでダイレクトに記述できます。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dot</span><span class="p">(</span><span class="n">array</span><span class="p">([[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">60</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">]))</span>
<span class="n">array</span><span class="p">([</span><span class="mi">860</span><span class="p">,</span> <span class="mi">900</span><span class="p">])</span>
</pre></div></div>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\left(\begin{matrix}30 &amp; 50 \\ 25 &amp; 60\end{matrix}\right)
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
=\left(\begin{matrix}860 \\ 900\end{matrix}\right)
</pre></div></div>

<p>どちらが良いかはケースバイケースですが、表計算ベースで考えるなら転置を使った方が分かりやすいでしょう。</p>

<h1>
<span id="個数の比較" class="fragment"></span><a href="#%E5%80%8B%E6%95%B0%E3%81%AE%E6%AF%94%E8%BC%83"><i class="fa fa-link"></i></a>個数の比較</h1>

<p>個数を変えて比較するケースを考えます。</p>

<table>
<thead>
<tr>
<th>品名</th>
<th style="text-align: right">単価</th>
<th style="text-align: right">個数1</th>
<th style="text-align: right">小計1</th>
<th style="text-align: right">個数2</th>
<th style="text-align: right">小計2</th>
</tr>
</thead>
<tbody>
<tr>
<td>鉛筆</td>
<td style="text-align: right">30</td>
<td style="text-align: right">12</td>
<td style="text-align: right">360</td>
<td style="text-align: right">9</td>
<td style="text-align: right">270</td>
</tr>
<tr>
<td>消しゴム</td>
<td style="text-align: right">50</td>
<td style="text-align: right">10</td>
<td style="text-align: right">500</td>
<td style="text-align: right">13</td>
<td style="text-align: right">650</td>
</tr>
<tr>
<td>総計</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right">860</td>
<td style="text-align: right"></td>
<td style="text-align: right">920</td>
</tr>
</tbody>
</table>

<p>これは2つの内積計算で表せます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\begin{align}
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=30×12+50×10=860 \\
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix} 9 \\ 13\end{matrix}\right)
&amp;=30×9+50×13=920
\end{align}
</pre></div></div>

<p>単価のベクトルが共通していることに注目して、これらを1つの式にくっ付けることを考えます。個数のベクトルを束ねて行列にします。ベクトルと行列との内積はありませんが、左のベクトルを転置すれば自然と計算できます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\begin{align}
\left(\begin{matrix}30 \\ 50\end{matrix}\right)^{\top}
\left(\begin{array}{c|c}12 &amp; 9 \\ 10 &amp; 13\end{array}\right)
&amp;=\left(\begin{matrix}30 &amp; 50\end{matrix}\right)
  \left(\begin{array}{c|c}12 &amp; 9 \\ 10 &amp; 13\end{array}\right) \\
&amp;=\left(\begin{array}{c|c}30×12+50×10 &amp; 30×9+50×13\end{array}\right) \\
&amp;=\left(\begin{array}{c|c}860 &amp; 920\end{array}\right)
\end{align}
</pre></div></div>

<h2>
<span id="numpy-2" class="fragment"></span><a href="#numpy-2"><i class="fa fa-link"></i></a>NumPy</h2>

<p>NumPyのベクトルには縦横の区別がなく、ケースバイケースで適切に処理されます。<code>dot</code>の第1引数にベクトルを与えれば、横ベクトルと見なして積が計算されます。</p>

<p>※ 内積と積とを区別せずに<code>dot</code>に統合されているのは、自動で区別すれば楽だという意図だと思われます。内積を表す<code>inner</code>という関数もありますが、挙動は<code>dot</code>と同じです。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dot</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">]),</span> <span class="n">array</span><span class="p">([[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]]))</span>
<span class="n">array</span><span class="p">([</span><span class="mi">860</span><span class="p">,</span> <span class="mi">920</span><span class="p">])</span>
</pre></div></div>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\left(\begin{matrix}30 &amp; 50\end{matrix}\right)
\left(\begin{matrix}12 &amp; 9 \\ 10 &amp; 13\end{matrix}\right)
=\left(\begin{matrix}860 &amp; 920\end{matrix}\right)
</pre></div></div>

<p>NumPyの計算結果が縦横不明な単なるベクトルなのに注意が必要です。明示的に横ベクトル（1行2列の行列）を与えれば計算結果も横ベクトルとなります。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dot</span><span class="p">(</span><span class="n">array</span><span class="p">([[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]]))</span>
<span class="n">array</span><span class="p">([[</span><span class="mi">860</span><span class="p">,</span> <span class="mi">920</span><span class="p">]])</span>
</pre></div></div>

<h1>
<span id="相見積りで個数の比較" class="fragment"></span><a href="#%E7%9B%B8%E8%A6%8B%E7%A9%8D%E3%82%8A%E3%81%A7%E5%80%8B%E6%95%B0%E3%81%AE%E6%AF%94%E8%BC%83"><i class="fa fa-link"></i></a>相見積りで個数の比較</h1>

<p>相見積りで個数も比較してみましょう。</p>

<table>
<thead>
<tr>
<th>品名</th>
<th style="text-align: right">単価<br>(A社)</th>
<th style="text-align: right">単価<br>(B社)</th>
<th style="text-align: right">個数1</th>
<th style="text-align: right">小計1<br>(A社)</th>
<th style="text-align: right">小計1<br>(B社)</th>
<th style="text-align: right">個数2</th>
<th style="text-align: right">小計2<br>(A社)</th>
<th style="text-align: right">小計2<br>(B社)</th>
</tr>
</thead>
<tbody>
<tr>
<td>鉛筆</td>
<td style="text-align: right">30</td>
<td style="text-align: right">25</td>
<td style="text-align: right">12</td>
<td style="text-align: right">360</td>
<td style="text-align: right">300</td>
<td style="text-align: right">9</td>
<td style="text-align: right">270</td>
<td style="text-align: right">225</td>
</tr>
<tr>
<td>消しゴム</td>
<td style="text-align: right">50</td>
<td style="text-align: right">60</td>
<td style="text-align: right">10</td>
<td style="text-align: right">500</td>
<td style="text-align: right">600</td>
<td style="text-align: right">13</td>
<td style="text-align: right">650</td>
<td style="text-align: right">780</td>
</tr>
<tr>
<td>総計</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: right">860</td>
<td style="text-align: right">900</td>
<td style="text-align: right"></td>
<td style="text-align: right">920</td>
<td style="text-align: right">1,005</td>
</tr>
</tbody>
</table>

<p>これは4つの内積計算で表せます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\begin{align}
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=30×12+50×10=860 \\
\left(\begin{matrix}25 \\ 60\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=25×12+60×10=900 \\
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix} 9 \\ 13\end{matrix}\right)
&amp;=30×9+50×13=920 \\
\left(\begin{matrix}25 \\ 60\end{matrix}\right)\cdot
\left(\begin{matrix} 9 \\ 13\end{matrix}\right)
&amp;=25×9+60×13=1005
\end{align}
</pre></div></div>

<p>単価や個数のベクトルが共通していることに注目して、これらを1つの式にくっ付けることを考えます。ベクトルを束ねて行列にします。行列と行列との内積はありませんが、左の行列を転置すれば自然と計算できます。</p>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\begin{align}
\left(\begin{array}{c|c}30 &amp; 25 \\ 50 &amp; 60\end{array}\right)^{\top}
\left(\begin{array}{c|c}12 &amp;  9 \\ 10 &amp; 13\end{array}\right)
&amp;=\left(\begin{matrix}30 &amp; 50 \\ \hline 25 &amp; 60\end{matrix}\right)
  \left(\begin{array}{c|c}12 &amp;  9 \\ 10 &amp; 13\end{array}\right) \\
&amp;=\left(\begin{array}{c|c}30×12+50×10 &amp; 30×9+50×13\\
                      25×12+60×10 &amp; 25×9+60×13\end{array}\right) \\
&amp;=\left(\begin{array}{c|c}860 &amp; 920 \\ 900 &amp; 1005\end{array}\right)
\end{align}
</pre></div></div>

<h2>
<span id="numpy-3" class="fragment"></span><a href="#numpy-3"><i class="fa fa-link"></i></a>NumPy</h2>

<p>特に新出事項はありません。</p>

<div class="code-frame" data-lang="py3"><div class="highlight"><pre>
<span class="o">&gt;&gt;&gt;</span> <span class="n">dot</span><span class="p">(</span><span class="n">array</span><span class="p">([[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]])</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">array</span><span class="p">([[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">13</span><span class="p">]]))</span>
<span class="n">array</span><span class="p">([[</span> <span class="mi">860</span><span class="p">,</span>  <span class="mi">920</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">1005</span><span class="p">]])</span>
</pre></div></div>

<div class="code-frame" data-lang="math"><div class="highlight"><pre>
\left(\begin{matrix}30 &amp; 25 \\ 50 &amp; 60\end{matrix}\right)^{\top}
\left(\begin{matrix}12 &amp;  9 \\ 10 &amp; 13\end{matrix}\right)
=\left(\begin{matrix}860 &amp; 920 \\ 900 &amp; 1005\end{matrix}\right)
</pre></div></div>

<p>計算書を行列計算に見立てる説明は以上です。</p>

<h1>
<span id="関連記事" class="fragment"></span><a href="#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B"><i class="fa fa-link"></i></a>関連記事</h1>

<p>歴史的には内積や外積は四元数に由来します。四元数を掛け算すれば、内積と外積が同時に得られます。</p>

<ul>
<li>
<a href="http://qiita.com/7shi/items/a80988a32a0d706e9378" id="reference-cb60b59d4628a6d85adc">四元数と行列で見る内積と外積の「内」と「外」</a> 2016.11.02</li>
</ul>

<p>四元数の積を扱いやすい形で一般化したのがクリフォード代数の幾何学積です。外積を中心に追う記事です。</p>

<ul>
<li>
<a href="http://qiita.com/7shi/items/017d2d2c758f76071f23" id="reference-ac7b9dce76599aa52643">外積と愉快な仲間たち</a> 2016.10.26</li>
</ul>

<p>コベクトルや2-形式の考え方は双対ベクトル空間に由来します。</p>

<ul>
<li><a href="https://ja.wikipedia.org/wiki/%E5%8F%8C%E5%AF%BE%E3%83%99%E3%82%AF%E3%83%88%E3%83%AB%E7%A9%BA%E9%96%93" rel="nofollow noopener" target="_blank">双対ベクトル空間 - Wikipedia</a></li>
</ul>

<h1>
<span id="参考" class="fragment"></span><a href="#%E5%8F%82%E8%80%83"><i class="fa fa-link"></i></a>参考</h1>

<p>NumPyについて参考にさせていただきました。</p>

<ul>
<li>
<a href="/keisuke-nakata" class="user-mention js-hovercard" title="keisuke-nakata" data-hovercard-target-type="user" data-hovercard-target-name="keisuke-nakata">@keisuke-nakata</a>: <a href="http://kaisk.hatenadiary.com/entry/2014/09/20/185553" rel="nofollow noopener" target="_blank">numpyの1d-arrayを2d-arrayに変換 - keisukeのブログ</a> 2014.09.20</li>
<li>
<a href="/Yunosuke21" class="user-mention js-hovercard" title="Yunosuke21" data-hovercard-target-type="user" data-hovercard-target-name="Yunosuke21">@Yunosuke21</a>: <a href="http://qiita.com/Yunosuke21/items/025e1b1a56e9988e8cb1" id="reference-d28918ad0a02daeeeb30">numpyで行列の転置と、行列同士の掛け算をしよう。</a> 2016.09.20</li>
</ul>

<p>MathJaxについて参考にさせていただきました。</p>

<ul>
<li><a href="http://easy-copy-mathjax.xxxx7.com/" rel="nofollow noopener" target="_blank">Easy Copy MathJax</a></li>
</ul>
<div class="hidden"><form class="js-task-list-update" action="/7shi/items/03e9eb2c78360a5c1374" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="_method" value="patch" /><input type="hidden" name="authenticity_token" value="7ID2dLUEPuAJd5maAeDX5yUy58goxUCYxLbwGo1DIReCAm0sLioHq/akLIZxFWm+RXXDe78BGm/4aPnhbE0v0Q==" /><input type="hidden" name="updated_at_confirmation_in_unixtime" id="updated_at_confirmation_in_unixtime" value="1488443884" class="js-task-list-updated-at" /><textarea name="raw_body" id="raw_body" class="js-task-list-field">
内積は計算方法としてはそれほど難しいものではありませんが、色々な応用があるためイメージしにくい計算です。幾何学的な意味付けがありますが、そのように解釈しにくい計算にも応用されます。例として、日常的にも触れる機会の多い計算書（見積りなど）を取り上げます。NumPyによる計算を添えます。

# 見積り

文房具を調達するケースを考えます。

※ 消費税は無視します。

品名|単価|個数|小計
----|---:|---:|---:
鉛筆|30|12|360
消しゴム|50|10|500
総計|||860

このような計算書は日常的によく見掛けるものです。計算を式で書き直してみます。

```math
30×12+50×10=360+500=860
```

単価と数量をベクトルで書き直せば、これは内積の計算です。

```math
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
=30×12+50×10=860
```

このように表計算をベクトルで書き直したと捉えることが可能です。このような用途で使われるベクトルや内積を幾何学的に解釈することにはあまり意味がありません。

## NumPy

NumPyでの計算を示します。2種類の書き方ができます。

```py3
&gt;&gt;&gt; from numpy import *
&gt;&gt;&gt; dot(array([30, 50]), array([12, 10]))
860
&gt;&gt;&gt; array([30, 50]).dot(array([12, 10]))
860
```

※ 以後`import`は省略します。

NumPyでは演算子`*`は小計に相当します。

```py3
&gt;&gt;&gt; array([30, 50]) * array([12, 10])
array([360, 500])
```

※ 数学でこのような形の積はあまり見掛けませんが、[アダマール積](https://ja.wikipedia.org/wiki/%E3%82%A2%E3%83%80%E3%83%9E%E3%83%BC%E3%83%AB%E7%A9%8D)という名前が付いています。

小計を足せば総計が得られます。これは内積と同じ計算です。

```py3
&gt;&gt;&gt; sum(array([30, 50]) * array([12, 10]))
860
&gt;&gt;&gt; dot(array([30, 50]), array([12, 10]))
860
```

※ Excelでこのような表計算をした経験があれば、`SUM`は見慣れているでしょう。

## 横ベクトル

$\vec{a}\cdot\vec{b}$ という内積を、$\vec{b}$ に対して左から $\vec{a} \cdot$ が作用するという風に捉えます。$\vec{a}$ を転置すれば積として表現できます。

```math
\vec{a}\cdot\vec{b}
=\left(\begin{matrix}a_1 \\ a_2\end{matrix}\right)\cdot
 \left(\begin{matrix}b_1 \\ b_2\end{matrix}\right)
=\left(\begin{matrix}a_1 \\ a_2\end{matrix}\right)^{\top}
 \left(\begin{matrix}b_1 \\ b_2\end{matrix}\right)
=\left(\begin{matrix}a_1 &amp;  a_2\end{matrix}\right)
 \left(\begin{matrix}b_1 \\ b_2\end{matrix}\right)
```

「横ベクトル掛ける縦ベクトル」はベクトルの内積の別表現だと意識しておくと良いです。

※ 縦ベクトルに左から掛かる横ベクトルは[コベクトル](http://d.hatena.ne.jp/keyword/%A5%B3%A5%D9%A5%AF%A5%C8%A5%EB)や[1-形式](https://ja.wikipedia.org/wiki/1-%E5%BD%A2%E5%BC%8F)と呼んで特別な意味付けがなされます。

# 相見積り

複数の仕入れ先（A社・B社）から相見積りを取るケースを考えます。

品名|単価(A社)|単価(B社)|個数|小計(A社)|小計(B社)
----|---:|---:|---:|---:|---:
鉛筆|30|25|12|360|300
消しゴム|50|60|10|500|600
総計||||860|900

これは2つの内積計算で表せます。

```math
\begin{align}
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=30×12+50×10=860 \\
\left(\begin{matrix}25 \\ 60\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=25×12+60×10=900
\end{align}
```

個数のベクトルが共通していることに注目して、これらを1つの式にくっ付けることを考えます。単価のベクトルを束ねて行列にしますが、行列とベクトルとの内積はないため、横ベクトルで考えたのと同じ要領で転置します。

```math
\begin{align}
\left(\begin{array}{c|c}30 &amp; 25 \\ 50 &amp; 60\end{array}\right)^{\top}
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=\left(\begin{matrix}30 &amp; 50 \\ \hline 25 &amp; 60\end{matrix}\right)
  \left(\begin{matrix}12 \\ 10\end{matrix}\right) \\
&amp;=\left(\begin{array}{c|c}30×12+50×10 \\ 25×12+60×10\end{array}\right) \\
&amp;=\left(\begin{matrix}860 \\ 900\end{matrix}\right)
\end{align}
```

※ 区切り線は補助です。行列は基本的に縦に区切られて、転置したときには区切りも横になることを表します。

左辺と表計算を見比べれば、同じものを表現していることが分かるでしょうか。このように行列とベクトルの積によって複数の内積を計算していると解釈できます。

※ 縦ベクトルに左から掛かる転置した行列は[2-形式](https://ja.wikipedia.org/wiki/2-%E5%BD%A2%E5%BC%8F)と呼ばれることがあります（1-形式との対比）。

## NumPy

行列は配列の配列（2次元配列）として記述します。

```py3
&gt;&gt;&gt; array([[30, 25], [50, 60]])
array([[30, 25],
       [50, 60]])
```
```math
\left(\begin{matrix}30 &amp; 25 \\ 50 &amp; 60\end{matrix}\right)
```

行列の積も`dot`で計算します。転置は`.T`です。

```py3
&gt;&gt;&gt; dot(array([[30, 25], [50, 60]]).T, array([12, 10]))
array([860, 900])
```
```math
\left(\begin{matrix}30 &amp; 25 \\ 50 &amp; 60\end{matrix}\right)^{\top}
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
=\left(\begin{matrix}860 \\ 900\end{matrix}\right)
```

業者ごとに単価を記述すると考えれば、転置なしでダイレクトに記述できます。

```py3
&gt;&gt;&gt; dot(array([[30, 50], [25, 60]]), array([12, 10]))
array([860, 900])
```
```math
\left(\begin{matrix}30 &amp; 50 \\ 25 &amp; 60\end{matrix}\right)
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
=\left(\begin{matrix}860 \\ 900\end{matrix}\right)
```

どちらが良いかはケースバイケースですが、表計算ベースで考えるなら転置を使った方が分かりやすいでしょう。

# 個数の比較

個数を変えて比較するケースを考えます。

品名|単価|個数1|小計1|個数2|小計2
----|---:|---:|---:|---:|---:
鉛筆|30|12|360|9|270
消しゴム|50|10|500|13|650
総計|||860||920

これは2つの内積計算で表せます。

```math
\begin{align}
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=30×12+50×10=860 \\
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix} 9 \\ 13\end{matrix}\right)
&amp;=30×9+50×13=920
\end{align}
```

単価のベクトルが共通していることに注目して、これらを1つの式にくっ付けることを考えます。個数のベクトルを束ねて行列にします。ベクトルと行列との内積はありませんが、左のベクトルを転置すれば自然と計算できます。

```math
\begin{align}
\left(\begin{matrix}30 \\ 50\end{matrix}\right)^{\top}
\left(\begin{array}{c|c}12 &amp; 9 \\ 10 &amp; 13\end{array}\right)
&amp;=\left(\begin{matrix}30 &amp; 50\end{matrix}\right)
  \left(\begin{array}{c|c}12 &amp; 9 \\ 10 &amp; 13\end{array}\right) \\
&amp;=\left(\begin{array}{c|c}30×12+50×10 &amp; 30×9+50×13\end{array}\right) \\
&amp;=\left(\begin{array}{c|c}860 &amp; 920\end{array}\right)
\end{align}
```

## NumPy

NumPyのベクトルには縦横の区別がなく、ケースバイケースで適切に処理されます。`dot`の第1引数にベクトルを与えれば、横ベクトルと見なして積が計算されます。

※ 内積と積とを区別せずに`dot`に統合されているのは、自動で区別すれば楽だという意図だと思われます。内積を表す`inner`という関数もありますが、挙動は`dot`と同じです。

```py3
&gt;&gt;&gt; dot(array([30, 50]), array([[12, 9], [10, 13]]))
array([860, 920])
```
```math
\left(\begin{matrix}30 &amp; 50\end{matrix}\right)
\left(\begin{matrix}12 &amp; 9 \\ 10 &amp; 13\end{matrix}\right)
=\left(\begin{matrix}860 &amp; 920\end{matrix}\right)
```

NumPyの計算結果が縦横不明な単なるベクトルなのに注意が必要です。明示的に横ベクトル（1行2列の行列）を与えれば計算結果も横ベクトルとなります。

```py3
&gt;&gt;&gt; dot(array([[30, 50]]), array([[12, 9], [10, 13]]))
array([[860, 920]])
```

# 相見積りで個数の比較

相見積りで個数も比較してみましょう。

品名|単価&lt;br&gt;(A社)|単価&lt;br&gt;(B社)|個数1|小計1&lt;br&gt;(A社)|小計1&lt;br&gt;(B社)|個数2|小計2&lt;br&gt;(A社)|小計2&lt;br&gt;(B社)
----|---:|---:|---:|---:|---:|---:|---:|---:
鉛筆|30|25|12|360|300|9|270|225
消しゴム|50|60|10|500|600|13|650|780
総計||||860|900||920|1,005

これは4つの内積計算で表せます。

```math
\begin{align}
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=30×12+50×10=860 \\
\left(\begin{matrix}25 \\ 60\end{matrix}\right)\cdot
\left(\begin{matrix}12 \\ 10\end{matrix}\right)
&amp;=25×12+60×10=900 \\
\left(\begin{matrix}30 \\ 50\end{matrix}\right)\cdot
\left(\begin{matrix} 9 \\ 13\end{matrix}\right)
&amp;=30×9+50×13=920 \\
\left(\begin{matrix}25 \\ 60\end{matrix}\right)\cdot
\left(\begin{matrix} 9 \\ 13\end{matrix}\right)
&amp;=25×9+60×13=1005
\end{align}
```

単価や個数のベクトルが共通していることに注目して、これらを1つの式にくっ付けることを考えます。ベクトルを束ねて行列にします。行列と行列との内積はありませんが、左の行列を転置すれば自然と計算できます。

```math
\begin{align}
\left(\begin{array}{c|c}30 &amp; 25 \\ 50 &amp; 60\end{array}\right)^{\top}
\left(\begin{array}{c|c}12 &amp;  9 \\ 10 &amp; 13\end{array}\right)
&amp;=\left(\begin{matrix}30 &amp; 50 \\ \hline 25 &amp; 60\end{matrix}\right)
  \left(\begin{array}{c|c}12 &amp;  9 \\ 10 &amp; 13\end{array}\right) \\
&amp;=\left(\begin{array}{c|c}30×12+50×10 &amp; 30×9+50×13\\
                      25×12+60×10 &amp; 25×9+60×13\end{array}\right) \\
&amp;=\left(\begin{array}{c|c}860 &amp; 920 \\ 900 &amp; 1005\end{array}\right)
\end{align}
```

## NumPy

特に新出事項はありません。

```py3
&gt;&gt;&gt; dot(array([[30, 25], [50, 60]]).T, array([[12, 9], [10, 13]]))
array([[ 860,  920],
       [ 900, 1005]])
```
```math
\left(\begin{matrix}30 &amp; 25 \\ 50 &amp; 60\end{matrix}\right)^{\top}
\left(\begin{matrix}12 &amp;  9 \\ 10 &amp; 13\end{matrix}\right)
=\left(\begin{matrix}860 &amp; 920 \\ 900 &amp; 1005\end{matrix}\right)
```

計算書を行列計算に見立てる説明は以上です。

# 関連記事

歴史的には内積や外積は四元数に由来します。四元数を掛け算すれば、内積と外積が同時に得られます。

* [四元数と行列で見る内積と外積の「内」と「外」](http://qiita.com/7shi/items/a80988a32a0d706e9378) 2016.11.02

四元数の積を扱いやすい形で一般化したのがクリフォード代数の幾何学積です。外積を中心に追う記事です。

* [外積と愉快な仲間たち](http://qiita.com/7shi/items/017d2d2c758f76071f23) 2016.10.26

コベクトルや2-形式の考え方は双対ベクトル空間に由来します。

* [双対ベクトル空間 - Wikipedia](https://ja.wikipedia.org/wiki/%E5%8F%8C%E5%AF%BE%E3%83%99%E3%82%AF%E3%83%88%E3%83%AB%E7%A9%BA%E9%96%93)

# 参考

NumPyについて参考にさせていただきました。

* @keisuke-nakata: [numpyの1d-arrayを2d-arrayに変換 - keisukeのブログ](http://kaisk.hatenadiary.com/entry/2014/09/20/185553) 2014.09.20
* @Yunosuke21: [numpyで行列の転置と、行列同士の掛け算をしよう。](http://qiita.com/Yunosuke21/items/025e1b1a56e9988e8cb1) 2016.09.20

MathJaxについて参考にさせていただきました。

* [Easy Copy MathJax](http://easy-copy-mathjax.xxxx7.com/)
</textarea><input type="submit" name="commit" value="Save changes" data-disable-with="Save changes" /></form></div></section></div><div class="col-sm-3"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="見積りで考える内積 by @7shi on @Qiita" data-url="http://qiita.com/7shi/items/03e9eb2c78360a5c1374" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="見積りで考える内積" href="http://b.hatena.ne.jp/entry/http://qiita.com/7shi/items/03e9eb2c78360a5c1374" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/7shi/items/03e9eb2c78360a5c1374" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/7shi/items/03e9eb2c78360a5c1374" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div><section class="itemsShowAuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><a href="/7shi"><img alt="" class="itemsShowAuthorInfo_userIcon" itemprop="image" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" /></a><div class="itemsShowAuthorInfo_profileStats"><strong class="itemsShowAuthorInfo_userName" itemprop="name"><a itemprop="url" href="/7shi">7shi</a></strong><div class="itemsShowAuthorInfo_contribution"><span class="itemsShowAuthorInfo_count">2522</span><span class="itemsShowAuthorInfo_unit">Contribution</span></div><div data-react-class="T.UserFollowButton" data-react-props="{&quot;url_name&quot;:&quot;7shi&quot;,&quot;initial_followed_by&quot;:false,&quot;size&quot;:&quot;btn-xs&quot;,&quot;position&quot;:&quot;author-info&quot;}"></div></div><section class="itemsShowAuthorPopularItems"><h5 class="itemsShowAuthorPopularItems_sectionTitle">Popular Posts</h5><ul class="itemsShowAuthorPopularItems_posts list-unstyled"><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/145f1234f8ec2af923ef">Haskell 超入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/547b6137d7a3c482fe68">モナド則がちょっと分かった？</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/cac7b3e9b90bf91b00cc">文字列で学ぶC++入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/85afd7bbd5d6c4115ad6">Haskell アクション 超入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/d1e5a0c22be6cf61d286">Haskell IDE Leksah 入門</a></li></ul></section></section><div class="scroll-chaser"><div class="google-adsense"><style>.test-text-responsible { width: 200px; height: 200px; }@media(min-width: 1200px) {  .test-text-responsible { width: 250px; height: 250px; }}@media(max-width: 979px) and (min-width: 768px) {  .test-text-responsible { width: 120px; height: 240px; }}@media(max-width: 767px) {  .test-text-responsible { width: 320px; height: 50px; }}</style><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle test-text-responsible" data-ad-client="ca-pub-8127218772604357" data-ad-slot="3880091879" style="display:inline-block"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><div data-react-class="T.Toc" data-react-props="{&quot;body&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%A6%8B%E7%A9%8D%E3%82%8A\&quot;\u003e見積り\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#numpy\&quot;\u003eNumPy\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%A8%AA%E3%83%99%E3%82%AF%E3%83%88%E3%83%AB\&quot;\u003e横ベクトル\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%9B%B8%E8%A6%8B%E7%A9%8D%E3%82%8A\&quot;\u003e相見積り\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#numpy-1\&quot;\u003eNumPy\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%80%8B%E6%95%B0%E3%81%AE%E6%AF%94%E8%BC%83\&quot;\u003e個数の比較\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#numpy-2\&quot;\u003eNumPy\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%9B%B8%E8%A6%8B%E7%A9%8D%E3%82%8A%E3%81%A7%E5%80%8B%E6%95%B0%E3%81%AE%E6%AF%94%E8%BC%83\&quot;\u003e相見積りで個数の比較\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#numpy-3\&quot;\u003eNumPy\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B\&quot;\u003e関連記事\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%8F%82%E8%80%83\&quot;\u003e参考\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n&quot;,&quot;wrapper&quot;:&quot;#article-body-wrapper&quot;}"></div></div></div><div class="row"><div class="col-sm-9"><div class="ArticleFooter__menu"><div class="s-flex-align-center"><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:3,&quot;show_count&quot;:true,&quot;uuid&quot;:&quot;03e9eb2c78360a5c1374&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-footer&quot;}"></div><div class="ArticleFooter__userList"><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="kkomai"><a itemprop="url" href="/kkomai"><img alt="kkomai" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/9033/profile-images/1480998306" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="ksoda"><a itemprop="url" href="/ksoda"><img alt="ksoda" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/42409/profile-images/1473689147" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="hadashiA"><a itemprop="url" href="/hadashiA"><img alt="hadashiA" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/5859/profile-images/1473682324" /></a></div></div></div></div><div class="u-flex u-align-center"><div class="ArticleFooter__stock"><div class="js-stockbutton" data-position="footer_menu" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="ArticleFooter__editRequest"><a class="u-link-no-underline" data-toggle="tooltip" title="You can propose improvements about the article to the author 💪" href="/drafts/03e9eb2c78360a5c1374/edit"><span class="fa fa-send-o fa-lg"></span> <span>Edit request</span></a></div><div class="dropdown ArticleFooter__dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h"></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a href="/7shi/items/03e9eb2c78360a5c1374.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><i class="fa fa-fw fa-flag"></i> Report article</a></li></ul></div></div></div><ul class="references js-referencesView"><li class="references_header"><i class="fa fa-fw fa-link"></i> Linked from these articles</li><li class="references_reference js-reference"><span>Linked from </span><a href="/7shi/items/a80988a32a0d706e9378#_reference-85e969f161119c946be1"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />四元数と行列で見る内積と外積の「内」と「外」</a><time class="references_datetime js-dateTimeView" datetime="2017-03-02T08:04:29+00:00">about 1 hour ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/7shi/items/017d2d2c758f76071f23#_reference-db005088ef96e155be4c"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />外積と愉快な仲間たち</a><time class="references_datetime js-dateTimeView" datetime="2017-03-02T08:05:19+00:00">about 1 hour ago</time></li></ul><div class="itemsShowBody_articleColumnFooter"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="見積りで考える内積 by @7shi on @Qiita" data-url="http://qiita.com/7shi/items/03e9eb2c78360a5c1374" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="見積りで考える内積" href="http://b.hatena.ne.jp/entry/http://qiita.com/7shi/items/03e9eb2c78360a5c1374" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/7shi/items/03e9eb2c78360a5c1374" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/7shi/items/03e9eb2c78360a5c1374" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div></div><div class="itemsShowComment_wrapper" id="comments"><div data-react-class="T.CommentListContainer" data-react-props="{&quot;currentUser&quot;:null,&quot;initialComments&quot;:[],&quot;monthly_public_image_uploadable_size_limit&quot;:null,&quot;total_uploaded_public_image_size_in_current_month&quot;:null,&quot;item&quot;:{&quot;id&quot;:473124,&quot;uuid&quot;:&quot;03e9eb2c78360a5c1374&quot;,&quot;suspended&quot;:false,&quot;secret&quot;:false},&quot;owner&quot;:{&quot;url_name&quot;:&quot;7shi&quot;},&quot;is_team&quot;:false,&quot;is_project&quot;:false,&quot;logged_in&quot;:false,&quot;polling&quot;:false,&quot;mention_candidates&quot;:[{&quot;id&quot;:32057,&quot;url_name&quot;:&quot;7shi&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823&quot;}]}">Comments Loading...</div></div></div></div></div></article><div class="js-report-form modal fade reportForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Report article</h4></div><div class="modal-body"><form action="/reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="zMQGDAvuFHsH2q0g4sPjHF+8oqUOLn3UmZuR+Tp88l+iRp1UkMAtMPgJGDySNl1FP/uGFpnqJyOlRZgC23L8mQ==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/7shi/items/03e9eb2c78360a5c1374" /><input type="hidden" name="item_uuid" id="item_uuid" value="03e9eb2c78360a5c1374" /><p>Help us understand the problem. What is going on with this item?</p><br /><div class="form-group"><ul class="list-unstyled"><li><label><input type="radio" name="report_type" id="report_type_spam" value="spam" required="required" /> It&#39;s spam </label></li><li><label><input type="radio" name="report_type" id="report_type_harassment" value="harassment" required="required" /> It&#39;s abusive or harmful </label></li><li><label><input type="radio" name="report_type" id="report_type_inappropriate_content" value="inappropriate_content" required="required" /> It contains inappropriate content </label></li></ul></div><div class="reportForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary reportForm_submitButton"><i class="fa fa-send"></i> Submit</button></div></form></div></div></div></div><script id="js-item" type="application/json">{ "url": "http://qiita.com/7shi/items/03e9eb2c78360a5c1374", "id": 473124, "uuid": "03e9eb2c78360a5c1374" }</script><script class="js-user" type="application/json">{&quot;id&quot;:32057,&quot;url_name&quot;:&quot;7shi&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823&quot;}</script><script language="JavaScript" src="//cdn.bigmining.com/private/js/qiita_bigmining.js" type="text/javascript"></script></div><footer class="footer"><div class="footer_inner"><div class="footer_container"><ul class="footer_links-left"><li class="footer_link"><a class="footer_copyright" href="http://increments.co.jp">© 2011-2017 Increments Inc.</a></li><li class="footer_link"><a href="http://qiita.com/terms">Terms</a></li><li class="footer_link"><a href="http://qiita.com/privacy">Privacy</a></li><li class="footer_link"><a href="http://help.qiita.com">Help</a></li><li class="footer_link"><a href="https://increments.zendesk.com/anonymous_requests/new">Contact</a></li></ul><ul class="footer_links-right"><li class="footer_link"><a href="http://qiita.com/about">About</a></li><li class="footer_link"><a href="/users">Users</a></li><li class="footer_link"><a href="/tags">Tags</a></li><li class="footer_link"><a href="http://blog.qiita.com">Blog</a></li><li class="footer_link"><a href="http://qiita.com/api/v2/docs">API</a></li><li class="footer_link"><a href="https://teams.qiita.com/">Team</a></li><li class="footer_link"><a href="http://kobito.qiita.com">Kobito</a></li><li class="footer_link"><a class="js-public-form-feedback-link" data-target=".js-feedback-form" data-toggle="modal" href=""><i class="fa fa-heart"></i> Feedback <i class="fa fa-caret-down"></i></a></li></ul></div></div></footer><div class="js-feedback-form modal fade feedbackForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Feedback</h4></div><div class="modal-body"><form class="js-feedback-form-form" action="/feedbacks" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="tPdCc75Dyi4DhmzRf6O0Qx+YllEhBJFg/i2jdKMJAmXaddkrJW3zZfxV2c0PVgoaf9+y4rbAy5fC86qPQgcMow==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/7shi/items/03e9eb2c78360a5c1374" /><div class="form-group"><textarea name="feedback[message]" id="feedback_message" class="form-control js-feedback-form-text-area" placeholder="Please give us any feedback about Qiita." required="required" rows="5">
</textarea></div><div class="feedbackForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary feedbackForm_submitButton"><i class="fa fa-send"></i> Submit</button><p class="feedbackForm_note">We don&#39;t reply to any feedback.<br />If you need help with Qiita, please send a support request from <a href="https://increments.zendesk.com/anonymous_requests/new">here</a>.</p></div><div style="position:fixed;top:-99999px;opacity:0.0001;"><input name="feedback[name]" type="text" /></div></form></div></div></div></div><script>// if (window.mixpanel instanceof Element) {
//   window.mixpanel = [];
// }
// (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
// for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);</script><script src="http://cdn.qiita.com/assets/public-8c6201a66dc6db6f64a9017391c319bf.min.js"></script><script>
  (function () {
    var script = document.getElementsByTagName('script')[0];
    var load = function (src, id) {
      var el = document.createElement('script');
      el.async = true;
      el.src = src;
      el.id = id;
      script.parentNode.insertBefore(el, script);
    };
      // Optimizely
      load('//cdn.optimizely.com/js/52738645.js', 'optimizely-jssdk');
      // Google Analytics
      window._gaq = window._gaq || [];
      var isCareer = location.hostname.split('.')[0] == 'career';
      if (isCareer) {
        window._gaq.push(['_setAccount', 'UA-24675221-11']);
        window._gaq.push(['_setDomainName', 'qiita.com']);
      } else {
        window._gaq.push(['_setAccount', 'UA-24675221-1']);
      }
      window._gaq.push(['_setCustomVar', 1, 'logged_in', 'false', 2]);
      window._gaq.push(['_trackPageview']);
      var src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      load(src, 'google-analytics-jssdk');
    // Google Analytics - Universal Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-24675221-12', {
          
        });
        ga('set', 'dimension1', 'false');
        ga('set', 'dimension3', 'false');
      ga('require', 'displayfeatures');
      ga('set', 'forceSSL', true);
      ga('send', 'pageview');
    // Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TBQWPN');
  })();
</script>
</body></html>