<!DOCTYPE html><html xmlns:og="http://ogp.me/ns#"><head><meta charset="UTF-8" /><title>Haskell 超入門 - Qiita</title><meta content="width=device-width,initial-scale=1" name="viewport" /><meta content="Haskellで簡単なプログラムを書くのに最低限必要な基礎文法を取り上げます。練習では再帰に慣れることに重点を置きます。再帰によるリスト処理の例として各種ソート（挿入ソート、バブルソート、マージソート、クイックソート）を紹介します。ラムダやモナドなどの発展的な内容には触れませんのでご了承ください。

シリーズの記事です。


Haskell 超入門 ← この記事
Haskell 代数的データ型 超入門
Haskell アクション 超入門
Haskell ラムダ 超入門
..." name="description" /><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta content="7shi" name="twitter:creator" /><meta content="Haskell 超入門 - Qiita" property="og:title" /><meta content="article" property="og:type" /><meta content="http://qiita.com/7shi/items/145f1234f8ec2af923ef" property="og:url" /><meta content="http://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png" property="og:image" /><meta content="Haskellで簡単なプログラムを書くのに最低限必要な基礎文法を取り上げます。練習では再帰に慣れることに重点を置きます。再帰によるリスト処理の例として各種ソート（挿入ソート、バブルソート、マージソート、クイックソート）を紹介します。ラ..." property="og:description" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><link rel="shortcut icon" type="image/x-icon" href="http://cdn.qiita.com/assets/favicons/public/production-4ff10c1e1e2b5fcb353ff9cafdd56c70.ico" /><link rel="apple-touch-icon" type="image/png" href="http://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link rel="stylesheet" media="all" href="http://cdn.qiita.com/assets/public-e8d29e8ff1879118096f0f5877946857.min.css" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="DzetDW4Z1iSd1zvyGWNlSO6Xmdl1HCU9AFlrKSvpYat7gDix5tQU90qsoITzI/wxnlYGZJC1sSAXXqVqF6rrDg==" /></head><body class="without-js" id=""><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TBQWPN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>
  document.body.className = document.body.className.replace('without-js', '') + ' with-js';
  window.Qiita = {"asset_host":"cdn.qiita.com","TLD":"com","controller_path":"public/items","controller_action":"public/items#show","controller":"items","action":"show","env":"production","flash":{},"is_landing_page":false,"is_team_page":false,"root_domain":"qiita.com","variant":null,"config":{"mixpanel":{"career":"dd35af27e959781713d63fd7ca898a8d","per_team":"c0a2116368b33b44b5029ebd2cc9b094","public":"be87616606b0e26a87689099aab2c4e5","team":"b7c0342acba2dbc8742484d98788efb3"},"default_locale":"ja","locale":"en"},"team":null,"user":null,"GIT_BRANCH":null,"DEBUG":false};

</script>
<div class="headerContainer headerContainer-public" role="navigation"><div data-react-class="T.HeaderContainer" data-react-props="{&quot;user&quot;:null,&quot;team&quot;:null,&quot;news&quot;:{&quot;type&quot;:&quot;募集&quot;,&quot;content&quot;:&quot;QiitaやQiita:Teamを良くしたいエンジニア&quot;,&quot;url&quot;:&quot;http://increments.co.jp/jobs/engineers?utm_source=qiita\u0026utm_medium=header_news&quot;},&quot;initial_unread_count&quot;:null,&quot;siteid_image&quot;:&quot;http://cdn.qiita.com/siteid-reverse.png&quot;,&quot;is_team_page&quot;:false,&quot;on_team_setting&quot;:false,&quot;show_post_menu&quot;:true,&quot;show_search_menu&quot;:true,&quot;is_fluid&quot;:false,&quot;locale&quot;:&quot;en&quot;}"></div></div><div id="main"><ol class="itemBreadcrumbs" itemscope="" itemtype="http://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/"><span itemprop="name">Qiita</span></a><meta content="1" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/items"><span itemprop="name">Items</span></a><meta content="2" itemprop="position" /></li><li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem"><a itemprop="item" href="/tags/Haskell"><span itemprop="name">Haskell</span></a><meta content="3" itemprop="position" /></li></ol><article itemscope="" itemtype="http://schema.org/Article"><div class="ArticleMainHeader "><div class="container"></div><div class="container"><div class="row s-flex-align-center"><div class="col-sm-9"><h1 class="ArticleMainHeader__title">Haskell 超入門</h1><ul class="TagList"><li class="TagList__item" data-count="1344"><a class="u-link-unstyled TagList__label" href="/tags/Haskell"><img alt="Haskell" class="TagList__icon" src="https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/373b3b0595a92712b2a45616f53dae97bc1a04e5/medium.jpg?1387913155" /><span>Haskell</span></a></li></ul></div><div class="col-sm-3"><div class="itemsShowHeaderStock"><ul class="list-unstyled itemsShowHeaderStock_statusList"><li><div class="itemsShowHeaderStock_count stock"><span class="fa fa-thumbs-up"></span><span class="js-likecount">822</span></div><div class="itemsShowHeaderStock_countText">Like</div></li><li><div class="itemsShowHeaderStock_count" content="2 UserComments" itemprop="interactionCount"><span class="fa fa-comment"></span>2</div><div class="itemsShowHeaderStock_countText">Comment</div></li></ul></div><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:822,&quot;uuid&quot;:&quot;145f1234f8ec2af923ef&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-header&quot;}"></div><ul class="list-inline ArticleMainHeader__users"><li class="js-hovercard" data-hovercard-target-name="Reds"><a itemprop="url" href="/Reds"><img alt="Reds" class="thumb thumb--xs" src="https://0.gravatar.com/avatar/e751888e30cdc35253c1a3b241977adf?d=https%3A%2F%2Fidenticons.github.com%2F0e2f15414d97b8b642022be91ff105e0.png" /></a></li><li class="js-hovercard" data-hovercard-target-name="goldarn_ring"><a itemprop="url" href="/goldarn_ring"><img alt="goldarn_ring" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/24828/profile-images/1473684200" /></a></li><li class="js-hovercard" data-hovercard-target-name="quenhulu"><a itemprop="url" href="/quenhulu"><img alt="quenhulu" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/14708/profile-images/1473683459" /></a></li><li class="js-hovercard" data-hovercard-target-name="kou_tana77"><a itemprop="url" href="/kou_tana77"><img alt="kou_tana77" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/45958/profile-images/1473690481" /></a></li><li class="js-hovercard" data-hovercard-target-name="shinya_131"><a itemprop="url" href="/shinya_131"><img alt="shinya_131" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/9531/profile-images/1473681443" /></a></li><li class="js-hovercard" data-hovercard-target-name="SioIkzk"><a itemprop="url" href="/SioIkzk"><img alt="SioIkzk" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/33292/profile-images/1473686091" /></a></li><li class="js-hovercard" data-hovercard-target-name="wx257osn2"><a itemprop="url" href="/wx257osn2"><img alt="wx257osn2" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/963/profile-images/1473682384" /></a></li><li class="js-hovercard" data-hovercard-target-name="ywatai@github"><a itemprop="url" href="/ywatai@github"><img alt="ywatai@github" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/5240/profile-images/1473681848" /></a></li><li class="js-hovercard" data-hovercard-target-name="koji_yusa"><a itemprop="url" href="/koji_yusa"><img alt="koji_yusa" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/31371/profile-images/1473685680" /></a></li><li class="js-hovercard" data-hovercard-target-name="rentalname@github"><a itemprop="url" href="/rentalname@github"><img alt="rentalname@github" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/13697/profile-images/1473682969" /></a></li><li><a href="/7shi/items/145f1234f8ec2af923ef/likers"><span class="fa fa-ellipsis-h"></span></a></li></ul></div></div></div></div><div class="ArticleAsideHeader"><div class="container"><div class="u-flex u-space-between"><div class="u-flex u-flex-wrap"><div class="u-flex u-align-center s-pdv-5 u-flex-wrap"><div class="ArticleAsideHeader__author"><a href="/7shi"><img class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" alt="1473685823" /></a> <a class="u-link-unstyled" href="/7shi">7shi</a> </div><div class="ArticleAsideHeader__date"><span data-toggle="tooltip" title="posted at 2014-08-20">Edited at <time datetime="2017-01-11T18:52:55+09:00" itemprop="dateModified">2017-01-11</time></span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"><div class="ArticleAsideHeader__revision"> <a data-toggle="tooltip" title="Revisions" href="/7shi/items/145f1234f8ec2af923ef/revisions"><span class="fa fa-history"></span></a><span class="ArticleAsideHeader__revisionCount">141</span></div></div><div class="u-flex u-align-center s-pdv-5 mobile-hidden"></div></div><div class="u-flex u-align-center s-flex-justiry-between s-pdv-5 u-shrink-0"><div class="ArticleAsideHeader__stock"><div class="js-stockbutton" data-position="top" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h fa-lg"></span></a><ul class="dropdown-menu dropdown-menu-right"><li class="dropdown__item--mobile"><a href="/7shi/items/145f1234f8ec2af923ef/revisions"><span class="fa fa-fw fa-history"></span> Revisions<span>(141)</span></a></li><li><a href="/7shi/items/145f1234f8ec2af923ef.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><span class="fa fa-fw fa-flag"></span> Report article</a></li></ul></div></div></div></div></div><div class="container"><div class="row" id="article-body-wrapper"><div class="col-sm-9"><section class="markdownContent markdownContent-headingEnabled js-task-list-container clearfix position-relative" id="item-145f1234f8ec2af923ef" itemprop="articleBody"><p>Haskellで簡単なプログラムを書くのに最低限必要な基礎文法を取り上げます。練習では再帰に慣れることに重点を置きます。再帰によるリスト処理の例として各種ソート（挿入ソート、バブルソート、マージソート、クイックソート）を紹介します。ラムダやモナドなどの発展的な内容には触れませんのでご了承ください。</p>

<p>シリーズの記事です。</p>

<ol>
<li>Haskell 超入門 ← この記事</li>
<li><a href="http://qiita.com/7shi/items/1ce76bde464b4a55c143" id="reference-45ad6e19d0d5228aaa5c">Haskell 代数的データ型 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/85afd7bbd5d6c4115ad6" id="reference-01c873c43fb77258b12c">Haskell アクション 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/1345bf32003faff435cb" id="reference-21342ce751ca1e71562e">Haskell ラムダ 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/4a8a2807bb5186576c61" id="reference-cf72ecf2ac9ce9494dfa">Haskell アクションとラムダ 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/d3d3492ddd90d47160f2" id="reference-aa969ed6c894b83627e2">Haskell IOモナド 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/deb19c4cba933590ffbf" id="reference-510ec33467e02559e303">Haskell リストモナド 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/c7d7eec066af0fe0688d" id="reference-f880562aa0e4e10628f3">Haskell Maybeモナド 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/2e9bff5d88302de1a9e9" id="reference-0310d53582c8593feaef">Haskell 状態系モナド 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/4408b76624067c17e933" id="reference-04458fe5e0a7e731b113">Haskell モナド変換子 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/73e534c47bbebc71b37e" id="reference-9b01592c816042fd3fba">Haskell 例外処理 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/b8c741e78a96ea2c10fe" id="reference-8eedff44cd2808559cf6">Haskell 構文解析 超入門</a></li>
<li>【予定】Haskell 継続モナド 超入門</li>
<li>【予定】Haskell 型クラス 超入門</li>
<li>【予定】Haskell モナドとゆかいな仲間たち</li>
<li>【予定】Haskell Freeモナド 超入門</li>
<li>【予定】Haskell Operationalモナド 超入門</li>
<li>【予定】Haskell Effモナド 超入門</li>
<li>【予定】Haskell アロー 超入門</li>
</ol>

<p>練習の解答例は別記事に掲載します。</p>

<ul>
<li><a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed" id="reference-761c9b41a1c50066148c">【解答例】Haskell 超入門</a></li>
</ul>

<p>コードを試す環境としてLeksahをご紹介します。</p>

<ul>
<li><a href="http://qiita.com/7shi/items/d1e5a0c22be6cf61d286" id="reference-db078218cf5dc7bf2bb2">Haskell IDE Leksah 入門</a></li>
</ul>

<p>応用編です。実際にプログラムを作ります。</p>

<ul>
<li><a href="http://qiita.com/7shi/items/026839b2bc193dbfb0cb" id="reference-3fb59e8d7265fc0c54cf">Haskellによる8086逆アセンブラ開発入門</a></li>
<li><a href="http://qiita.com/7shi/items/096396f0007857676515" id="reference-57115721e0775a4d7917">Haskellによる代数計算入門</a></li>
</ul>

<p>番外編です。練習問題はありません。</p>

<ul>
<li><a href="http://qiita.com/7shi/items/9fb326a87de6c3083784" id="reference-7a2ae0c542cc93189f63">HUnit 超入門</a></li>
<li><a href="http://qiita.com/7shi/items/f2c1365b792aa6046a49" id="reference-fabf1751849010dfd2a8">関数合成を機械的に扱う試み</a></li>
<li><a href="http://qiita.com/7shi/items/547b6137d7a3c482fe68" id="reference-e84940ff8c094f7c2e1d">モナド則がちょっと分かった？</a></li>
<li><a href="http://qiita.com/7shi/items/8bed38f45272f194631a" id="reference-29f9dfced214c66d4436">Stateモナドによるポーランド記法の処理</a></li>
<li><a href="http://qiita.com/7shi/items/0494704d00396687458f" id="reference-589412f7752f54ef1a00">Stateモナドによる逆ポーランド記法の処理</a></li>
<li><a href="http://qiita.com/7shi/items/ee5afe4f088f0a1fc8c2" id="reference-ab5b20947f42d0c6a041">Stateモナドによる中置記法の処理</a></li>
</ul>

<p>このシリーズのネタ元にしたりするメモです。</p>

<ul>
<li><a href="http://qiita.com/7shi/items/b6cbb7df2dd969c84f49" id="reference-04ef806f7ec106be7468">Haskellの実験メモ一覧</a></li>
</ul>

<p>この記事にはF#版があります。</p>

<ul>
<li><a href="http://qiita.com/7shi/items/1d3750ba17f5a88b8405" id="reference-d1f9ca38728162064c74">Haskellで学ぶF#入門</a></li>
</ul>

<h1>
<span id="ハローワールド" class="fragment"></span><a href="#%E3%83%8F%E3%83%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89"><i class="fa fa-link"></i></a>ハローワールド</h1>

<div class="code-frame" data-lang="hs">
<div class="code-lang"><span class="bold">Main.hs</span></div>
<div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="s">"Hello, World!"</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"Hello, World!"
</pre></div>
</div>

<ul>
<li>関数名 = 処理内容</li>
<li>
<code>main</code>には<code>do</code>を書きます。</li>
</ul>

<h2>
<span id="do" class="fragment"></span><a href="#do"><i class="fa fa-link"></i></a>do</h2>

<p>上の例は<code>do</code>を付けなくても実行できます。<code>--</code>はコメントです。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span>
    <span class="n">print</span> <span class="s">"Hello, World!"</span> <span class="c1">-- OK</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"Hello, World!"
</pre></div>
</div>

<p><code>do</code>がない場合、連続して出力できません。</p>

<div class="code-frame" data-lang="hs">
<div class="code-lang"><span class="bold">NG</span></div>
<div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span>
    <span class="n">print</span> <span class="s">"Hello,"</span>
    <span class="n">print</span> <span class="s">"World!"</span> <span class="c1">-- エラー</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">エラー内容</span></div>
<div class="highlight"><pre>
src/Main.hs:4:5:
    Couldn't match expected type `(a0 -&gt; IO ()) -&gt; [Char] -&gt; t0'
                with actual type `IO ()'
    The function `print' is applied to three arguments,
    but its type `[Char] -&gt; IO ()' has only one
    In the expression: print "Hello," print "World!"
    In an equation for `main': main = print "Hello," print "World!"
</pre></div>
</div>

<p>連続して出力するには<code>do</code>が必要です。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="s">"Hello,"</span>
    <span class="n">print</span> <span class="s">"World!"</span> <span class="c1">-- OK</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"Hello,"
"World!"
</pre></div>
</div>

<p><code>do</code>を理解するにはアクションの知識が必要です。詳細は続編の<a href="http://qiita.com/7shi/items/85afd7bbd5d6c4115ad6">Haskell アクション 超入門</a>で説明するため、現段階では簡単な説明で先送りとします。</p>

<ul>
<li>
<code>main</code>では何度も文字が出力できるように<code>do</code>を付けた方が無難。</li>
</ul>

<h1>
<span id="束縛" class="fragment"></span><a href="#%E6%9D%9F%E7%B8%9B"><i class="fa fa-link"></i></a>束縛</h1>

<p>Haskellの変数は後で別の値を再代入することができません。そのため代入ではなく<strong>束縛</strong>という用語を使います。</p>

<p>※ 値が変更できないので変数は存在しないという見解もありますが、ここでは変数は必ずしも値が変更できることを意味しないという立場を取ります。（<a href="https://twitter.com/igrep/status/753946652352708609" rel="nofollow noopener" target="_blank">参考1</a>、<a href="https://twitter.com/fumieval/status/754142523094773760" rel="nofollow noopener" target="_blank">参考2</a>）</p>

<h1>
<span id="トップレベル変数" class="fragment"></span><a href="#%E3%83%88%E3%83%83%E3%83%97%E3%83%AC%E3%83%99%E3%83%AB%E5%A4%89%E6%95%B0"><i class="fa fa-link"></i></a>トップレベル変数</h1>

<p>他の言語でのグローバル変数に相当します。キーワードなどはなく、簡単な書き方です。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">a</span> <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">b</span> <span class="ow">=</span> <span class="mi">2</span>
<span class="nf">c</span> <span class="ow">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="n">c</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
3
</pre></div>
</div>

<h1>
<span id="ローカル変数" class="fragment"></span><a href="#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0"><i class="fa fa-link"></i></a>ローカル変数</h1>

<p>2種類の書き方があります。</p>

<h2>
<span id="where" class="fragment"></span><a href="#where"><i class="fa fa-link"></i></a>where</h2>

<p>使用箇所の下で定義します。独特な書き方です。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="n">c</span>
    <span class="kr">where</span>
        <span class="n">a</span> <span class="ow">=</span> <span class="mi">1</span>
        <span class="n">b</span> <span class="ow">=</span> <span class="mi">2</span>
        <span class="n">c</span> <span class="ow">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
3
</pre></div>
</div>

<h2>
<span id="let" class="fragment"></span><a href="#let"><i class="fa fa-link"></i></a>let</h2>

<p>定義してから使用します。</p>

<div class="code-frame" data-lang="hs">
<div class="code-lang"><span class="bold">doあり</span></div>
<div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="kr">let</span> <span class="n">a</span> <span class="ow">=</span> <span class="mi">1</span>
        <span class="n">b</span> <span class="ow">=</span> <span class="mi">2</span>
        <span class="n">c</span> <span class="ow">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
    <span class="n">print</span> <span class="n">c</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
3
</pre></div>
</div>

<p><code>do</code>がなければ最後に<code>in</code>が必要になります。</p>

<div class="code-frame" data-lang="hs">
<div class="code-lang"><span class="bold">doなし</span></div>
<div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span>
    <span class="kr">let</span> <span class="n">a</span> <span class="ow">=</span> <span class="mi">1</span>
        <span class="n">b</span> <span class="ow">=</span> <span class="mi">2</span>
        <span class="n">c</span> <span class="ow">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="kr">in</span>
    <span class="n">print</span> <span class="n">c</span>
</pre></div>
</div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
3
</pre></div>
</div>

<p>書き方が複数あると混乱するため、今回はなるべく<code>let</code>は避けて<code>where</code>を使います。</p>

<h1>
<span id="関数" class="fragment"></span><a href="#%E9%96%A2%E6%95%B0"><i class="fa fa-link"></i></a>関数</h1>

<p>数学の $f(x)=x+1$ や $f(1)$ の括弧がない版だとイメージしてください。C言語の<code>return</code>に相当するキーワードは使いません。</p>

<p>※ <code>return</code>は存在しますが別の意味です。詳細は続編の<a href="http://qiita.com/7shi/items/85afd7bbd5d6c4115ad6">Haskell アクション 超入門</a>で説明します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">f</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nf">a</span> <span class="ow">=</span> <span class="n">f</span> <span class="mi">1</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="n">a</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
2
</pre></div>
</div>

<p><code>a</code>を経由せずに<code>print</code>に直接<code>f 1</code>を渡すには、括弧で囲みます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">f</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="p">(</span><span class="n">f</span> <span class="mi">1</span><span class="p">)</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
2
</pre></div>
</div>

<h2>
<span id="" class="fragment"></span><a href="#"><i class="fa fa-link"></i></a>$</h2>

<p>閉じ括弧を省略するための<code>$</code>という書式があります。<code>$</code>から行末までを括弧で囲むのと同じ効果があります。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="p">(</span><span class="n">f</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">f</span> <span class="mi">1</span>
</pre></div></div>

<p>以後、<code>print</code>では基本的に<code>$</code>を使います。</p>

<h2>
<span id="関数の演算子化" class="fragment"></span><a href="#%E9%96%A2%E6%95%B0%E3%81%AE%E6%BC%94%E7%AE%97%E5%AD%90%E5%8C%96"><i class="fa fa-link"></i></a>関数の演算子化</h2>

<p>2つの引数を取る関数を<code>`</code>で囲むと中置演算子として使用できます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">add</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">add</span> <span class="mi">1</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">1</span> <span class="p">`</span><span class="n">add</span><span class="p">`</span> <span class="mi">2</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
3
3
</pre></div>
</div>

<h2>
<span id="演算子の関数化" class="fragment"></span><a href="#%E6%BC%94%E7%AE%97%E5%AD%90%E3%81%AE%E9%96%A2%E6%95%B0%E5%8C%96"><i class="fa fa-link"></i></a>演算子の関数化</h2>

<p>さっきの逆です。中置演算子を<code>()</code>で囲むと関数として使用できます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="mi">1</span> <span class="mi">2</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
3
3
</pre></div>
</div>

<h1>
<span id="四則演算" class="fragment"></span><a href="#%E5%9B%9B%E5%89%87%E6%BC%94%E7%AE%97"><i class="fa fa-link"></i></a>四則演算</h1>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">5</span> <span class="o">-</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">div</span> <span class="mi">5</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">mod</span> <span class="mi">5</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">5</span> <span class="p">`</span><span class="n">div</span><span class="p">`</span> <span class="mi">2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">5</span> <span class="p">`</span><span class="n">mod</span><span class="p">`</span> <span class="mi">2</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
7
3
10
2.5
2
1
2
1
</pre></div>
</div>

<ul>
<li>
<code>/</code>による割り算は結果を浮動小数点数で返します。</li>
<li>割り算の商は<code>div</code>、剰余は<code>mod</code>で求めます。</li>
</ul>

<h1>
<span id="命名規則" class="fragment"></span><a href="#%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87"><i class="fa fa-link"></i></a>命名規則</h1>

<p>変数と関数は名前を小文字で始める必要があります。</p>

<p>大文字で始めるとエラーになります。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="kt">A</span> <span class="ow">=</span> <span class="mi">1</span>
<span class="kt">F</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">エラー内容</span></div>
<div class="highlight"><pre>
src\Main.hs:1:1: Not in scope: data constructor `A'
src\Main.hs:2:1: Not in scope: data constructor `F'
</pre></div>
</div>

<p>※ 他言語ではコーディング規約として扱われる内容ですが、Haskellでは文法的に決められています。</p>

<h1>
<span id="if---then---else" class="fragment"></span><a href="#if---then---else"><i class="fa fa-link"></i></a>if - then - else</h1>

<p>まず、一行で書いてみます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">a</span> <span class="ow">=</span> <span class="mi">1</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="kr">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">1</span> <span class="kr">then</span> <span class="n">print</span> <span class="s">"1"</span> <span class="kr">else</span> <span class="n">print</span> <span class="s">"?"</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"1"
</pre></div>
</div>

<p>※ 「等しい」は<code>==</code>、「等しくない」は<code>/=</code>です。後者は記号≠に由来します。</p>

<p>複数行で書く場合、<code>if</code>に対して<code>then</code>や<code>else</code>がぶら下がっていることを示すため、<code>then</code>や<code>else</code>のインデントを<code>if</code>より右にずらす必要があります。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">a</span> <span class="ow">=</span> <span class="mi">1</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="kr">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">1</span>
        <span class="kr">then</span> <span class="n">print</span> <span class="s">"1"</span>
        <span class="kr">else</span> <span class="n">print</span> <span class="s">"?"</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"1"
</pre></div>
</div>

<p>※ <code>do</code>がなければ別の書き方ができますが、書き方が複数あると混乱するため説明を省略します。</p>

<h2>
<span id="値を返す" class="fragment"></span><a href="#%E5%80%A4%E3%82%92%E8%BF%94%E3%81%99"><i class="fa fa-link"></i></a>値を返す</h2>

<p><code>if</code>は値を返すため、C言語の三項演算子のように使えます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">a</span> <span class="ow">=</span> <span class="mi">1</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="kr">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">1</span> <span class="kr">then</span> <span class="s">"1"</span> <span class="kr">else</span> <span class="s">"?"</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"1"
</pre></div>
</div>

<p>関数の定義と組み合わせた例です。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">f</span> <span class="n">a</span> <span class="ow">=</span> <span class="kr">if</span> <span class="n">a</span> <span class="o">==</span> <span class="mi">1</span> <span class="kr">then</span> <span class="s">"1"</span> <span class="kr">else</span> <span class="s">"?"</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">f</span> <span class="mi">0</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">f</span> <span class="mi">1</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"?"
"1"
</pre></div>
</div>

<h1>
<span id="パターンマッチ" class="fragment"></span><a href="#%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%83%9E%E3%83%83%E3%83%81"><i class="fa fa-link"></i></a>パターンマッチ</h1>

<p>関数内の全体を<code>if</code>で切り分ける代わりに、特定の引数を指定して関数を分割定義できます。このような書き方を<strong>パターンマッチ</strong>と呼びます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">f</span> <span class="mi">1</span> <span class="ow">=</span> <span class="s">"1"</span>
<span class="nf">f</span> <span class="n">a</span> <span class="ow">=</span> <span class="s">"?"</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">f</span> <span class="mi">0</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">f</span> <span class="mi">1</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"?"
"1"
</pre></div>
</div>

<p>値を無視する引数は<code>_</code>と書くことで、値を無視していることを明示します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">f</span> <span class="mi">1</span> <span class="ow">=</span> <span class="s">"1"</span>
<span class="nf">f</span> <span class="kr">_</span> <span class="ow">=</span> <span class="s">"?"</span>
</pre></div></div>

<p>これは独特な書き方のため、慣れが必要です。</p>

<h2>
<span id="階乗" class="fragment"></span><a href="#%E9%9A%8E%E4%B9%97"><i class="fa fa-link"></i></a>階乗</h2>

<p>例としてよく引き合いに出されます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">fact</span> <span class="mi">0</span> <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">fact</span> <span class="n">n</span> <span class="ow">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fact</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">fact</span> <span class="mi">5</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
120
</pre></div>
</div>

<p><code>fact</code>の中で<code>fact</code>を呼んでいます。このような流れを<strong>再帰</strong>と言います。再帰は往復で処理されるため往路と復路に分けて考えます。</p>

<p>再帰の往路をトレースします。</p>

<ol>
<li><code>fact 5 = 5 * fact 4</code></li>
<li><code>fact 4 = 4 * fact 3</code></li>
<li><code>fact 3 = 3 * fact 2</code></li>
<li><code>fact 2 = 2 * fact 1</code></li>
<li><code>fact 1 = 1 * fact 0</code></li>
<li><code>fact 0 = 1</code></li>
</ol>

<p><code>fact 0</code>が折り返し点となり、反転して復路に入ります。</p>

<ol>
<li><code>fact 1 = 1 * fact 0 = 1 * 1 = 1</code></li>
<li><code>fact 2 = 2 * fact 1 = 2 * 1 = 2</code></li>
<li><code>fact 3 = 3 * fact 2 = 3 * 2 = 6</code></li>
<li><code>fact 4 = 4 * fact 3 = 4 * 6 = 24</code></li>
<li><code>fact 5 = 5 * fact 4 = 5 * 24 = 120</code></li>
</ol>

<p>※ 往路だけで復路のない末尾再帰もありますが、今回の範囲を超えるため省略します。</p>

<h3>
<span id="簡約" class="fragment"></span><a href="#%E7%B0%A1%E7%B4%84"><i class="fa fa-link"></i></a>簡約</h3>

<p>往路をインライン展開すると次のように捉えることができます。</p>

<ol>
<li><code>fact 5</code></li>
<li><code>5 * fact 4</code></li>
<li><code>5 * 4 * fact 3</code></li>
<li><code>5 * 4 * 3 * fact 2</code></li>
<li><code>5 * 4 * 3 * 2 * fact 1</code></li>
<li><code>5 * 4 * 3 * 2 * 1 * fact 0</code></li>
<li><code>5 * 4 * 3 * 2 * 1 * 1</code></li>
<li><code>120</code></li>
</ol>

<p>このような式変形を<strong>簡約</strong>と呼びます。</p>

<h3>
<span id="基底部再帰部" class="fragment"></span><a href="#%E5%9F%BA%E5%BA%95%E9%83%A8%E5%86%8D%E5%B8%B0%E9%83%A8"><i class="fa fa-link"></i></a>基底部・再帰部</h3>

<p>折り返し点となる定義を基底部、自分自身を呼び出している定義を再帰部と呼びます。</p>

<ul>
<li>基底部: <code>fact 0 = 1</code>
</li>
<li>再帰部: <code>fact n = n * fact (n - 1)</code>
</li>
</ul>

<h2>
<span id="コツ" class="fragment"></span><a href="#%E3%82%B3%E3%83%84"><i class="fa fa-link"></i></a>コツ</h2>

<p>再帰の取り扱いにはパターンがあります。そこを意識するのがコツです。</p>

<h3>
<span id="作り方のコツ" class="fragment"></span><a href="#%E4%BD%9C%E3%82%8A%E6%96%B9%E3%81%AE%E3%82%B3%E3%83%84"><i class="fa fa-link"></i></a>作り方のコツ</h3>

<ol>
<li>基底部を定義</li>
<li>具体例に当てはめて一般化する</li>
</ol>

<p>まず基底部を定義します。自然数を指定するタイプでは値が減少しながら再帰を繰り返すのが定石で、これ以上減少できない最小値が基底部となります。</p>

<p>階乗について考えます。マイナスの階乗が定義されていないため、計算可能な最小の階乗は $0!$ です。このことから基底部を定義します。</p>

<div class="code-frame" data-lang="hs">
<div class="code-lang"><span class="bold">基底部</span></div>
<div class="highlight"><pre>
<span class="nf">fact</span> <span class="mi">0</span> <span class="ow">=</span> <span class="mi">1</span>
</pre></div>
</div>

<p>再帰部は具体例を通して考えるのがコツです。たとえば5の階乗を考えます。</p>

<div class="code-frame" data-lang="math">
<div class="code-lang"><span class="bold">具体例</span></div>
<div class="highlight"><pre>
5! = 5 \times 4 \times 3 \times 2 \times 1
</pre></div>
</div>

<p>再帰は引数を5から0に向かって減少させて処理します。1つ小さい引数（この場合は4）の結果を利用するのが定石です。このパターンで表すため、5の階乗を4の階乗で表せないか考えます。</p>

<div class="code-frame" data-lang="math">
<div class="code-lang"><span class="bold">式変形</span></div>
<div class="highlight"><pre>
5! = 5 \times (4 \times 3 \times 2 \times 1) = 5 \times 4!
</pre></div>
</div>

<p>特定の数（この場合は5）での関係が得られました。これを一般化して5を$n$に置き換えます。4は$n-1$です。このように隣接する項目との関係で表された式を<a href="http://ja.wikipedia.org/wiki/%E6%BC%B8%E5%8C%96%E5%BC%8F" rel="nofollow noopener" target="_blank">漸化式</a>と呼びます。</p>

<div class="code-frame" data-lang="math">
<div class="code-lang"><span class="bold">漸化式</span></div>
<div class="highlight"><pre>
n! = n \times (n-1)!
</pre></div>
</div>

<p>漸化式をコード化すれば再帰部が得られます。</p>

<div class="code-frame" data-lang="hs">
<div class="code-lang"><span class="bold">再帰部</span></div>
<div class="highlight"><pre>
<span class="nf">fact</span> <span class="n">n</span> <span class="ow">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fact</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>

<p>このように基底部と再帰部は順を追って別々に作ることになるため、パターンマッチで定義を分離させる書き方と相性が良いです。</p>

<p>※ 数学の問題であれば得られた式を<a href="http://ja.wikipedia.org/wiki/%E6%95%B0%E5%AD%A6%E7%9A%84%E5%B8%B0%E7%B4%8D%E6%B3%95" rel="nofollow noopener" target="_blank">数学的帰納法</a>で証明することが求められますが、今回はプログラミングの練習が目的なので、いくつか具体例で動作確認して済ませます。</p>

<h3>
<span id="確認のコツ" class="fragment"></span><a href="#%E7%A2%BA%E8%AA%8D%E3%81%AE%E3%82%B3%E3%83%84"><i class="fa fa-link"></i></a>確認のコツ</h3>

<p>一旦書き上げたプログラムを確認するコツです。既存のコードを読むときにも使えます。</p>

<p>再帰の流れは追わずに、結果が信頼できるものと見なして具体例で考えます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">fact</span> <span class="n">n</span> <span class="ow">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fact</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</pre></div></div>

<ol>
<li><code>fact 5 = 5 * fact 4</code></li>
<li>
<code>fact 4</code>は定義より<code>4! = 24</code>が返されると考えます。</li>
<li><code>5 * 24 = 120</code></li>
</ol>

<p>次に再帰を使った練習問題をやるので、この方法を試してみてください。</p>

<h2>
<span id="練習" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92"><i class="fa fa-link"></i></a>練習</h2>

<p>フィボナッチ数は<code>0, 1</code>が初期値として与えられ、それ以降は前2つの数字を合計して得られる数列です。</p>

<ul>
<li>0, 1, 1, 2, 3, 5, 8, 13, 21, ...</li>
</ul>

<p>【問1】任意のn番目のフィボナッチ数を計算する関数<code>fib</code>をパターンマッチで実装してください。最初の0は0番目とします。</p>

<p>ヒント: 基底部は1つとは限りません。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%83%9E%E3%83%83%E3%83%81" id="reference-761c9b41a1c50066148c">解答例</a></p>

<h1>
<span id="ガード" class="fragment"></span><a href="#%E3%82%AC%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>ガード</h1>

<p>1つの関数定義に引数の条件を列挙するガードという書き方があります。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">fact</span> <span class="n">n</span>
    <span class="o">|</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span>    <span class="ow">=</span> <span class="mi">1</span>
    <span class="o">|</span> <span class="n">otherwise</span> <span class="ow">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fact</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">fact</span> <span class="mi">5</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
120
</pre></div>
</div>

<p>こちらも独特な書き方のため、慣れが必要です。</p>

<h2>
<span id="-の位置" class="fragment"></span><a href="#-%E3%81%AE%E4%BD%8D%E7%BD%AE"><i class="fa fa-link"></i></a>= の位置</h2>

<p>引数の直後に<code>=</code>を書かないのは混乱を招くかもしれませんが、その間に条件が割り込んでいるためです。</p>

<p>一行で書いたものを対比してみます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">fact</span> <span class="n">n</span>          <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">fact</span> <span class="n">n</span> <span class="o">|</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">=</span> <span class="mi">1</span>
       <span class="o">^^^^^^^^</span>
</pre></div></div>

<h2>
<span id="練習-1" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-1"><i class="fa fa-link"></i></a>練習</h2>

<p>【問2】問1で実装した関数をガードで書き直してください。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%82%AC%E3%83%BC%E3%83%89" id="reference-761c9b41a1c50066148c">解答例</a></p>

<h1>
<span id="使い分け" class="fragment"></span><a href="#%E4%BD%BF%E3%81%84%E5%88%86%E3%81%91"><i class="fa fa-link"></i></a>使い分け</h1>

<p>慣習的にパターンマッチとガードは使い分けがされています。厳密に決まっているわけではありませんが、目安を示します。</p>

<ol>
<li>まずパターンマッチで書けないか試します。</li>
<li>範囲指定（例: <code>n &lt; 5</code>）など式が必要でパターンマッチが使えない場合、ガードを使います。</li>
<li>パターンマッチで大まかに振り分けた後、ガードで細かく振り分けるというように、併用するケースもあります。</li>
</ol>

<p>C言語などをご存知の方はおおまかに次のように考えるとイメージしやすいかもしれません。</p>

<ul>
<li>パターンマッチは <code>switch</code> - <code>case</code> の機能強化版</li>
<li>ガードは <code>if</code> - <code>else if</code> の羅列</li>
</ul>

<h2>
<span id="併用" class="fragment"></span><a href="#%E4%BD%B5%E7%94%A8"><i class="fa fa-link"></i></a>併用</h2>

<p>上で実装した<code>fact</code>に負の数を渡すと無限ループになります。対策としてパターンマッチとガードを併用して引数を制限します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">fact</span> <span class="mi">0</span> <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">fact</span> <span class="n">n</span> <span class="o">|</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fact</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">fact</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果（エラー）</span></div>
<div class="highlight"><pre>
Main.hs:(1,1)-(2,33): Non-exhaustive patterns in function fact
</pre></div>
</div>

<p>パターンマッチがガードで制限されるため、<code>(-1)</code>はどのパターンにもマッチせずにエラーとなります。</p>

<p>※ Erlangという言語では、このようなスタイルを非防御的プログラミング（non-defensive programming）と呼ぶそうです。</p>

<ul>
<li>出典: <a href="https://github.com/m-takagi/aosa-ja" rel="nofollow noopener" target="_blank">オープンソースアプリケーションのアーキテクチャ 15.1</a>
</li>
</ul>

<p>エラーが起きないように処理する方法については、続編の<a href="http://qiita.com/7shi/items/c7d7eec066af0fe0688d#guard" id="reference-f880562aa0e4e10628f3">Haskell Maybeモナド 超入門</a>で説明します。</p>

<h1>
<span id="case---of" class="fragment"></span><a href="#case---of"><i class="fa fa-link"></i></a>case - of</h1>

<p>関数の中でパターンマッチを行います。<code>=</code>ではなく<code>-&gt;</code>を使います。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">fact</span> <span class="n">n</span> <span class="ow">=</span> <span class="kr">case</span> <span class="n">n</span> <span class="kr">of</span>
    <span class="mi">0</span> <span class="ow">-&gt;</span> <span class="mi">1</span>
    <span class="kr">_</span> <span class="o">|</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">-&gt;</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fact</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">fact</span> <span class="mi">5</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
120
</pre></div>
</div>

<p>※ 引数で<code>n</code>として受けているため、<code>case</code>中のパターンマッチでは<code>_</code>として受け流しています。</p>

<p>大抵は関数レベルのパターンマッチとガードで済んでしまうため、使用頻度はそれほど高くありません。</p>

<h2>
<span id="練習-2" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-2"><i class="fa fa-link"></i></a>練習</h2>

<p>【問3】問1で実装した関数を<code>case</code>-<code>of</code>で書き直してください。無限ループを防ぐためガードを追加してください。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#case---of" id="reference-761c9b41a1c50066148c">解答例</a></p>

<h1>
<span id="リスト" class="fragment"></span><a href="#%E3%83%AA%E3%82%B9%E3%83%88"><i class="fa fa-link"></i></a>リスト</h1>

<p>他言語の配列と似たようなものです。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5]
</pre></div>
</div>

<p>※ Haskellではリストとは別に配列もあります。詳細は続編の<a href="http://qiita.com/7shi/items/85afd7bbd5d6c4115ad6">Haskell アクション 超入門</a>で説明します。</p>

<h2>
<span id="-1" class="fragment"></span><a href="#-1"><i class="fa fa-link"></i></a>!!</h2>

<p>リストから要素を取り出すには<code>!!</code>を使います。先頭の要素は0番目です。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="o">!!</span> <span class="mi">3</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
4
</pre></div>
</div>

<h2>
<span id="連番" class="fragment"></span><a href="#%E9%80%A3%E7%95%AA"><i class="fa fa-link"></i></a>連番</h2>

<p>連番リストを生成する専用の書き方があります。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5]
</pre></div>
</div>

<h2>
<span id="-2" class="fragment"></span><a href="#-2"><i class="fa fa-link"></i></a>++</h2>

<p><code>++</code>によりリスト同士を結合できます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">++</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5]
</pre></div>
</div>

<h2>
<span id="-3" class="fragment"></span><a href="#-3"><i class="fa fa-link"></i></a>:</h2>

<p><code>:</code>によりリストの先頭に要素を挿入できます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">1</span><span class="kt">:</span><span class="p">[</span><span class="mi">2</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5]
</pre></div>
</div>

<p>複数の先頭要素を連ねることもできます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="mi">1</span><span class="kt">:</span><span class="mi">2</span><span class="kt">:</span><span class="p">[</span><span class="mi">3</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5]
</pre></div>
</div>

<p><code>:</code>では末尾に追加できないため<code>++</code>を使用します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">4</span><span class="p">]</span> <span class="o">++</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5]
</pre></div>
</div>

<h2>
<span id="文字列" class="fragment"></span><a href="#%E6%96%87%E5%AD%97%E5%88%97"><i class="fa fa-link"></i></a>文字列</h2>

<p>文字列は文字のリストとして扱われます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="s">"abcde"</span>
    <span class="n">print</span> <span class="o">$</span> <span class="p">[</span><span class="n">'a'</span><span class="p">,</span> <span class="n">'b'</span><span class="p">,</span> <span class="n">'c'</span><span class="p">,</span> <span class="n">'d'</span><span class="p">,</span> <span class="n">'e'</span><span class="p">]</span>
    <span class="n">print</span> <span class="o">$</span> <span class="p">[</span><span class="n">'a'</span><span class="o">..</span><span class="n">'e'</span><span class="p">]</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">'a'</span><span class="kt">:</span><span class="s">"bcde"</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">'a'</span><span class="kt">:</span><span class="n">'b'</span><span class="kt">:</span><span class="s">"cde"</span>
    <span class="n">print</span> <span class="o">$</span> <span class="s">"abc"</span> <span class="o">++</span> <span class="s">"de"</span>
    <span class="n">print</span> <span class="o">$</span> <span class="s">"abcde"</span> <span class="o">!!</span> <span class="mi">3</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
"abcde"
"abcde"
"abcde"
"abcde"
"abcde"
"abcde"
'd'
</pre></div>
</div>

<h2>
<span id="引数" class="fragment"></span><a href="#%E5%BC%95%E6%95%B0"><i class="fa fa-link"></i></a>引数</h2>

<p>引数でリストの先頭要素を取り出せます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">first</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">first</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">first</span> <span class="s">"abcdef"</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
1
'a'
</pre></div>
</div>

<p><code>(x:xs)</code>で先頭<code>x</code>とその後ろのリスト<code>xs</code>に分割して受け取ります。<code>xs</code>は<code>x</code>の複数形を意図しています。これらの名前には文法的な意味はなく、あくまで慣習です。</p>

<p>この例では<code>xs</code>を使っていないため<code>_</code>で未使用を明示した方が無難です。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">first</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span>
</pre></div></div>

<p>先頭要素は複数を連ねることもできます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">second</span> <span class="p">(</span><span class="kr">_</span><span class="kt">:</span><span class="n">x</span><span class="kt">:</span><span class="kr">_</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">second</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">second</span> <span class="s">"abcdef"</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
2
'b'
</pre></div>
</div>

<h1>
<span id="リスト関係の関数" class="fragment"></span><a href="#%E3%83%AA%E3%82%B9%E3%83%88%E9%96%A2%E4%BF%82%E3%81%AE%E9%96%A2%E6%95%B0"><i class="fa fa-link"></i></a>リスト関係の関数</h1>

<h2>
<span id="length" class="fragment"></span><a href="#length"><i class="fa fa-link"></i></a>length</h2>

<p>リストの要素数を取得します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">length</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
3
</pre></div>
</div>

<h2>
<span id="sum" class="fragment"></span><a href="#sum"><i class="fa fa-link"></i></a>sum</h2>

<p>リストの要素をすべて足します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">sum</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
15
</pre></div>
</div>

<h2>
<span id="product" class="fragment"></span><a href="#product"><i class="fa fa-link"></i></a>product</h2>

<p><code>sum</code>が足し算なら、<code>product</code>は掛け算です。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">product</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
120
</pre></div>
</div>

<h2>
<span id="take" class="fragment"></span><a href="#take"><i class="fa fa-link"></i></a>take</h2>

<p>リストから先頭のn個を抽出します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">take</span> <span class="mi">2</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2]
</pre></div>
</div>

<h2>
<span id="drop" class="fragment"></span><a href="#drop"><i class="fa fa-link"></i></a>drop</h2>

<p>リストから先頭のn個を落とします。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">drop</span> <span class="mi">2</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[3]
</pre></div>
</div>

<h2>
<span id="reverse" class="fragment"></span><a href="#reverse"><i class="fa fa-link"></i></a>reverse</h2>

<p>リストの要素を逆に並べます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">reverse</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[5,4,3,2,1]
</pre></div>
</div>

<h2>
<span id="練習-3" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-3"><i class="fa fa-link"></i></a>練習</h2>

<p><code>length</code>と同じ機能の関数<code>length'</code>を再実装する例です。</p>

<p>※ 関数名の<code>'</code>（ダッシュまたはプライム）は名前の一部で、数学の<code>a</code>に対する<code>a'</code>の感覚です。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">length'</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="mi">0</span>
<span class="nf">length'</span> <span class="p">(</span><span class="kr">_</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">length'</span> <span class="n">xs</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">length'</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
3
</pre></div>
</div>

<p>【問4】<code>sum</code>, <code>product</code>, <code>take</code>, <code>drop</code>, <code>reverse</code>と同じ機能の関数を再実装してください。関数名には<code>'</code>を付けてください。</p>

<p>ヒント: リストを再帰で処理するパターンは<code>f (x:xs) = x ... f xs</code>です。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E5%86%8D%E5%AE%9F%E8%A3%85" id="reference-761c9b41a1c50066148c">解答例</a></p>

<p>【問5】<code>product</code>を使って<code>fact</code>（階乗）を実装してください。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E9%9A%8E%E4%B9%97" id="reference-761c9b41a1c50066148c">解答例</a></p>

<h1>
<span id="タプル" class="fragment"></span><a href="#%E3%82%BF%E3%83%97%E3%83%AB"><i class="fa fa-link"></i></a>タプル</h1>

<p>関数で複数の値を返すことができます。括弧で複数の値を囲んだ部分を<strong>タプル</strong>と呼びます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">addsub</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">addsub</span> <span class="mi">1</span> <span class="mi">2</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
(3,-1)
</pre></div>
</div>

<p>タプルは全体でも分割でも受け取れます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">addsub</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
<span class="nf">a</span> <span class="ow">=</span> <span class="n">addsub</span> <span class="mi">1</span> <span class="mi">2</span>
<span class="p">(</span><span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">)</span> <span class="ow">=</span> <span class="n">addsub</span> <span class="mi">1</span> <span class="mi">2</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="n">a</span>
    <span class="n">print</span> <span class="n">a1</span>
    <span class="n">print</span> <span class="n">a2</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
(3,-1)
3
-1
</pre></div>
</div>

<p>数学の座標をイメージすると良いでしょう。</p>

<ul>
<li>$P=(1,2)$</li>
<li>$(x,y)=(1,2)$ ⇔ $x=1,y=2$</li>
</ul>

<h2>
<span id="リストとの比較" class="fragment"></span><a href="#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83"><i class="fa fa-link"></i></a>リストとの比較</h2>

<ul>
<li>リストの項目数は任意ですが、タプルでは固定です。</li>
<li>リストの要素はすべて同じ型でないといけませんが、タプルでは任意です。

<ul>
<li>× <code>[1, "a"]</code>
</li>
<li>○ <code>(1, "a")</code>
</li>
</ul>
</li>
</ul>

<h2>
<span id="関数-1" class="fragment"></span><a href="#%E9%96%A2%E6%95%B0-1"><i class="fa fa-link"></i></a>関数</h2>

<p>要素が2つのタプルから値を取り出す関数<code>fst</code>, <code>snd</code>があります。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="kr">let</span> <span class="n">p2</span> <span class="ow">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">fst</span> <span class="n">p2</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">snd</span> <span class="n">p2</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
1
2
</pre></div>
</div>

<p>要素が3つ以上のタプルからは変数経由で値を取り出します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="kr">let</span> <span class="n">p3</span> <span class="ow">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">print</span> <span class="n">p3</span>
    <span class="kr">let</span> <span class="p">(</span><span class="kr">_</span><span class="p">,</span> <span class="kr">_</span><span class="p">,</span> <span class="n">p3z</span><span class="p">)</span> <span class="ow">=</span> <span class="n">p3</span>
    <span class="n">print</span> <span class="n">p3z</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
(1,2,3)
3
</pre></div>
</div>

<p>※ リストのように<code>!!</code>で値を取り出すことはできません。</p>

<h2>
<span id="練習-4" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-4"><i class="fa fa-link"></i></a>練習</h2>

<p>【問6】点 $(p, q)$ から直線 $ax + by = c$ に下した垂線の交点を求める関数<code>perpPoint</code>を作成してください。aとbが両方ゼロになると解なしですが、チェックせずに無視してください。</p>

<p>ヒント: $ax + by = c$ の傾きは $-\frac{a}{b}$ です。直交する直線の傾きとの積が $-1$ となることから、垂線は $bx - ay = d$ と表せます。連立方程式を解けば交点が求まります。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E5%9E%82%E7%B7%9A%E3%81%AE%E4%BA%A4%E7%82%B9" id="reference-761c9b41a1c50066148c">解答例</a></p>

<h1>
<span id="import" class="fragment"></span><a href="#import"><i class="fa fa-link"></i></a>import</h1>

<p>ライブラリを読み込みます。</p>

<p><code>Data.Char</code>（<a href="https://hackage.haskell.org/package/base-4.7.0.0/docs/Data-Char.html" rel="nofollow noopener" target="_blank">リファレンス</a>）で定義されている関数を使う例です。</p>

<ul>
<li>
<code>ord</code>: 文字から文字コードを取得</li>
<li>
<code>chr</code>: 文字コードから文字に変換</li>
</ul>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="kr">import</span> <span class="nn">Data.Char</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">ord</span> <span class="n">'A'</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">chr</span> <span class="mi">65</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
65
'A'
</pre></div>
</div>

<h2>
<span id="練習-5" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-5"><i class="fa fa-link"></i></a>練習</h2>

<p>【問7】<a href="http://ja.wikipedia.org/wiki/ROT13" rel="nofollow noopener" target="_blank">ROT13</a>を実装してください。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#rot13" id="reference-761c9b41a1c50066148c">解答例</a></p>

<h1>
<span id="ソート" class="fragment"></span><a href="#%E3%82%BD%E3%83%BC%E3%83%88"><i class="fa fa-link"></i></a>ソート</h1>

<p>挿入ソートの実装例を示します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">insert</span> <span class="n">x</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
<span class="nf">insert</span> <span class="n">x</span> <span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span>
    <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span>     <span class="ow">=</span> <span class="n">x</span><span class="kt">:</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span>
    <span class="o">|</span> <span class="n">otherwise</span> <span class="ow">=</span> <span class="n">y</span> <span class="kt">:</span> <span class="n">insert</span> <span class="n">x</span> <span class="n">ys</span>

<span class="nf">isort</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">isort</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">insert</span> <span class="n">x</span> <span class="p">(</span><span class="n">isort</span> <span class="n">xs</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">isort</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5,6,7,8,9]
</pre></div>
</div>

<p>処理の流れを説明します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">isort</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">isort</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">insert</span> <span class="n">x</span> <span class="p">(</span><span class="n">isort</span> <span class="n">xs</span><span class="p">)</span>
</pre></div></div>

<p>リストの先頭の要素を取り出しながら再帰することで、リストの要素を順番に挿入して行きます。</p>

<p>リスト<code>[4, 6, 9, 8, 3, 5, 1, 7, 2]</code>の往路をトレースします。</p>

<ol>
<li><code>isort [4, 6, 9, 8, 3, 5, 1, 7, 2] = insert 4 (isort [6, 9, 8, 3, 5, 1, 7, 2])</code></li>
<li><code>isort [6, 9, 8, 3, 5, 1, 7, 2] = insert 6 (isort [9, 8, 3, 5, 1, 7, 2])</code></li>
<li><code>isort [9, 8, 3, 5, 1, 7, 2] = insert 9 (isort [8, 3, 5, 1, 7, 2])</code></li>
<li><code>isort [8, 3, 5, 1, 7, 2] = insert 8 (isort [3, 5, 1, 7, 2])</code></li>
<li><code>isort [3, 5, 1, 7, 2] = insert 3 (isort [5, 1, 7, 2])</code></li>
<li><code>isort [5, 1, 7, 2] = insert 5 (isort [1, 7, 2])</code></li>
<li><code>isort [1, 7, 2] = insert 1 (isort [7, 2])</code></li>
<li><code>isort [7, 2] = insert 7 (isort [2])</code></li>
<li><code>isort [2] = insert 2 (isort [])</code></li>
<li><code>isort [] = []</code></li>
</ol>

<p><code>insert</code>の第2引数は必ず<code>isort</code>でソートされたリストが渡されます。</p>

<p>挿入先のリストはソート済みであることを前提にできるため、挿入箇所の判定は後続要素との比較だけで済みます。</p>

<p>再帰により挿入先のリストの要素と順番に比較していきます。末尾に達すると<code>ys = []</code>となるため、そこに挿入します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">insert</span> <span class="n">x</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
<span class="nf">insert</span> <span class="n">x</span> <span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span>
    <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span>     <span class="ow">=</span> <span class="n">x</span><span class="kt">:</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span>
    <span class="o">|</span> <span class="n">otherwise</span> <span class="ow">=</span> <span class="n">y</span> <span class="kt">:</span> <span class="n">insert</span> <span class="n">x</span> <span class="n">ys</span>
</pre></div></div>

<p>例を示します。</p>

<ol>
<li>
<code>insert 3 [1, 2, 5, 7]</code> 次へ</li>
<li>
<code>1: insert 3 [2, 5, 7]</code> 次へ</li>
<li>
<code>1: 2: insert 3 [5, 7]</code> ここへ挿入</li>
<li><code>1: 2: 3: [5, 7]</code></li>
<li><code>[1, 2, 3, 5, 7]</code></li>
</ol>

<p>復路をトレースします。</p>

<ol>
<li><code>isort [2] = insert 2 []</code></li>
<li><code>isort [7, 2] = insert 7 [2]</code></li>
<li><code>isort [1, 7, 2] = insert 1 [2, 7]</code></li>
<li><code>isort [5, 1, 7, 2] = insert 5 [1, 2, 7]</code></li>
<li><code>isort [3, 5, 1, 7, 2] = insert 3 [1, 2, 5, 7]</code></li>
<li><code>isort [8, 3, 5, 1, 7, 2] = insert 8 [1, 2, 3, 5, 7]</code></li>
<li><code>isort [9, 8, 3, 5, 1, 7, 2] = insert 9 [1, 2, 3, 5, 7, 8]</code></li>
<li><code>isort [6, 9, 8, 3, 5, 1, 7, 2] = insert 6 [1, 2, 3, 5, 7, 8, 9]</code></li>
<li><code>isort [4, 6, 9, 8, 3, 5, 1, 7, 2] = insert 4 [1, 2, 3, 5, 6, 7, 8, 9]</code></li>
<li><code>[1, 2, 3, 4, 5, 6, 7, 8, 9]</code></li>
</ol>

<p>このように要素を1つずつソートされたリストに挿入しています。</p>

<h2>
<span id="確認のコツ-1" class="fragment"></span><a href="#%E7%A2%BA%E8%AA%8D%E3%81%AE%E3%82%B3%E3%83%84-1"><i class="fa fa-link"></i></a>確認のコツ</h2>

<p>再帰の確認のコツを説明しましたが、挿入ソートに適用してみます。具体例を使って、結果が信頼できるものと見なします。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">isort</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">insert</span> <span class="n">x</span> <span class="p">(</span><span class="n">isort</span> <span class="n">xs</span><span class="p">)</span>
</pre></div></div>

<ol>
<li><code>isort [3, 5, 1, 7, 2] = insert 3 (isort [5, 1, 7, 2])</code></li>
<li>
<code>isort [5, 1, 7, 2]</code>は定義よりソート済みの<code>[1, 2, 5, 7]</code>が返されると考えます。</li>
<li><code>insert 3 [1, 2, 5, 7] = [1, 2, 3, 5, 7]</code></li>
</ol>

<h2>
<span id="デバッグ" class="fragment"></span><a href="#%E3%83%87%E3%83%90%E3%83%83%E3%82%B0"><i class="fa fa-link"></i></a>デバッグ</h2>

<p><code>Debug.Trace.trace</code>を使えば途中経過を表示できます。</p>

<div class="code-frame" data-lang="hs">
<div class="code-lang"><span class="bold">使い方</span></div>
<div class="highlight"><pre>
<span class="nf">trace</span> <span class="err">表示する文字列</span> <span class="err">戻り値</span>
</pre></div>
</div>

<p>簡単な例を示します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="kr">import</span> <span class="nn">Debug.Trace</span>

<span class="nf">test</span> <span class="n">x</span> <span class="ow">=</span> <span class="n">trace</span> <span class="p">(</span><span class="s">"test "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">x</span><span class="p">)</span> <span class="n">x</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">traceIO</span> <span class="o">$</span> <span class="n">show</span> <span class="o">$</span> <span class="n">test</span> <span class="mi">5</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
test 5
5
</pre></div>
</div>

<ul>
<li>
<code>show</code>は様々な型を文字列に変換する関数です。</li>
<li>Leksahでは標準出力と標準エラー出力が混ざると表示がおかしくなるため、<code>print</code>ではなく<code>traceIO</code>を使っています。</li>
<li>
<code>traceIO</code>は文字列しか受け付けないため、<code>show</code>で変換しています。</li>
</ul>

<p>挿入ソートをトレースしてみます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="kr">import</span> <span class="nn">Debug.Trace</span>

<span class="nf">insert</span> <span class="n">x</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="p">[</span><span class="n">x</span><span class="p">]</span>
<span class="nf">insert</span> <span class="n">x</span> <span class="p">(</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span><span class="p">)</span>
    <span class="o">|</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span>     <span class="ow">=</span> <span class="n">x</span><span class="kt">:</span><span class="n">y</span><span class="kt">:</span><span class="n">ys</span>
    <span class="o">|</span> <span class="n">otherwise</span> <span class="ow">=</span> <span class="n">y</span> <span class="kt">:</span> <span class="n">insert</span> <span class="n">x</span> <span class="n">ys</span>

<span class="nf">isort</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">isort</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">trace</span> <span class="n">dbg1</span> <span class="o">$</span> <span class="n">trace</span> <span class="n">dbg2</span> <span class="n">ret</span>
    <span class="kr">where</span>
        <span class="n">ret</span> <span class="ow">=</span> <span class="n">insert</span> <span class="n">x</span> <span class="n">xs'</span>
        <span class="n">xs'</span> <span class="ow">=</span> <span class="n">isort</span> <span class="n">xs</span>
        <span class="n">dbg1</span> <span class="ow">=</span> <span class="s">"isort "</span> <span class="o">++</span> <span class="n">show</span> <span class="p">(</span><span class="n">x</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="o">++</span> <span class="s">" = "</span> <span class="o">++</span>
               <span class="s">"insert "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">x</span> <span class="o">++</span>
               <span class="s">" (isort "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">xs</span> <span class="o">++</span> <span class="s">")"</span>
        <span class="n">dbg2</span> <span class="ow">=</span> <span class="s">"insert "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">x</span> <span class="o">++</span> <span class="s">" "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">xs'</span> <span class="o">++</span>
               <span class="s">" = "</span> <span class="o">++</span> <span class="n">show</span> <span class="n">ret</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">traceIO</span> <span class="o">$</span> <span class="n">show</span> <span class="o">$</span> <span class="n">isort</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
isort [4,6,9,8,3,5,1,7,2] = insert 4 (isort [6,9,8,3,5,1,7,2])
isort [6,9,8,3,5,1,7,2] = insert 6 (isort [9,8,3,5,1,7,2])
isort [9,8,3,5,1,7,2] = insert 9 (isort [8,3,5,1,7,2])
isort [8,3,5,1,7,2] = insert 8 (isort [3,5,1,7,2])
isort [3,5,1,7,2] = insert 3 (isort [5,1,7,2])
isort [5,1,7,2] = insert 5 (isort [1,7,2])
isort [1,7,2] = insert 1 (isort [7,2])
isort [7,2] = insert 7 (isort [2])
isort [2] = insert 2 (isort [])
insert 2 [] = [2]
insert 7 [2] = [2,7]
insert 1 [2,7] = [1,2,7]
insert 5 [1,2,7] = [1,2,5,7]
insert 3 [1,2,5,7] = [1,2,3,5,7]
insert 8 [1,2,3,5,7] = [1,2,3,5,7,8]
insert 9 [1,2,3,5,7,8] = [1,2,3,5,7,8,9]
insert 6 [1,2,3,5,7,8,9] = [1,2,3,5,6,7,8,9]
insert 4 [1,2,3,5,6,7,8,9] = [1,2,3,4,5,6,7,8,9]
[1,2,3,4,5,6,7,8,9]
</pre></div>
</div>

<p><code>trace</code>を2回使うことで、往路と復路が確認できるように表示しています。</p>

<h2>
<span id="練習-6" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-6"><i class="fa fa-link"></i></a>練習</h2>

<p>【問8】<a href="http://www.ics.kagoshima-u.ac.jp/%7Efuchida/edu/algorithm/sort-algorithm/bubble-sort.html" rel="nofollow noopener" target="_blank">バブルソート</a>を実装してください。</p>

<p>ヒント: 交換する関数とソートする関数を分離して実装します。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/1e2a66bf8e8c7f0bd70f" id="reference-ee8e9aed59f28efce452">詳細説明</a>, <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%83%90%E3%83%96%E3%83%AB%E3%82%BD%E3%83%BC%E3%83%88" id="reference-761c9b41a1c50066148c">解答例</a></p>

<p>【問9】<a href="http://www.ics.kagoshima-u.ac.jp/%7Efuchida/edu/algorithm/sort-algorithm/merge-sort.html" rel="nofollow noopener" target="_blank">マージソート</a>を実装してください。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%83%9E%E3%83%BC%E3%82%B8%E3%82%BD%E3%83%BC%E3%83%88" id="reference-761c9b41a1c50066148c">解答例</a></p>

<h1>
<span id="リスト内包表記" class="fragment"></span><a href="#%E3%83%AA%E3%82%B9%E3%83%88%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98"><i class="fa fa-link"></i></a>リスト内包表記</h1>

<p>リストの要素すべてに同じ処理を施した別のリストを作成します。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">fact</span> <span class="mi">0</span> <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">fact</span> <span class="n">n</span> <span class="o">|</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">=</span> <span class="n">n</span> <span class="o">*</span> <span class="n">fact</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
    <span class="n">print</span> <span class="p">[</span><span class="n">fact</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fact</span> <span class="mi">2</span><span class="p">,</span> <span class="n">fact</span> <span class="mi">3</span><span class="p">,</span> <span class="n">fact</span> <span class="mi">4</span><span class="p">,</span> <span class="n">fact</span> <span class="mi">5</span><span class="p">]</span>
    <span class="n">print</span> <span class="p">[</span><span class="n">fact</span> <span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="ow">&lt;-</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="p">]]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5]
[1,2,6,24,120]
[1,2,6,24,120]
</pre></div>
</div>

<p><code>[1..5]</code>の要素を1つずつ<code>x</code>として取り出して、<code>fact x</code>として処理したリストを作成しています。</p>

<p>※ 同じことができる<code>map</code>という関数もあります。詳細は続編の<a href="http://qiita.com/7shi/items/1345bf32003faff435cb">Haskell ラムダ 超入門</a>で説明します。</p>

<h2>
<span id="条件" class="fragment"></span><a href="#%E6%9D%A1%E4%BB%B6"><i class="fa fa-link"></i></a>条件</h2>

<p>要素を取り出す際に条件を指定できます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="p">[</span><span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="ow">&lt;-</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">9</span><span class="p">],</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4]
</pre></div>
</div>

<p><code>[1..9]</code>のうち<code>x &lt; 5</code>を満たすものだけでリストを作成しています。</p>

<p>※ 同じことができる<code>filter</code>という関数もあります。詳細は続編の<a href="http://qiita.com/7shi/items/1345bf32003faff435cb">Haskell ラムダ 超入門</a>で説明します。</p>

<h3>
<span id="練習-7" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-7"><i class="fa fa-link"></i></a>練習</h3>

<p>Haskellの特徴を示す例として、クイックソートがよく引き合いに出されます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">qsort</span> <span class="kt">[]</span>     <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">qsort</span> <span class="p">(</span><span class="n">n</span><span class="kt">:</span><span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">qsort</span> <span class="n">lt</span> <span class="o">++</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">++</span> <span class="n">qsort</span> <span class="n">gteq</span>
    <span class="kr">where</span>
        <span class="n">lt</span>   <span class="ow">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="ow">&lt;-</span> <span class="n">xs</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;</span>  <span class="n">n</span><span class="p">]</span>
        <span class="n">gteq</span> <span class="ow">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">|</span> <span class="n">x</span> <span class="ow">&lt;-</span> <span class="n">xs</span><span class="p">,</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">n</span><span class="p">]</span>

<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="o">$</span> <span class="n">qsort</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[1,2,3,4,5,6,7,8,9]
</pre></div>
</div>

<p>【問10】処理の流れを説明してください。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%82%AF%E3%82%A4%E3%83%83%E3%82%AF%E3%82%BD%E3%83%BC%E3%83%88" id="reference-761c9b41a1c50066148c">解答例</a></p>

<h2>
<span id="組み合わせ" class="fragment"></span><a href="#%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B"><i class="fa fa-link"></i></a>組み合わせ</h2>

<p>複数のリストから値を取り出すこともできます。多重ループのようにすべての組み合わせが得られます。</p>

<div class="code-frame" data-lang="hs"><div class="highlight"><pre>
<span class="nf">main</span> <span class="ow">=</span> <span class="kr">do</span>
    <span class="n">print</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">|</span> <span class="n">x</span> <span class="ow">&lt;-</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">],</span> <span class="n">y</span> <span class="ow">&lt;-</span> <span class="s">"abc"</span><span class="p">]</span>
</pre></div></div>

<div class="code-frame" data-lang="text">
<div class="code-lang"><span class="bold">実行結果</span></div>
<div class="highlight"><pre>
[(1,'a'),(1,'b'),(1,'c'),(2,'a'),(2,'b'),(2,'c'),(3,'a'),(3,'b'),(3,'c')]
</pre></div>
</div>

<h3>
<span id="練習-8" class="fragment"></span><a href="#%E7%B7%B4%E7%BF%92-8"><i class="fa fa-link"></i></a>練習</h3>

<p>【問11】三辺の長さが各20以下の整数で構成される直角三角形を列挙してください。並び順による重複を排除する必要はありません。</p>

<p>ヒント: 直角三角形の成立条件は三平方（ピタゴラス）の定理です。</p>

<p>⇒ <a href="http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E7%9B%B4%E8%A7%92%E4%B8%89%E8%A7%92%E5%BD%A2%E3%81%AE%E4%B8%89%E8%BE%BA" id="reference-761c9b41a1c50066148c">解答例</a></p>
<div class="hidden"><form class="js-task-list-update" action="/7shi/items/145f1234f8ec2af923ef" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="_method" value="patch" /><input type="hidden" name="authenticity_token" value="omc9832Y/XhUS8e6tqI+UaPPuXRoQPEEiFXcJPwwpa3W0KhP9VU/q4MwXMxc4qco0w4myY3pZRmfUhJnwHMvCA==" /><input type="hidden" name="updated_at_confirmation_in_unixtime" id="updated_at_confirmation_in_unixtime" value="1484128375" class="js-task-list-updated-at" /><textarea name="raw_body" id="raw_body" class="js-task-list-field">
Haskellで簡単なプログラムを書くのに最低限必要な基礎文法を取り上げます。練習では再帰に慣れることに重点を置きます。再帰によるリスト処理の例として各種ソート（挿入ソート、バブルソート、マージソート、クイックソート）を紹介します。ラムダやモナドなどの発展的な内容には触れませんのでご了承ください。

シリーズの記事です。

1. Haskell 超入門 ← この記事
1. [Haskell 代数的データ型 超入門](http://qiita.com/7shi/items/1ce76bde464b4a55c143)
1. [Haskell アクション 超入門](http://qiita.com/7shi/items/85afd7bbd5d6c4115ad6)
1. [Haskell ラムダ 超入門](http://qiita.com/7shi/items/1345bf32003faff435cb)
1. [Haskell アクションとラムダ 超入門](http://qiita.com/7shi/items/4a8a2807bb5186576c61)
1. [Haskell IOモナド 超入門](http://qiita.com/7shi/items/d3d3492ddd90d47160f2)
1. [Haskell リストモナド 超入門](http://qiita.com/7shi/items/deb19c4cba933590ffbf)
1. [Haskell Maybeモナド 超入門](http://qiita.com/7shi/items/c7d7eec066af0fe0688d)
1. [Haskell 状態系モナド 超入門](http://qiita.com/7shi/items/2e9bff5d88302de1a9e9)
1. [Haskell モナド変換子 超入門](http://qiita.com/7shi/items/4408b76624067c17e933)
1. [Haskell 例外処理 超入門](http://qiita.com/7shi/items/73e534c47bbebc71b37e)
1. [Haskell 構文解析 超入門](http://qiita.com/7shi/items/b8c741e78a96ea2c10fe)
1. 【予定】Haskell 継続モナド 超入門
1. 【予定】Haskell 型クラス 超入門
1. 【予定】Haskell モナドとゆかいな仲間たち
1. 【予定】Haskell Freeモナド 超入門
1. 【予定】Haskell Operationalモナド 超入門
1. 【予定】Haskell Effモナド 超入門
1. 【予定】Haskell アロー 超入門

練習の解答例は別記事に掲載します。

* [【解答例】Haskell 超入門](http://qiita.com/7shi/items/0ece8c3394e1328267ed)

コードを試す環境としてLeksahをご紹介します。

* [Haskell IDE Leksah 入門](http://qiita.com/7shi/items/d1e5a0c22be6cf61d286)

応用編です。実際にプログラムを作ります。

* [Haskellによる8086逆アセンブラ開発入門](http://qiita.com/7shi/items/026839b2bc193dbfb0cb)
* [Haskellによる代数計算入門](http://qiita.com/7shi/items/096396f0007857676515)

番外編です。練習問題はありません。

* [HUnit 超入門](http://qiita.com/7shi/items/9fb326a87de6c3083784)
* [関数合成を機械的に扱う試み](http://qiita.com/7shi/items/f2c1365b792aa6046a49)
* [モナド則がちょっと分かった？](http://qiita.com/7shi/items/547b6137d7a3c482fe68)
* [Stateモナドによるポーランド記法の処理](http://qiita.com/7shi/items/8bed38f45272f194631a)
* [Stateモナドによる逆ポーランド記法の処理](http://qiita.com/7shi/items/0494704d00396687458f)
* [Stateモナドによる中置記法の処理](http://qiita.com/7shi/items/ee5afe4f088f0a1fc8c2)

このシリーズのネタ元にしたりするメモです。

* [Haskellの実験メモ一覧](http://qiita.com/7shi/items/b6cbb7df2dd969c84f49)

この記事にはF#版があります。

* [Haskellで学ぶF#入門](http://qiita.com/7shi/items/1d3750ba17f5a88b8405)

# ハローワールド

```hs:Main.hs
main = do
    print &quot;Hello, World!&quot;
```
```text:実行結果
&quot;Hello, World!&quot;
```

* 関数名 = 処理内容
* `main`には`do`を書きます。

## do

上の例は`do`を付けなくても実行できます。`--`はコメントです。

```hs
main =
    print &quot;Hello, World!&quot; -- OK
```
```text:実行結果
&quot;Hello, World!&quot;
```

`do`がない場合、連続して出力できません。

```hs:NG
main =
    print &quot;Hello,&quot;
    print &quot;World!&quot; -- エラー
```
```text:エラー内容
src/Main.hs:4:5:
    Couldn&#39;t match expected type `(a0 -&gt; IO ()) -&gt; [Char] -&gt; t0&#39;
                with actual type `IO ()&#39;
    The function `print&#39; is applied to three arguments,
    but its type `[Char] -&gt; IO ()&#39; has only one
    In the expression: print &quot;Hello,&quot; print &quot;World!&quot;
    In an equation for `main&#39;: main = print &quot;Hello,&quot; print &quot;World!&quot;
```

連続して出力するには`do`が必要です。

```hs
main = do
    print &quot;Hello,&quot;
    print &quot;World!&quot; -- OK
```
```text:実行結果
&quot;Hello,&quot;
&quot;World!&quot;
```

`do`を理解するにはアクションの知識が必要です。詳細は続編の[Haskell アクション 超入門](http://qiita.com/7shi/items/85afd7bbd5d6c4115ad6)で説明するため、現段階では簡単な説明で先送りとします。

* `main`では何度も文字が出力できるように`do`を付けた方が無難。

# 束縛

Haskellの変数は後で別の値を再代入することができません。そのため代入ではなく**束縛**という用語を使います。

※ 値が変更できないので変数は存在しないという見解もありますが、ここでは変数は必ずしも値が変更できることを意味しないという立場を取ります。（[参考1](https://twitter.com/igrep/status/753946652352708609)、[参考2](https://twitter.com/fumieval/status/754142523094773760)）

# トップレベル変数

他の言語でのグローバル変数に相当します。キーワードなどはなく、簡単な書き方です。

```hs
a = 1
b = 2
c = a + b

main = do
    print c
```
```text:実行結果
3
```

# ローカル変数

2種類の書き方があります。

## where

使用箇所の下で定義します。独特な書き方です。

```hs
main = do
    print c
    where
        a = 1
        b = 2
        c = a + b
```
```text:実行結果
3
```

## let

定義してから使用します。

```hs:doあり
main = do
    let a = 1
        b = 2
        c = a + b
    print c
```
```text:実行結果
3
```

`do`がなければ最後に`in`が必要になります。

```hs:doなし
main =
    let a = 1
        b = 2
        c = a + b in
    print c
```
```text:実行結果
3
```

書き方が複数あると混乱するため、今回はなるべく`let`は避けて`where`を使います。

# 関数

数学の $f(x)=x+1$ や $f(1)$ の括弧がない版だとイメージしてください。C言語の`return`に相当するキーワードは使いません。

※ `return`は存在しますが別の意味です。詳細は続編の[Haskell アクション 超入門](http://qiita.com/7shi/items/85afd7bbd5d6c4115ad6)で説明します。

```hs
f x = x + 1
a = f 1

main = do
    print a
```
```text:実行結果
2
```

`a`を経由せずに`print`に直接`f 1`を渡すには、括弧で囲みます。

```hs
f x = x + 1

main = do
    print (f 1)
```
```text:実行結果
2
```

## $

閉じ括弧を省略するための`$`という書式があります。`$`から行末までを括弧で囲むのと同じ効果があります。

```hs
main = do
    print (f 1)
    print $ f 1
```

以後、`print`では基本的に`$`を使います。

## 関数の演算子化

2つの引数を取る関数を`` ` ``で囲むと中置演算子として使用できます。

```hs
add x y = x + y

main = do
    print $ add 1 2
    print $ 1 `add` 2
```
```text:実行結果
3
3
```

## 演算子の関数化

さっきの逆です。中置演算子を`()`で囲むと関数として使用できます。

```hs
main = do
    print $ 1 + 2
    print $ (+) 1 2
```
```text:実行結果
3
3
```

# 四則演算

```hs
main = do
    print $ 5 + 2
    print $ 5 - 2
    print $ 5 * 2
    print $ 5 / 2
    print $ div 5 2
    print $ mod 5 2
    print $ 5 `div` 2
    print $ 5 `mod` 2
```
```text:実行結果
7
3
10
2.5
2
1
2
1
```

* `/`による割り算は結果を浮動小数点数で返します。
* 割り算の商は`div`、剰余は`mod`で求めます。

# 命名規則

変数と関数は名前を小文字で始める必要があります。

大文字で始めるとエラーになります。

```hs
A = 1
F x = x + 1
```
```text:エラー内容
src\Main.hs:1:1: Not in scope: data constructor `A&#39;
src\Main.hs:2:1: Not in scope: data constructor `F&#39;
```

※ 他言語ではコーディング規約として扱われる内容ですが、Haskellでは文法的に決められています。

# if - then - else

まず、一行で書いてみます。

```hs
a = 1

main = do
    if a == 1 then print &quot;1&quot; else print &quot;?&quot;
```
```text:実行結果
&quot;1&quot;
```

※ 「等しい」は`==`、「等しくない」は`/=`です。後者は記号≠に由来します。

複数行で書く場合、`if`に対して`then`や`else`がぶら下がっていることを示すため、`then`や`else`のインデントを`if`より右にずらす必要があります。

```hs
a = 1

main = do
    if a == 1
        then print &quot;1&quot;
        else print &quot;?&quot;
```
```text:実行結果
&quot;1&quot;
```

※ `do`がなければ別の書き方ができますが、書き方が複数あると混乱するため説明を省略します。

## 値を返す

`if`は値を返すため、C言語の三項演算子のように使えます。

```hs
a = 1

main = do
    print $ if a == 1 then &quot;1&quot; else &quot;?&quot;
```
```text:実行結果
&quot;1&quot;
```

関数の定義と組み合わせた例です。

```hs
f a = if a == 1 then &quot;1&quot; else &quot;?&quot;

main = do
    print $ f 0
    print $ f 1
```
```text:実行結果
&quot;?&quot;
&quot;1&quot;
```

# パターンマッチ

関数内の全体を`if`で切り分ける代わりに、特定の引数を指定して関数を分割定義できます。このような書き方を**パターンマッチ**と呼びます。

```hs
f 1 = &quot;1&quot;
f a = &quot;?&quot;

main = do
    print $ f 0
    print $ f 1
```
```text:実行結果
&quot;?&quot;
&quot;1&quot;
```

値を無視する引数は`_`と書くことで、値を無視していることを明示します。

```hs
f 1 = &quot;1&quot;
f _ = &quot;?&quot;
```

これは独特な書き方のため、慣れが必要です。

## 階乗

例としてよく引き合いに出されます。

```hs
fact 0 = 1
fact n = n * fact (n - 1)

main = do
    print $ fact 5
```
```text:実行結果
120
```

`fact`の中で`fact`を呼んでいます。このような流れを**再帰**と言います。再帰は往復で処理されるため往路と復路に分けて考えます。

再帰の往路をトレースします。

1. `fact 5 = 5 * fact 4`
1. `fact 4 = 4 * fact 3`
1. `fact 3 = 3 * fact 2`
1. `fact 2 = 2 * fact 1`
1. `fact 1 = 1 * fact 0`
1. `fact 0 = 1`

`fact 0`が折り返し点となり、反転して復路に入ります。

1. `fact 1 = 1 * fact 0 = 1 * 1 = 1`
1. `fact 2 = 2 * fact 1 = 2 * 1 = 2`
1. `fact 3 = 3 * fact 2 = 3 * 2 = 6`
1. `fact 4 = 4 * fact 3 = 4 * 6 = 24`
1. `fact 5 = 5 * fact 4 = 5 * 24 = 120`

※ 往路だけで復路のない末尾再帰もありますが、今回の範囲を超えるため省略します。

### 簡約

往路をインライン展開すると次のように捉えることができます。

1. `fact 5`
1. `5 * fact 4`
1. `5 * 4 * fact 3`
1. `5 * 4 * 3 * fact 2`
1. `5 * 4 * 3 * 2 * fact 1`
1. `5 * 4 * 3 * 2 * 1 * fact 0`
1. `5 * 4 * 3 * 2 * 1 * 1`
1. `120`

このような式変形を**簡約**と呼びます。

### 基底部・再帰部

折り返し点となる定義を基底部、自分自身を呼び出している定義を再帰部と呼びます。

* 基底部: `fact 0 = 1`
* 再帰部: `fact n = n * fact (n - 1)`

## コツ

再帰の取り扱いにはパターンがあります。そこを意識するのがコツです。

### 作り方のコツ

1. 基底部を定義
2. 具体例に当てはめて一般化する

まず基底部を定義します。自然数を指定するタイプでは値が減少しながら再帰を繰り返すのが定石で、これ以上減少できない最小値が基底部となります。

階乗について考えます。マイナスの階乗が定義されていないため、計算可能な最小の階乗は $0!$ です。このことから基底部を定義します。

```hs:基底部
fact 0 = 1
```

再帰部は具体例を通して考えるのがコツです。たとえば5の階乗を考えます。

```math:具体例
5! = 5 \times 4 \times 3 \times 2 \times 1
```

再帰は引数を5から0に向かって減少させて処理します。1つ小さい引数（この場合は4）の結果を利用するのが定石です。このパターンで表すため、5の階乗を4の階乗で表せないか考えます。

```math:式変形
5! = 5 \times (4 \times 3 \times 2 \times 1) = 5 \times 4!
```

特定の数（この場合は5）での関係が得られました。これを一般化して5を$n$に置き換えます。4は$n-1$です。このように隣接する項目との関係で表された式を[漸化式](http://ja.wikipedia.org/wiki/%E6%BC%B8%E5%8C%96%E5%BC%8F)と呼びます。

```math:漸化式
n! = n \times (n-1)!
```

漸化式をコード化すれば再帰部が得られます。

```hs:再帰部
fact n = n * fact (n - 1)
```

このように基底部と再帰部は順を追って別々に作ることになるため、パターンマッチで定義を分離させる書き方と相性が良いです。

※ 数学の問題であれば得られた式を[数学的帰納法](http://ja.wikipedia.org/wiki/%E6%95%B0%E5%AD%A6%E7%9A%84%E5%B8%B0%E7%B4%8D%E6%B3%95)で証明することが求められますが、今回はプログラミングの練習が目的なので、いくつか具体例で動作確認して済ませます。

### 確認のコツ

一旦書き上げたプログラムを確認するコツです。既存のコードを読むときにも使えます。

再帰の流れは追わずに、結果が信頼できるものと見なして具体例で考えます。

```hs
fact n = n * fact (n - 1)
```

1. `fact 5 = 5 * fact 4`
2. `fact 4`は定義より`4! = 24`が返されると考えます。
3. `5 * 24 = 120`

次に再帰を使った練習問題をやるので、この方法を試してみてください。

## 練習

フィボナッチ数は`0, 1`が初期値として与えられ、それ以降は前2つの数字を合計して得られる数列です。

* 0, 1, 1, 2, 3, 5, 8, 13, 21, ...

【問1】任意のn番目のフィボナッチ数を計算する関数`fib`をパターンマッチで実装してください。最初の0は0番目とします。

ヒント: 基底部は1つとは限りません。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%83%9E%E3%83%83%E3%83%81)

# ガード

1つの関数定義に引数の条件を列挙するガードという書き方があります。

```hs
fact n
    | n == 0    = 1
    | otherwise = n * fact (n - 1)

main = do
    print $ fact 5
```
```text:実行結果
120
```

こちらも独特な書き方のため、慣れが必要です。

## = の位置

引数の直後に`=`を書かないのは混乱を招くかもしれませんが、その間に条件が割り込んでいるためです。

一行で書いたものを対比してみます。

```hs
fact n          = 1
fact n | n == 0 = 1
       ^^^^^^^^
```

## 練習

【問2】問1で実装した関数をガードで書き直してください。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%82%AC%E3%83%BC%E3%83%89)

# 使い分け

慣習的にパターンマッチとガードは使い分けがされています。厳密に決まっているわけではありませんが、目安を示します。

1. まずパターンマッチで書けないか試します。
2. 範囲指定（例: `n &lt; 5`）など式が必要でパターンマッチが使えない場合、ガードを使います。
3. パターンマッチで大まかに振り分けた後、ガードで細かく振り分けるというように、併用するケースもあります。

C言語などをご存知の方はおおまかに次のように考えるとイメージしやすいかもしれません。

* パターンマッチは `switch` - `case` の機能強化版
* ガードは `if` - `else if` の羅列

## 併用

上で実装した`fact`に負の数を渡すと無限ループになります。対策としてパターンマッチとガードを併用して引数を制限します。

```hs
fact 0 = 1
fact n | n &gt; 0 = n * fact (n - 1)

main = do
    print $ fact (-1)
```
```text:実行結果（エラー）
Main.hs:(1,1)-(2,33): Non-exhaustive patterns in function fact
```

パターンマッチがガードで制限されるため、`(-1)`はどのパターンにもマッチせずにエラーとなります。

※ Erlangという言語では、このようなスタイルを非防御的プログラミング（non-defensive programming）と呼ぶそうです。

* 出典: [オープンソースアプリケーションのアーキテクチャ 15.1](https://github.com/m-takagi/aosa-ja)

エラーが起きないように処理する方法については、続編の[Haskell Maybeモナド 超入門](http://qiita.com/7shi/items/c7d7eec066af0fe0688d#guard)で説明します。

# case - of

関数の中でパターンマッチを行います。`=`ではなく`-&gt;`を使います。

```hs
fact n = case n of
    0 -&gt; 1
    _ | n &gt; 0 -&gt; n * fact (n - 1)

main = do
    print $ fact 5
```
```text:実行結果
120
```

※ 引数で`n`として受けているため、`case`中のパターンマッチでは`_`として受け流しています。

大抵は関数レベルのパターンマッチとガードで済んでしまうため、使用頻度はそれほど高くありません。

## 練習

【問3】問1で実装した関数を`case`-`of`で書き直してください。無限ループを防ぐためガードを追加してください。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#case---of)

# リスト

他言語の配列と似たようなものです。

```hs
main = do
    print [1, 2, 3, 4, 5]
```
```text:実行結果
[1,2,3,4,5]
```

※ Haskellではリストとは別に配列もあります。詳細は続編の[Haskell アクション 超入門](http://qiita.com/7shi/items/85afd7bbd5d6c4115ad6)で説明します。

## !!

リストから要素を取り出すには`!!`を使います。先頭の要素は0番目です。

```hs
main = do
    print $ [1, 2, 3, 4, 5] !! 3
```
```text:実行結果
4
```

## 連番

連番リストを生成する専用の書き方があります。

```hs
main = do
    print [1..5]
```
```text:実行結果
[1,2,3,4,5]
```

## ++

`++`によりリスト同士を結合できます。

```hs
main = do
    print $ [1, 2, 3] ++ [4, 5]
```
```text:実行結果
[1,2,3,4,5]
```

## :

`:`によりリストの先頭に要素を挿入できます。

```hs
main = do
    print $ 1:[2..5]
```
```text:実行結果
[1,2,3,4,5]
```

複数の先頭要素を連ねることもできます。

```hs
main = do
    print $ 1:2:[3..5]
```
```text:実行結果
[1,2,3,4,5]
```

`:`では末尾に追加できないため`++`を使用します。

```hs
main = do
    print $ [1..4] ++ [5]
```
```text:実行結果
[1,2,3,4,5]
```

## 文字列

文字列は文字のリストとして扱われます。

```hs
main = do
    print $ &quot;abcde&quot;
    print $ [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]
    print $ [&#39;a&#39;..&#39;e&#39;]
    print $ &#39;a&#39;:&quot;bcde&quot;
    print $ &#39;a&#39;:&#39;b&#39;:&quot;cde&quot;
    print $ &quot;abc&quot; ++ &quot;de&quot;
    print $ &quot;abcde&quot; !! 3
```
```text:実行結果
&quot;abcde&quot;
&quot;abcde&quot;
&quot;abcde&quot;
&quot;abcde&quot;
&quot;abcde&quot;
&quot;abcde&quot;
&#39;d&#39;
```

## 引数

引数でリストの先頭要素を取り出せます。

```hs
first (x:xs) = x

main = do
    print $ first [1..5]
    print $ first &quot;abcdef&quot;
```
```text:実行結果
1
&#39;a&#39;
```

`(x:xs)`で先頭`x`とその後ろのリスト`xs`に分割して受け取ります。`xs`は`x`の複数形を意図しています。これらの名前には文法的な意味はなく、あくまで慣習です。

この例では`xs`を使っていないため`_`で未使用を明示した方が無難です。

```hs
first (x:_) = x
```

先頭要素は複数を連ねることもできます。

```hs
second (_:x:_) = x

main = do
    print $ second [1..5]
    print $ second &quot;abcdef&quot;
```
```text:実行結果
2
&#39;b&#39;
```

# リスト関係の関数

## length

リストの要素数を取得します。

```hs
main = do
    print $ length [1, 2, 3]
```
```text:実行結果
3
```

## sum

リストの要素をすべて足します。

```hs
main = do
    print $ sum [1..5]
```
```text:実行結果
15
```

## product

`sum`が足し算なら、`product`は掛け算です。

```hs
main = do
    print $ product [1..5]
```
```text:実行結果
120
```

## take

リストから先頭のn個を抽出します。

```hs
main = do
    print $ take 2 [1, 2, 3]
```
```text:実行結果
[1,2]
```

## drop

リストから先頭のn個を落とします。

```hs
main = do
    print $ drop 2 [1, 2, 3]
```
```text:実行結果
[3]
```

## reverse

リストの要素を逆に並べます。

```hs
main = do
    print $ reverse [1..5]
```
```text:実行結果
[5,4,3,2,1]
```

## 練習

`length`と同じ機能の関数`length&#39;`を再実装する例です。

※ 関数名の`&#39;`（ダッシュまたはプライム）は名前の一部で、数学の`a`に対する`a&#39;`の感覚です。

```hs
length&#39; []     = 0
length&#39; (_:xs) = 1 + length&#39; xs

main = do
    print $ length&#39; [1, 2, 3]
```
```text:実行結果
3
```

【問4】`sum`, `product`, `take`, `drop`, `reverse`と同じ機能の関数を再実装してください。関数名には`&#39;`を付けてください。

ヒント: リストを再帰で処理するパターンは`f (x:xs) = x ... f xs`です。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E5%86%8D%E5%AE%9F%E8%A3%85)

【問5】`product`を使って`fact`（階乗）を実装してください。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E9%9A%8E%E4%B9%97)

# タプル

関数で複数の値を返すことができます。括弧で複数の値を囲んだ部分を**タプル**と呼びます。

```hs
addsub x y = (x + y, x - y)

main = do
    print $ addsub 1 2
```
```text:実行結果
(3,-1)
```

タプルは全体でも分割でも受け取れます。

```hs
addsub x y = (x + y, x - y)
a = addsub 1 2
(a1, a2) = addsub 1 2

main = do
    print a
    print a1
    print a2
```
```text:実行結果
(3,-1)
3
-1
```

数学の座標をイメージすると良いでしょう。

* $P=(1,2)$
* $(x,y)=(1,2)$ ⇔ $x=1,y=2$

## リストとの比較

* リストの項目数は任意ですが、タプルでは固定です。
* リストの要素はすべて同じ型でないといけませんが、タプルでは任意です。
    * × `[1, &quot;a&quot;]`
    * ○ `(1, &quot;a&quot;)`

## 関数

要素が2つのタプルから値を取り出す関数`fst`, `snd`があります。

```hs
main = do
    let p2 = (1, 2)
    print $ fst p2
    print $ snd p2
```
```text:実行結果
1
2
```

要素が3つ以上のタプルからは変数経由で値を取り出します。

```hs
main = do
    let p3 = (1, 2, 3)
    print p3
    let (_, _, p3z) = p3
    print p3z
```
```text:実行結果
(1,2,3)
3
```

※ リストのように`!!`で値を取り出すことはできません。

## 練習

【問6】点 $(p, q)$ から直線 $ax + by = c$ に下した垂線の交点を求める関数`perpPoint`を作成してください。aとbが両方ゼロになると解なしですが、チェックせずに無視してください。

ヒント: $ax + by = c$ の傾きは $-\frac{a}{b}$ です。直交する直線の傾きとの積が $-1$ となることから、垂線は $bx - ay = d$ と表せます。連立方程式を解けば交点が求まります。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E5%9E%82%E7%B7%9A%E3%81%AE%E4%BA%A4%E7%82%B9)

# import

ライブラリを読み込みます。

`Data.Char`（[リファレンス](https://hackage.haskell.org/package/base-4.7.0.0/docs/Data-Char.html)）で定義されている関数を使う例です。

* `ord`: 文字から文字コードを取得
* `chr`: 文字コードから文字に変換

```hs
import Data.Char

main = do
    print $ ord &#39;A&#39;
    print $ chr 65
```
```text:実行結果
65
&#39;A&#39;
```

## 練習

【問7】[ROT13](http://ja.wikipedia.org/wiki/ROT13)を実装してください。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#rot13)

# ソート

挿入ソートの実装例を示します。

```hs
insert x [] = [x]
insert x (y:ys)
    | x &lt; y     = x:y:ys
    | otherwise = y : insert x ys

isort []     = []
isort (x:xs) = insert x (isort xs)

main = do
    print $ isort [4, 6, 9, 8, 3, 5, 1, 7, 2]
```
```text:実行結果
[1,2,3,4,5,6,7,8,9]
```

処理の流れを説明します。

```hs
isort []     = []
isort (x:xs) = insert x (isort xs)
```

リストの先頭の要素を取り出しながら再帰することで、リストの要素を順番に挿入して行きます。

リスト`[4, 6, 9, 8, 3, 5, 1, 7, 2]`の往路をトレースします。

1. `isort [4, 6, 9, 8, 3, 5, 1, 7, 2] = insert 4 (isort [6, 9, 8, 3, 5, 1, 7, 2])`
1. `isort [6, 9, 8, 3, 5, 1, 7, 2] = insert 6 (isort [9, 8, 3, 5, 1, 7, 2])`
1. `isort [9, 8, 3, 5, 1, 7, 2] = insert 9 (isort [8, 3, 5, 1, 7, 2])`
1. `isort [8, 3, 5, 1, 7, 2] = insert 8 (isort [3, 5, 1, 7, 2])`
1. `isort [3, 5, 1, 7, 2] = insert 3 (isort [5, 1, 7, 2])`
1. `isort [5, 1, 7, 2] = insert 5 (isort [1, 7, 2])`
1. `isort [1, 7, 2] = insert 1 (isort [7, 2])`
1. `isort [7, 2] = insert 7 (isort [2])`
1. `isort [2] = insert 2 (isort [])`
1. `isort [] = []`

`insert`の第2引数は必ず`isort`でソートされたリストが渡されます。

挿入先のリストはソート済みであることを前提にできるため、挿入箇所の判定は後続要素との比較だけで済みます。

再帰により挿入先のリストの要素と順番に比較していきます。末尾に達すると`ys = []`となるため、そこに挿入します。

```hs
insert x [] = [x]
insert x (y:ys)
    | x &lt; y     = x:y:ys
    | otherwise = y : insert x ys
```

例を示します。

1. `insert 3 [1, 2, 5, 7]` 次へ
1. `1: insert 3 [2, 5, 7]` 次へ
1. `1: 2: insert 3 [5, 7]` ここへ挿入
1. `1: 2: 3: [5, 7]`
1. `[1, 2, 3, 5, 7]`

復路をトレースします。

1. `isort [2] = insert 2 []`
1. `isort [7, 2] = insert 7 [2]`
1. `isort [1, 7, 2] = insert 1 [2, 7]`
1. `isort [5, 1, 7, 2] = insert 5 [1, 2, 7]`
1. `isort [3, 5, 1, 7, 2] = insert 3 [1, 2, 5, 7]`
1. `isort [8, 3, 5, 1, 7, 2] = insert 8 [1, 2, 3, 5, 7]`
1. `isort [9, 8, 3, 5, 1, 7, 2] = insert 9 [1, 2, 3, 5, 7, 8]`
1. `isort [6, 9, 8, 3, 5, 1, 7, 2] = insert 6 [1, 2, 3, 5, 7, 8, 9]`
1. `isort [4, 6, 9, 8, 3, 5, 1, 7, 2] = insert 4 [1, 2, 3, 5, 6, 7, 8, 9]`
1. `[1, 2, 3, 4, 5, 6, 7, 8, 9]`

このように要素を1つずつソートされたリストに挿入しています。

## 確認のコツ

再帰の確認のコツを説明しましたが、挿入ソートに適用してみます。具体例を使って、結果が信頼できるものと見なします。

```hs
isort (x:xs) = insert x (isort xs)
```

1. `isort [3, 5, 1, 7, 2] = insert 3 (isort [5, 1, 7, 2])`
2. `isort [5, 1, 7, 2]`は定義よりソート済みの`[1, 2, 5, 7]`が返されると考えます。
3. `insert 3 [1, 2, 5, 7] = [1, 2, 3, 5, 7]`

## デバッグ

`Debug.Trace.trace`を使えば途中経過を表示できます。

```hs:使い方
trace 表示する文字列 戻り値
```

簡単な例を示します。

```hs
import Debug.Trace

test x = trace (&quot;test &quot; ++ show x) x

main = do
    traceIO $ show $ test 5
```
```text:実行結果
test 5
5
```

* `show`は様々な型を文字列に変換する関数です。
* Leksahでは標準出力と標準エラー出力が混ざると表示がおかしくなるため、`print`ではなく`traceIO`を使っています。
* `traceIO`は文字列しか受け付けないため、`show`で変換しています。

挿入ソートをトレースしてみます。

```hs
import Debug.Trace

insert x [] = [x]
insert x (y:ys)
    | x &lt; y     = x:y:ys
    | otherwise = y : insert x ys

isort []     = []
isort (x:xs) = trace dbg1 $ trace dbg2 ret
    where
        ret = insert x xs&#39;
        xs&#39; = isort xs
        dbg1 = &quot;isort &quot; ++ show (x:xs) ++ &quot; = &quot; ++
               &quot;insert &quot; ++ show x ++
               &quot; (isort &quot; ++ show xs ++ &quot;)&quot;
        dbg2 = &quot;insert &quot; ++ show x ++ &quot; &quot; ++ show xs&#39; ++
               &quot; = &quot; ++ show ret

main = do
    traceIO $ show $ isort [4, 6, 9, 8, 3, 5, 1, 7, 2]
```
```text:実行結果
isort [4,6,9,8,3,5,1,7,2] = insert 4 (isort [6,9,8,3,5,1,7,2])
isort [6,9,8,3,5,1,7,2] = insert 6 (isort [9,8,3,5,1,7,2])
isort [9,8,3,5,1,7,2] = insert 9 (isort [8,3,5,1,7,2])
isort [8,3,5,1,7,2] = insert 8 (isort [3,5,1,7,2])
isort [3,5,1,7,2] = insert 3 (isort [5,1,7,2])
isort [5,1,7,2] = insert 5 (isort [1,7,2])
isort [1,7,2] = insert 1 (isort [7,2])
isort [7,2] = insert 7 (isort [2])
isort [2] = insert 2 (isort [])
insert 2 [] = [2]
insert 7 [2] = [2,7]
insert 1 [2,7] = [1,2,7]
insert 5 [1,2,7] = [1,2,5,7]
insert 3 [1,2,5,7] = [1,2,3,5,7]
insert 8 [1,2,3,5,7] = [1,2,3,5,7,8]
insert 9 [1,2,3,5,7,8] = [1,2,3,5,7,8,9]
insert 6 [1,2,3,5,7,8,9] = [1,2,3,5,6,7,8,9]
insert 4 [1,2,3,5,6,7,8,9] = [1,2,3,4,5,6,7,8,9]
[1,2,3,4,5,6,7,8,9]
```

`trace`を2回使うことで、往路と復路が確認できるように表示しています。

## 練習

【問8】[バブルソート](http://www.ics.kagoshima-u.ac.jp/~fuchida/edu/algorithm/sort-algorithm/bubble-sort.html)を実装してください。

ヒント: 交換する関数とソートする関数を分離して実装します。

⇒ [詳細説明](http://qiita.com/7shi/items/1e2a66bf8e8c7f0bd70f), [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%83%90%E3%83%96%E3%83%AB%E3%82%BD%E3%83%BC%E3%83%88)

【問9】[マージソート](http://www.ics.kagoshima-u.ac.jp/~fuchida/edu/algorithm/sort-algorithm/merge-sort.html)を実装してください。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%83%9E%E3%83%BC%E3%82%B8%E3%82%BD%E3%83%BC%E3%83%88)

# リスト内包表記

リストの要素すべてに同じ処理を施した別のリストを作成します。

```hs
fact 0 = 1
fact n | n &gt; 0 = n * fact (n - 1)

main = do
    print [1, 2, 3, 4, 5]
    print [fact 1, fact 2, fact 3, fact 4, fact 5]
    print [fact x | x &lt;- [1..5]]
```
```text:実行結果
[1,2,3,4,5]
[1,2,6,24,120]
[1,2,6,24,120]
```

`[1..5]`の要素を1つずつ`x`として取り出して、`fact x`として処理したリストを作成しています。

※ 同じことができる`map`という関数もあります。詳細は続編の[Haskell ラムダ 超入門](http://qiita.com/7shi/items/1345bf32003faff435cb)で説明します。

## 条件

要素を取り出す際に条件を指定できます。

```hs
main = do
    print [x | x &lt;- [1..9], x &lt; 5]
```
```text:実行結果
[1,2,3,4]
```

`[1..9]`のうち`x &lt; 5`を満たすものだけでリストを作成しています。

※ 同じことができる`filter`という関数もあります。詳細は続編の[Haskell ラムダ 超入門](http://qiita.com/7shi/items/1345bf32003faff435cb)で説明します。

### 練習

Haskellの特徴を示す例として、クイックソートがよく引き合いに出されます。

```hs
qsort []     = []
qsort (n:xs) = qsort lt ++ [n] ++ qsort gteq
    where
        lt   = [x | x &lt;- xs, x &lt;  n]
        gteq = [x | x &lt;- xs, x &gt;= n]

main = do
    print $ qsort [4, 6, 9, 8, 3, 5, 1, 7, 2]
```
```text:実行結果
[1,2,3,4,5,6,7,8,9]
```

【問10】処理の流れを説明してください。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E3%82%AF%E3%82%A4%E3%83%83%E3%82%AF%E3%82%BD%E3%83%BC%E3%83%88)

## 組み合わせ

複数のリストから値を取り出すこともできます。多重ループのようにすべての組み合わせが得られます。

```hs
main = do
    print [(x, y) | x &lt;- [1..3], y &lt;- &quot;abc&quot;]
```
```text:実行結果
[(1,&#39;a&#39;),(1,&#39;b&#39;),(1,&#39;c&#39;),(2,&#39;a&#39;),(2,&#39;b&#39;),(2,&#39;c&#39;),(3,&#39;a&#39;),(3,&#39;b&#39;),(3,&#39;c&#39;)]
```

### 練習

【問11】三辺の長さが各20以下の整数で構成される直角三角形を列挙してください。並び順による重複を排除する必要はありません。

ヒント: 直角三角形の成立条件は三平方（ピタゴラス）の定理です。

⇒ [解答例](http://qiita.com/7shi/items/0ece8c3394e1328267ed#%E7%9B%B4%E8%A7%92%E4%B8%89%E8%A7%92%E5%BD%A2%E3%81%AE%E4%B8%89%E8%BE%BA)
</textarea><input type="submit" name="commit" value="Save changes" data-disable-with="Save changes" /></form></div></section></div><div class="col-sm-3"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Haskell 超入門 by @7shi on @Qiita" data-url="http://qiita.com/7shi/items/145f1234f8ec2af923ef" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Haskell 超入門" href="http://b.hatena.ne.jp/entry/http://qiita.com/7shi/items/145f1234f8ec2af923ef" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/7shi/items/145f1234f8ec2af923ef" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/7shi/items/145f1234f8ec2af923ef" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div><section class="itemsShowAuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><a href="/7shi"><img alt="" class="itemsShowAuthorInfo_userIcon" itemprop="image" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" /></a><div class="itemsShowAuthorInfo_profileStats"><strong class="itemsShowAuthorInfo_userName" itemprop="name"><a itemprop="url" href="/7shi">7shi</a></strong><div class="itemsShowAuthorInfo_contribution"><span class="itemsShowAuthorInfo_count">2539</span><span class="itemsShowAuthorInfo_unit">Contribution</span></div><div data-react-class="T.UserFollowButton" data-react-props="{&quot;url_name&quot;:&quot;7shi&quot;,&quot;initial_followed_by&quot;:false,&quot;size&quot;:&quot;btn-xs&quot;,&quot;position&quot;:&quot;author-info&quot;}"></div></div><section class="itemsShowAuthorPopularItems"><h5 class="itemsShowAuthorPopularItems_sectionTitle">Popular Posts</h5><ul class="itemsShowAuthorPopularItems_posts list-unstyled"><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/145f1234f8ec2af923ef">Haskell 超入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/547b6137d7a3c482fe68">モナド則がちょっと分かった？</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/cac7b3e9b90bf91b00cc">文字列で学ぶC++入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/85afd7bbd5d6c4115ad6">Haskell アクション 超入門</a></li><li itemscope="" itemtype="http://schema.org/Article"> <a itemprop="url" track="click" data-label="AuthorPopularItemsAtSidebar" href="/7shi/items/d1e5a0c22be6cf61d286">Haskell IDE Leksah 入門</a></li></ul></section></section><div class="scroll-chaser"><div class="google-adsense"><style>.test-text-responsible { width: 200px; height: 200px; }@media(min-width: 1200px) {  .test-text-responsible { width: 250px; height: 250px; }}@media(max-width: 979px) and (min-width: 768px) {  .test-text-responsible { width: 120px; height: 240px; }}@media(max-width: 767px) {  .test-text-responsible { width: 320px; height: 50px; }}</style><script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><ins class="adsbygoogle test-text-responsible" data-ad-client="ca-pub-8127218772604357" data-ad-slot="3880091879" style="display:inline-block"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script></div></div><div data-react-class="T.Toc" data-react-props="{&quot;body&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%8F%E3%83%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%AB%E3%83%89\&quot;\u003eハローワールド\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#do\&quot;\u003edo\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%9D%9F%E7%B8%9B\&quot;\u003e束縛\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%88%E3%83%83%E3%83%97%E3%83%AC%E3%83%99%E3%83%AB%E5%A4%89%E6%95%B0\&quot;\u003eトップレベル変数\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E5%A4%89%E6%95%B0\&quot;\u003eローカル変数\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#where\&quot;\u003ewhere\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#let\&quot;\u003elet\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E9%96%A2%E6%95%B0\&quot;\u003e関数\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#\&quot;\u003e$\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E9%96%A2%E6%95%B0%E3%81%AE%E6%BC%94%E7%AE%97%E5%AD%90%E5%8C%96\&quot;\u003e関数の演算子化\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%BC%94%E7%AE%97%E5%AD%90%E3%81%AE%E9%96%A2%E6%95%B0%E5%8C%96\&quot;\u003e演算子の関数化\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%9B%9B%E5%89%87%E6%BC%94%E7%AE%97\&quot;\u003e四則演算\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%91%BD%E5%90%8D%E8%A6%8F%E5%89%87\&quot;\u003e命名規則\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#if---then---else\&quot;\u003eif - then - else\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%80%A4%E3%82%92%E8%BF%94%E3%81%99\&quot;\u003e値を返す\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%83%9E%E3%83%83%E3%83%81\&quot;\u003eパターンマッチ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E9%9A%8E%E4%B9%97\&quot;\u003e階乗\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B0%A1%E7%B4%84\&quot;\u003e簡約\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%9F%BA%E5%BA%95%E9%83%A8%E5%86%8D%E5%B8%B0%E9%83%A8\&quot;\u003e基底部・再帰部\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%B3%E3%83%84\&quot;\u003eコツ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E4%BD%9C%E3%82%8A%E6%96%B9%E3%81%AE%E3%82%B3%E3%83%84\&quot;\u003e作り方のコツ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%A2%BA%E8%AA%8D%E3%81%AE%E3%82%B3%E3%83%84\&quot;\u003e確認のコツ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%AC%E3%83%BC%E3%83%89\&quot;\u003eガード\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#-%E3%81%AE%E4%BD%8D%E7%BD%AE\&quot;\u003e= の位置\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-1\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E4%BD%BF%E3%81%84%E5%88%86%E3%81%91\&quot;\u003e使い分け\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E4%BD%B5%E7%94%A8\&quot;\u003e併用\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#case---of\&quot;\u003ecase - of\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-2\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%AA%E3%82%B9%E3%83%88\&quot;\u003eリスト\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#-1\&quot;\u003e!!\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E9%80%A3%E7%95%AA\&quot;\u003e連番\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#-2\&quot;\u003e++\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#-3\&quot;\u003e:\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%96%87%E5%AD%97%E5%88%97\&quot;\u003e文字列\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E5%BC%95%E6%95%B0\&quot;\u003e引数\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%AA%E3%82%B9%E3%83%88%E9%96%A2%E4%BF%82%E3%81%AE%E9%96%A2%E6%95%B0\&quot;\u003eリスト関係の関数\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#length\&quot;\u003elength\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#sum\&quot;\u003esum\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#product\&quot;\u003eproduct\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#take\&quot;\u003etake\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#drop\&quot;\u003edrop\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#reverse\&quot;\u003ereverse\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-3\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%BF%E3%83%97%E3%83%AB\&quot;\u003eタプル\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%AA%E3%82%B9%E3%83%88%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83\&quot;\u003eリストとの比較\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E9%96%A2%E6%95%B0-1\&quot;\u003e関数\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-4\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#import\&quot;\u003eimport\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-5\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%BD%E3%83%BC%E3%83%88\&quot;\u003eソート\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%A2%BA%E8%AA%8D%E3%81%AE%E3%82%B3%E3%83%84-1\&quot;\u003e確認のコツ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%87%E3%83%90%E3%83%83%E3%82%B0\&quot;\u003eデバッグ\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-6\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%AA%E3%82%B9%E3%83%88%E5%86%85%E5%8C%85%E8%A1%A8%E8%A8%98\&quot;\u003eリスト内包表記\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%9D%A1%E4%BB%B6\&quot;\u003e条件\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-7\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B\&quot;\u003e組み合わせ\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%B7%B4%E7%BF%92-8\&quot;\u003e練習\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n&quot;,&quot;wrapper&quot;:&quot;#article-body-wrapper&quot;}"></div></div></div><div class="row"><div class="col-sm-9"><div class="ArticleFooter__menu"><div class="s-flex-align-center"><div class="js-likebutton" data-props="{&quot;like_status&quot;:false,&quot;like_count&quot;:822,&quot;show_count&quot;:true,&quot;uuid&quot;:&quot;145f1234f8ec2af923ef&quot;,&quot;likable_type&quot;:&quot;Article&quot;,&quot;position&quot;:&quot;article-footer&quot;}"></div><div class="ArticleFooter__userList"><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="Reds"><a itemprop="url" href="/Reds"><img alt="Reds" class="thumb thumb--xs" src="https://0.gravatar.com/avatar/e751888e30cdc35253c1a3b241977adf?d=https%3A%2F%2Fidenticons.github.com%2F0e2f15414d97b8b642022be91ff105e0.png" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="goldarn_ring"><a itemprop="url" href="/goldarn_ring"><img alt="goldarn_ring" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/24828/profile-images/1473684200" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="quenhulu"><a itemprop="url" href="/quenhulu"><img alt="quenhulu" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/14708/profile-images/1473683459" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="kou_tana77"><a itemprop="url" href="/kou_tana77"><img alt="kou_tana77" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/45958/profile-images/1473690481" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="shinya_131"><a itemprop="url" href="/shinya_131"><img alt="shinya_131" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/9531/profile-images/1473681443" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="SioIkzk"><a itemprop="url" href="/SioIkzk"><img alt="SioIkzk" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/33292/profile-images/1473686091" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="wx257osn2"><a itemprop="url" href="/wx257osn2"><img alt="wx257osn2" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/963/profile-images/1473682384" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="ywatai@github"><a itemprop="url" href="/ywatai@github"><img alt="ywatai@github" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/5240/profile-images/1473681848" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="koji_yusa"><a itemprop="url" href="/koji_yusa"><img alt="koji_yusa" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/31371/profile-images/1473685680" /></a></div></div><div class="ArticleFooter__user"><div class="js-hovercard" data-hovercard-target-name="rentalname@github"><a itemprop="url" href="/rentalname@github"><img alt="rentalname@github" class="thumb thumb--xs" src="https://qiita-image-store.s3.amazonaws.com/0/13697/profile-images/1473682969" /></a></div></div><div class="ArticleFooter__user"><a href="/7shi/items/145f1234f8ec2af923ef/likers"><span class="fa fa-ellipsis-h"></span></a></div></div></div><div class="u-flex u-align-center"><div class="ArticleFooter__stock"><div class="js-stockbutton" data-position="footer_menu" data-props="{&quot;stock_status&quot;:false}"></div></div><div class="ArticleFooter__editRequest"><a class="u-link-no-underline" data-toggle="tooltip" title="You can propose improvements about the article to the author 💪" href="/drafts/145f1234f8ec2af923ef/edit"><span class="fa fa-send-o fa-lg"></span> <span>Edit request</span></a></div><div class="dropdown ArticleFooter__dropdown"><a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h"></span></a><ul class="dropdown-menu dropdown-menu-right"><li><a href="/7shi/items/145f1234f8ec2af923ef.md"><span class="fa fa-fw fa-file-text-o"></span> Show article as Markdown</a></li><li><a data-target=".js-report-form" data-toggle="modal" href="#"><i class="fa fa-fw fa-flag"></i> Report article</a></li></ul></div></div></div><ul class="references js-referencesView"><li class="references_header"><i class="fa fa-fw fa-link"></i> Linked from these articles</li><a class="references_toggleOldReferences js-toggleOldReferences" href="#"><i class="fa fa-expand js-toggleOldReferencesIcon"></i><span class="js-toggleOldReferencesText">Show old 26 links</span></a><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/d1e5a0c22be6cf61d286#_reference-698d229cfba5b33221a1"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell IDE Leksah 入門</a><time class="references_datetime js-dateTimeView" datetime="2014-08-28T06:13:45+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/9fb326a87de6c3083784#_reference-66c2423c506663f12403"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />HUnit 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-08-29T07:39:47+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/026839b2bc193dbfb0cb#_reference-52a67c4347904d6101b9"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskellによる8086逆アセンブラ開発入門</a><time class="references_datetime js-dateTimeView" datetime="2014-08-31T03:15:25+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/0ece8c3394e1328267ed#_reference-61dc42a18db021a7b774"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />【解答例】Haskell 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-08-31T13:12:02+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/1e2a66bf8e8c7f0bd70f#_reference-1b18c4954bf9e66ff6e8"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskellでバブルソート</a><time class="references_datetime js-dateTimeView" datetime="2014-09-18T02:38:40+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/1ce76bde464b4a55c143#_reference-26f1e48591953e08dd4f"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell 代数的データ型 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-09-19T13:08:30+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/096396f0007857676515#_reference-f99e89f962745ed301ce"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskellによる代数計算入門</a><time class="references_datetime js-dateTimeView" datetime="2014-09-19T13:49:35+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/85afd7bbd5d6c4115ad6#_reference-37bb769b51bee39f89ef"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell アクション 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-10-08T15:10:29+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/1345bf32003faff435cb#_reference-be963c71fd93cc37c87e"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell ラムダ 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-11-27T15:18:12+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/4a8a2807bb5186576c61#_reference-964b21a41fbc50de713c"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell アクションとラムダ 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-12-03T06:28:44+00:00">over 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/d3d3492ddd90d47160f2#_reference-5787c71e305337460b24"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell IOモナド 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-12-11T07:10:57+00:00">about 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/deb19c4cba933590ffbf#_reference-882f5e5f52695c577b87"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell リストモナド 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-12-18T17:37:24+00:00">about 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/2e9bff5d88302de1a9e9#_reference-7b493858a8fedddc50bf"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell 状態系モナド 超入門</a><time class="references_datetime js-dateTimeView" datetime="2014-12-27T01:47:02+00:00">about 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/takashi/items/341f195aaed93e1e1ebc#_reference-f0eeada7338f444879d8"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/5767/profile-images/1487045865" />Yコンビネータについて調べた</a><time class="references_datetime js-dateTimeView" datetime="2015-01-02T14:48:13+00:00">about 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/4408b76624067c17e933#_reference-a3d6e385fd22621ae07e"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell モナド変換子 超入門</a><time class="references_datetime js-dateTimeView" datetime="2015-01-04T13:32:38+00:00">about 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/c7d7eec066af0fe0688d#_reference-69e48da1e2a67bca4f5d"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell Maybeモナド 超入門</a><time class="references_datetime js-dateTimeView" datetime="2015-01-22T08:10:00+00:00">about 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/547b6137d7a3c482fe68#_reference-104afa421658694de903"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />モナド則がちょっと分かった？</a><time class="references_datetime js-dateTimeView" datetime="2015-03-12T13:43:09+00:00">almost 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/f2c1365b792aa6046a49#_reference-2e22841698f7d7ad685a"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />関数合成を機械的に扱う試み</a><time class="references_datetime js-dateTimeView" datetime="2015-03-12T14:53:43+00:00">almost 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/b6cbb7df2dd969c84f49#_reference-62ce2308fdbdf7928415"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskellの実験メモ一覧</a><time class="references_datetime js-dateTimeView" datetime="2015-05-07T02:57:57+00:00">almost 2 years ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/8bed38f45272f194631a#_reference-ea0c026b701f801ac461"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Stateモナドによるポーランド記法の処理</a><time class="references_datetime js-dateTimeView" datetime="2015-07-21T06:13:05+00:00">over 1 year ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/0494704d00396687458f#_reference-8d7823b69bed6efd6a9e"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Stateモナドによる逆ポーランド記法の処理</a><time class="references_datetime js-dateTimeView" datetime="2015-07-21T09:06:47+00:00">over 1 year ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/ee5afe4f088f0a1fc8c2#_reference-3d1cadd6d064cf85d7ee"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Stateモナドによる中置記法の処理</a><time class="references_datetime js-dateTimeView" datetime="2015-07-22T09:54:30+00:00">over 1 year ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/73e534c47bbebc71b37e#_reference-ac489ab4916e56cf0dc3"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell 例外処理 超入門</a><time class="references_datetime js-dateTimeView" datetime="2015-07-28T09:19:55+00:00">over 1 year ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/7shi/items/b8c741e78a96ea2c10fe#_reference-cce9533b3dab5d74f48a"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskell 構文解析 超入門</a><time class="references_datetime js-dateTimeView" datetime="2015-07-31T06:47:02+00:00">over 1 year ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/DUxCA/items/26e5a2a776537eaf8de3#_reference-54aa296753122ff69dd9"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/13484/profile-images/1473682852" />【解答例】PureScript超入門</a><time class="references_datetime js-dateTimeView" datetime="2015-08-03T20:27:45+00:00">over 1 year ago</time></li><li class="references_reference js-reference js-oldReference"><span>Linked from </span><a href="/HirofumiYashima/items/2fe32607b47485e77eaa#_reference-3975b9f3cde521fc10a1"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/43487/profile-images/1473689546" />プログラム利用時のすべてのユース・ケース を 完璧に網羅 する 検証テスト なんてありえない！ なら、「論理的」に「プログラムの正しさ・完璧さ」 を 証明する「定理証明支援系言語」か？ ～ その関数型言語 との関係</a><time class="references_datetime js-dateTimeView" datetime="2015-10-21T12:47:20+00:00">over 1 year ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/lotz/items/391f48c363a3f478794c#_reference-a252a188a582cf423e82"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/17134/profile-images/1487948742" />Servant でアクセス制御のWeb DSLを作ってみる</a><time class="references_datetime js-dateTimeView" datetime="2015-12-13T15:04:35+00:00">about 1 year ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/F_cy/items/9c49e351196943e38ad9#_reference-328375f51b860bde725f"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/75448/profile-images/1473700163" />Haskell入門記事備忘録</a><time class="references_datetime js-dateTimeView" datetime="2016-01-24T17:09:59+00:00">about 1 year ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/lotz/items/5cbaca19d90cd168ab43#_reference-e5ec9ea88602c84835e4"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/17134/profile-images/1487948742" />Twitterを巡回していてわかったHaskell初心者が躓きやすいポイント8つ</a><time class="references_datetime js-dateTimeView" datetime="2016-03-19T13:38:13+00:00">12 months ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/spinylobster@github/items/aa11f0bcf726538a08dd#_reference-444f030049cff0fe47a4"><img alt="" width="18" height="18" src="https://secure.gravatar.com/avatar/1f1555fbee6c55cee780d0f0227d28e2?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" />Haskellで「ゼロから作るDeep Learning」（未完）</a><time class="references_datetime js-dateTimeView" datetime="2017-01-04T02:51:50+00:00">2 months ago</time></li><li class="references_reference js-reference"><span>Linked from </span><a href="/7shi/items/1d3750ba17f5a88b8405#_reference-00c8d661f6137bc6c0c2"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823" />Haskellで学ぶF#入門</a><time class="references_datetime js-dateTimeView" datetime="2017-01-11T09:42:47+00:00">about 2 months ago</time></li></ul><div class="itemsShowBody_articleColumnFooter"><div class="socialButtons"><div class="socialButtons_twitter"><a class="twitter-share-button" data-text="Haskell 超入門 by @7shi on @Qiita" data-url="http://qiita.com/7shi/items/145f1234f8ec2af923ef" href="https://twitter.com/share">Tweet</a></div><div class="socialButtons_hatebu"><a class="hatena-bookmark-button" data-hatena-bookmark-layout="simple-balloon" data-hatena-bookmark-title="Haskell 超入門" href="http://b.hatena.ne.jp/entry/http://qiita.com/7shi/items/145f1234f8ec2af923ef" title="Add to Hatena Bookmark"><img alt="Add to Hatena Bookmark" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20" /></a><script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript"></script></div><div class="socialButtons_googlePlus"><div class="g-plusone" data-href="http://qiita.com/7shi/items/145f1234f8ec2af923ef" data-size="medium"></div></div><div class="socialButtons_facebook"><div class="fb-like" data-action="like" data-href="http://qiita.com/7shi/items/145f1234f8ec2af923ef" data-layout="button_count" data-share="false" data-show-faces="false"></div></div><div class="socialButtons_pocket"><a class="pocket-btn" data-lang="en" data-pocket-count="horizontal" data-pocket-label="pocket"></a></div></div></div><div class="itemsShowComment_wrapper" id="comments"><div data-react-class="T.CommentListContainer" data-react-props="{&quot;currentUser&quot;:null,&quot;initialComments&quot;:[{&quot;banned&quot;:false,&quot;body&quot;:&quot;\u003cp\u003e質問\u003cbr\u003e\nHaskellを入門するにあたって前提とする数学知識を教えて頂けませんでしょうか？\u003cbr\u003e\n当方、数学知識は中学生レベルで止まっています。しかし年を重ねるうちに複雑な物事を処理するのに数学的な考え方が必要と強く認識しており、こちらの言語の習得を決意しております。\u003c/p\u003e\n&quot;,&quot;created_at&quot;:&quot;2017-02-26T04:10:04+09:00&quot;,&quot;expanded_references&quot;:&quot;&quot;,&quot;id&quot;:747755,&quot;is_team&quot;:false,&quot;item_id&quot;:113967,&quot;item_type&quot;:&quot;PublicDomainArticle&quot;,&quot;item_uuid&quot;:&quot;145f1234f8ec2af923ef&quot;,&quot;likable&quot;:false,&quot;liked&quot;:false,&quot;public_likes_count&quot;:0,&quot;raw_body&quot;:&quot;質問\nHaskellを入門するにあたって前提とする数学知識を教えて頂けませんでしょうか？\n当方、数学知識は中学生レベルで止まっています。しかし年を重ねるうちに複雑な物事を処理するのに数学的な考え方が必要と強く認識しており、こちらの言語の習得を決意しております。\n&quot;,&quot;reaction_types&quot;:[{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png&quot;,&quot;name&quot;:&quot;+1&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png&quot;,&quot;name&quot;:&quot;pray&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f389.png&quot;,&quot;name&quot;:&quot;tada&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f647.png&quot;,&quot;name&quot;:&quot;bow&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f631.png&quot;,&quot;name&quot;:&quot;scream&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f440.png&quot;,&quot;name&quot;:&quot;eyes&quot;}],&quot;reactions&quot;:[],&quot;team&quot;:null,&quot;team_membership&quot;:null,&quot;updatable&quot;:false,&quot;url&quot;:&quot;http://qiita.com/7shi/items/145f1234f8ec2af923ef#comment-55cbdd7050ddff683a67&quot;,&quot;user&quot;:{&quot;contribution&quot;:0,&quot;created_at&quot;:&quot;2015-02-04T00:04:15+09:00&quot;,&quot;id&quot;:68148,&quot;is_admin&quot;:false,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/68148/profile-images/1476100240&quot;,&quot;suspended&quot;:false,&quot;url_name&quot;:&quot;meatball-pon&quot;},&quot;uuid&quot;:&quot;55cbdd7050ddff683a67&quot;,&quot;via_email&quot;:false},{&quot;banned&quot;:false,&quot;body&quot;:&quot;\u003cp\u003e前提とする数学知識は中学レベルで十分ではないでしょうか。この記事の練習問題に含まれる数学も中学レベルです。記事を書くにあたって、あまり数学的にならないように配慮したつもりです。数学の勉強とは分けて考えた方が良いでしょう。\u003c/p\u003e\n&quot;,&quot;created_at&quot;:&quot;2017-02-26T11:07:16+09:00&quot;,&quot;expanded_references&quot;:&quot;&quot;,&quot;id&quot;:747773,&quot;is_team&quot;:false,&quot;item_id&quot;:113967,&quot;item_type&quot;:&quot;PublicDomainArticle&quot;,&quot;item_uuid&quot;:&quot;145f1234f8ec2af923ef&quot;,&quot;likable&quot;:false,&quot;liked&quot;:false,&quot;public_likes_count&quot;:0,&quot;raw_body&quot;:&quot;前提とする数学知識は中学レベルで十分ではないでしょうか。この記事の練習問題に含まれる数学も中学レベルです。記事を書くにあたって、あまり数学的にならないように配慮したつもりです。数学の勉強とは分けて考えた方が良いでしょう。\n&quot;,&quot;reaction_types&quot;:[{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png&quot;,&quot;name&quot;:&quot;+1&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f64f.png&quot;,&quot;name&quot;:&quot;pray&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f389.png&quot;,&quot;name&quot;:&quot;tada&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f647.png&quot;,&quot;name&quot;:&quot;bow&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f631.png&quot;,&quot;name&quot;:&quot;scream&quot;},{&quot;image_url&quot;:&quot;https://cdn.qiita.com/emoji/twemoji/unicode/1f440.png&quot;,&quot;name&quot;:&quot;eyes&quot;}],&quot;reactions&quot;:[],&quot;team&quot;:null,&quot;team_membership&quot;:null,&quot;updatable&quot;:false,&quot;url&quot;:&quot;http://qiita.com/7shi/items/145f1234f8ec2af923ef#comment-a9ab786ab31879301a59&quot;,&quot;user&quot;:{&quot;contribution&quot;:2539,&quot;created_at&quot;:&quot;2013-11-09T10:32:10+09:00&quot;,&quot;id&quot;:32057,&quot;is_admin&quot;:false,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823&quot;,&quot;suspended&quot;:false,&quot;url_name&quot;:&quot;7shi&quot;},&quot;uuid&quot;:&quot;a9ab786ab31879301a59&quot;,&quot;via_email&quot;:false}],&quot;monthly_public_image_uploadable_size_limit&quot;:null,&quot;total_uploaded_public_image_size_in_current_month&quot;:null,&quot;item&quot;:{&quot;id&quot;:113967,&quot;uuid&quot;:&quot;145f1234f8ec2af923ef&quot;,&quot;suspended&quot;:false,&quot;secret&quot;:false},&quot;owner&quot;:{&quot;url_name&quot;:&quot;7shi&quot;},&quot;is_team&quot;:false,&quot;is_project&quot;:false,&quot;logged_in&quot;:false,&quot;polling&quot;:false,&quot;mention_candidates&quot;:[{&quot;id&quot;:32057,&quot;url_name&quot;:&quot;7shi&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823&quot;},{&quot;id&quot;:68148,&quot;url_name&quot;:&quot;meatball-pon&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/68148/profile-images/1476100240&quot;}]}">Comments Loading...</div></div></div></div></div></article><div class="js-report-form modal fade reportForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Report article</h4></div><div class="modal-body"><form action="/reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="6Oadmre8V+mYaCWXjzH/h0ioiqsgE5plsi6JNq+iIhGcUQgmP3GVOk8TvuFlcWb+OGkVFsW6DnilKUd1k+GotA==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/7shi/items/145f1234f8ec2af923ef" /><input type="hidden" name="item_uuid" id="item_uuid" value="145f1234f8ec2af923ef" /><p>Help us understand the problem. What is going on with this item?</p><br /><div class="form-group"><ul class="list-unstyled"><li><label><input type="radio" name="report_type" id="report_type_spam" value="spam" required="required" /> It&#39;s spam </label></li><li><label><input type="radio" name="report_type" id="report_type_harassment" value="harassment" required="required" /> It&#39;s abusive or harmful </label></li><li><label><input type="radio" name="report_type" id="report_type_inappropriate_content" value="inappropriate_content" required="required" /> It contains inappropriate content </label></li></ul></div><div class="reportForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary reportForm_submitButton"><i class="fa fa-send"></i> Submit</button></div></form></div></div></div></div><script id="js-item" type="application/json">{ "url": "http://qiita.com/7shi/items/145f1234f8ec2af923ef", "id": 113967, "uuid": "145f1234f8ec2af923ef" }</script><script class="js-user" type="application/json">{&quot;id&quot;:32057,&quot;url_name&quot;:&quot;7shi&quot;,&quot;profile_image_url&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/32057/profile-images/1473685823&quot;}</script><script language="JavaScript" src="//cdn.bigmining.com/private/js/qiita_bigmining.js" type="text/javascript"></script></div><footer class="footer"><div class="footer_inner"><div class="footer_container"><ul class="footer_links-left"><li class="footer_link"><a class="footer_copyright" href="http://increments.co.jp">© 2011-2017 Increments Inc.</a></li><li class="footer_link"><a href="http://qiita.com/terms">Terms</a></li><li class="footer_link"><a href="http://qiita.com/privacy">Privacy</a></li><li class="footer_link"><a href="http://help.qiita.com">Help</a></li><li class="footer_link"><a href="https://increments.zendesk.com/anonymous_requests/new">Contact</a></li></ul><ul class="footer_links-right"><li class="footer_link"><a href="http://qiita.com/about">About</a></li><li class="footer_link"><a href="/users">Users</a></li><li class="footer_link"><a href="/tags">Tags</a></li><li class="footer_link"><a href="http://blog.qiita.com">Blog</a></li><li class="footer_link"><a href="http://qiita.com/api/v2/docs">API</a></li><li class="footer_link"><a href="https://teams.qiita.com/">Team</a></li><li class="footer_link"><a href="http://kobito.qiita.com">Kobito</a></li><li class="footer_link"><a class="js-public-form-feedback-link" data-target=".js-feedback-form" data-toggle="modal" href=""><i class="fa fa-heart"></i> Feedback <i class="fa fa-caret-down"></i></a></li></ul></div></div></footer><div class="js-feedback-form modal fade feedbackForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">Feedback</h4></div><div class="modal-body"><form class="js-feedback-form-form" action="/feedbacks" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="tyuEtlSVuWbFKCa4x2BPZlf3JDsb8CCOLl3A2E1/FDrDnBEK3Fh7tRJTvc4tINYfJza7hv5ZtJM5Wg6bcTyenw==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/7shi/items/145f1234f8ec2af923ef" /><div class="form-group"><textarea name="feedback[message]" id="feedback_message" class="form-control js-feedback-form-text-area" placeholder="Please give us any feedback about Qiita." required="required" rows="5">
</textarea></div><div class="feedbackForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary feedbackForm_submitButton"><i class="fa fa-send"></i> Submit</button><p class="feedbackForm_note">We don&#39;t reply to any feedback.<br />If you need help with Qiita, please send a support request from <a href="https://increments.zendesk.com/anonymous_requests/new">here</a>.</p></div><div style="position:fixed;top:-99999px;opacity:0.0001;"><input name="feedback[name]" type="text" /></div></form></div></div></div></div><script>// if (window.mixpanel instanceof Element) {
//   window.mixpanel = [];
// }
// (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
// for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);</script><script src="http://cdn.qiita.com/assets/public-cdd058934ecada5328128c0b59af8de8.min.js"></script><script>
  (function () {
    var script = document.getElementsByTagName('script')[0];
    var load = function (src, id) {
      var el = document.createElement('script');
      el.async = true;
      el.src = src;
      el.id = id;
      script.parentNode.insertBefore(el, script);
    };
      // Optimizely
      load('//cdn.optimizely.com/js/52738645.js', 'optimizely-jssdk');
      // Google Analytics
      window._gaq = window._gaq || [];
      var isCareer = location.hostname.split('.')[0] == 'career';
      if (isCareer) {
        window._gaq.push(['_setAccount', 'UA-24675221-11']);
        window._gaq.push(['_setDomainName', 'qiita.com']);
      } else {
        window._gaq.push(['_setAccount', 'UA-24675221-1']);
      }
      window._gaq.push(['_setCustomVar', 1, 'logged_in', 'false', 2]);
      window._gaq.push(['_trackPageview']);
      var src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      load(src, 'google-analytics-jssdk');
    // Google Analytics - Universal Analytics
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-24675221-12', {
          
        });
        ga('set', 'dimension1', 'false');
        ga('set', 'dimension3', 'false');
      ga('require', 'displayfeatures');
      ga('set', 'forceSSL', true);
      ga('send', 'pageview');
    // Google Tag Manager
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-TBQWPN');
  })();
</script>
</body></html>